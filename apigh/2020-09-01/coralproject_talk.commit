{
  "sha": "cc3820fdea39e7b6fbf55c3b7d973b3362387502",
  "node_id": "MDY6Q29tbWl0NzI0NTQyNDI6Y2MzODIwZmRlYTM5ZTdiNmZiZjU1YzNiN2Q5NzNiMzM2MjM4NzUwMg==",
  "commit": {
    "author": {
      "name": "Wyatt Johnson",
      "email": "wyattjoh@gmail.com",
      "date": "2020-08-31T20:49:19Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2020-08-31T20:49:19Z"
    },
    "message": "[CORL-1297] Move Comment Box (#3151)\n\n* feat: move comment box to bottom for oldest first\n\n* fix: replace hard-coded pixles with units\n\nCo-authored-by: kodiakhq[bot] <49736102+kodiakhq[bot]@users.noreply.github.com>",
    "tree": {
      "sha": "d6a59f5dbf7424f788981b3ab42f7692b6c0a637",
      "url": "https://api.github.com/repos/coralproject/talk/git/trees/d6a59f5dbf7424f788981b3ab42f7692b6c0a637"
    },
    "url": "https://api.github.com/repos/coralproject/talk/git/commits/cc3820fdea39e7b6fbf55c3b7d973b3362387502",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfTWJPCRBK7hj4Ov3rIwAAdHIIAGq0/VlPrFt+3JiaEgIOSFWB\nX3ERi6ihM4I/Hjp8uzM4UOQ2nZ83N8TAAhkIXMNNQBeyRLFsDFMyWoyfJ/82QzR+\nX9TEwCdBw/bI+W3nuwGQUnRWfsYbfI0mQl58K3NgGk9f/TNLmz7YNwugIiDAR7y1\n5cPLWtVACa1PxC0uTxGDwHc29V4QkFTKYTTcziy1FrFbnvE5f2fCUbNL8ZZ+zMRN\nIUOHeXO637WSBXhPOquljxhzZGF47A/Hbwg4CL8e58xue4cLMAK1H7FVRBPNFiXD\nL9qmKNNA5dhNj/l6ulCZ82Ma/MA2TVmWsW9EXla61FRbfm4bsCoLfcZFwaWz/VE=\n=wSQV\n-----END PGP SIGNATURE-----\n",
      "payload": "tree d6a59f5dbf7424f788981b3ab42f7692b6c0a637\nparent 1ae5252c0f79f6640d21c67edd1489771900767a\nauthor Wyatt Johnson <wyattjoh@gmail.com> 1598906959 -0600\ncommitter GitHub <noreply@github.com> 1598906959 +0000\n\n[CORL-1297] Move Comment Box (#3151)\n\n* feat: move comment box to bottom for oldest first\n\n* fix: replace hard-coded pixles with units\n\nCo-authored-by: kodiakhq[bot] <49736102+kodiakhq[bot]@users.noreply.github.com>"
    }
  },
  "url": "https://api.github.com/repos/coralproject/talk/commits/cc3820fdea39e7b6fbf55c3b7d973b3362387502",
  "html_url": "https://github.com/coralproject/talk/commit/cc3820fdea39e7b6fbf55c3b7d973b3362387502",
  "comments_url": "https://api.github.com/repos/coralproject/talk/commits/cc3820fdea39e7b6fbf55c3b7d973b3362387502/comments",
  "author": {
    "login": "wyattjoh",
    "id": 633002,
    "node_id": "MDQ6VXNlcjYzMzAwMg==",
    "avatar_url": "https://avatars2.githubusercontent.com/u/633002?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wyattjoh",
    "html_url": "https://github.com/wyattjoh",
    "followers_url": "https://api.github.com/users/wyattjoh/followers",
    "following_url": "https://api.github.com/users/wyattjoh/following{/other_user}",
    "gists_url": "https://api.github.com/users/wyattjoh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wyattjoh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wyattjoh/subscriptions",
    "organizations_url": "https://api.github.com/users/wyattjoh/orgs",
    "repos_url": "https://api.github.com/users/wyattjoh/repos",
    "events_url": "https://api.github.com/users/wyattjoh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wyattjoh/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "1ae5252c0f79f6640d21c67edd1489771900767a",
      "url": "https://api.github.com/repos/coralproject/talk/commits/1ae5252c0f79f6640d21c67edd1489771900767a",
      "html_url": "https://github.com/coralproject/talk/commit/1ae5252c0f79f6640d21c67edd1489771900767a"
    }
  ],
  "stats": {
    "total": 349,
    "additions": 300,
    "deletions": 49
  },
  "files": [
    {
      "sha": "3e0693be4eb167b74f6583da57d3231403e2ef61",
      "filename": "src/core/client/stream/constants.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/constants.ts",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/constants.ts",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/constants.ts?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -1,3 +1,5 @@\n export const COMMENTS_ORDER_BY = \"coral:localState:commentsOrderBy\";\n \n export const VIEWER_STATUS_CONTAINER_ID = \"viewer-status\";\n+\n+export const POST_COMMENT_FORM_ID = \"post-comment-form\";"
    },
    {
      "sha": "64f21e2e8f43807d149287f572bc363e5add0cb6",
      "filename": "src/core/client/stream/tabs/Comments/Stream/AddACommentButton.css",
      "status": "added",
      "additions": 12,
      "deletions": 0,
      "changes": 12,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/AddACommentButton.css",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/AddACommentButton.css",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/tabs/Comments/Stream/AddACommentButton.css?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -0,0 +1,12 @@\n+.root {\n+  text-align: center;\n+}\n+\n+.button {\n+  color: var(--palette-primary-500);\n+  margin: var(--spacing-4) auto;\n+}\n+\n+.icon {\n+  margin-right: var(--spacing-1);\n+}"
    },
    {
      "sha": "c13c94b00069b8990d39e4d87170aac4976a83e0",
      "filename": "src/core/client/stream/tabs/Comments/Stream/AddACommentButton.tsx",
      "status": "added",
      "additions": 38,
      "deletions": 0,
      "changes": 38,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/AddACommentButton.tsx",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/AddACommentButton.tsx",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/tabs/Comments/Stream/AddACommentButton.tsx?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -0,0 +1,38 @@\n+import React, { FunctionComponent, useCallback } from \"react\";\n+\n+import { POST_COMMENT_FORM_ID } from \"coral-stream/constants\";\n+import { Flex, Icon } from \"coral-ui/components/v2\";\n+import { Button } from \"coral-ui/components/v3\";\n+\n+import styles from \"./AddACommentButton.css\";\n+\n+const AddACommentButton: FunctionComponent = () => {\n+  const onClick = useCallback(() => {\n+    const element = document.getElementById(POST_COMMENT_FORM_ID);\n+    if (!element) {\n+      return;\n+    }\n+\n+    element.scrollIntoView({ behavior: \"smooth\" });\n+  }, []);\n+\n+  return (\n+    <div className={styles.root}>\n+      <Button\n+        variant=\"outlined\"\n+        color=\"primary\"\n+        paddingSize=\"small\"\n+        upperCase\n+        className={styles.button}\n+        onClick={onClick}\n+      >\n+        <Flex alignItems=\"center\">\n+          <Icon className={styles.icon}>create</Icon>\n+          <span>Add a Comment</span>\n+        </Flex>\n+      </Button>\n+    </div>\n+  );\n+};\n+\n+export default AddACommentButton;"
    },
    {
      "sha": "1a88e1687996f03b27c2cc90fc5af8caf57e033c",
      "filename": "src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsLinks.css",
      "status": "added",
      "additions": 35,
      "deletions": 0,
      "changes": 35,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsLinks.css",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsLinks.css",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsLinks.css?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -0,0 +1,35 @@\n+$linkColor: var(--palette-primary-500);\n+$linkColorHovered: var(--palette-primary-700);\n+$linkColorActive: var(--palette-primary-800);\n+\n+.link {\n+  margin-right: var(--spacing-4);\n+\n+  &.sizeRegular {\n+    padding: 0;\n+  }\n+  &.colorRegular {\n+    color: $linkColor;\n+  }\n+\n+  &:not(.disabled) {\n+    &.colorRegular {\n+      &.mouseHover {\n+        color: $linkColorHovered;\n+      }\n+      &.active,\n+      &:active {\n+        color: $linkColorActive;\n+      }\n+    }\n+  }\n+}\n+\n+.icon {\n+  margin-right: var(--spacing-1);\n+}\n+\n+.border {\n+  border-top: 1px solid var(--palette-grey-300);\n+  padding-top: var(--spacing-2);\n+}"
    },
    {
      "sha": "7144efa4c697f7be8e050808dd37ff5d5eec71e9",
      "filename": "src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsLinks.tsx",
      "status": "added",
      "additions": 59,
      "deletions": 0,
      "changes": 59,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsLinks.tsx",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsLinks.tsx",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsLinks.tsx?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -0,0 +1,59 @@\n+import React, { FunctionComponent, useCallback } from \"react\";\n+\n+import { useCoralContext } from \"coral-framework/lib/bootstrap\";\n+import { Button, Icon } from \"coral-ui/components/v2\";\n+\n+import styles from \"./AllCommentsLinks.css\";\n+\n+const AllCommentsLinks: FunctionComponent = () => {\n+  const { pym } = useCoralContext();\n+  const onGoToArticleTop = useCallback(() => {\n+    if (!pym) {\n+      return;\n+    }\n+\n+    pym.scrollParentTo(\"\");\n+  }, [pym]);\n+  const onGoToCommentsTop = useCallback(() => {\n+    document.body.scrollIntoView({ behavior: \"smooth\" });\n+  }, []);\n+\n+  const classes = {\n+    sizeRegular: styles.sizeRegular,\n+    colorRegular: styles.colorRegular,\n+    active: styles.active,\n+    mouseHover: styles.mouseHover,\n+    disabled: styles.disabled,\n+  };\n+\n+  return (\n+    <div className={styles.border}>\n+      <Button\n+        className={styles.link}\n+        title=\"Go to top of comments\"\n+        onClick={onGoToCommentsTop}\n+        variant=\"textUnderlined\"\n+        color=\"regular\"\n+        classes={classes}\n+        uppercase={false}\n+      >\n+        <Icon className={styles.icon}>forum</Icon>\n+        <span>Top of comments</span>\n+      </Button>\n+      <Button\n+        className={styles.link}\n+        title=\"Go to top of article\"\n+        onClick={onGoToArticleTop}\n+        variant=\"textUnderlined\"\n+        color=\"regular\"\n+        classes={classes}\n+        uppercase={false}\n+      >\n+        <Icon className={styles.icon}>description</Icon>\n+        <span>Top of article</span>\n+      </Button>\n+    </div>\n+  );\n+};\n+\n+export default AllCommentsLinks;"
    },
    {
      "sha": "d213d71b571c38a258ce8e27b3a5487e8c7dd57f",
      "filename": "src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsTabContainer.tsx",
      "status": "modified",
      "additions": 53,
      "deletions": 5,
      "changes": 58,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsTabContainer.tsx",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsTabContainer.tsx",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/tabs/Comments/Stream/AllCommentsTab/AllCommentsTabContainer.tsx?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -14,7 +14,12 @@ import {\n   useSubscription,\n   withPaginationContainer,\n } from \"coral-framework/lib/relay\";\n-import { GQLCOMMENT_SORT, GQLSTORY_MODE } from \"coral-framework/schema\";\n+import {\n+  GQLCOMMENT_SORT,\n+  GQLFEATURE_FLAG,\n+  GQLSTORY_MODE,\n+  GQLUSER_STATUS,\n+} from \"coral-framework/schema\";\n import { PropTypesOf } from \"coral-framework/types\";\n import CLASSES from \"coral-stream/classes\";\n import { LoadMoreAllCommentsEvent } from \"coral-stream/events\";\n@@ -31,6 +36,8 @@ import { CommentContainer } from \"../../Comment\";\n import CollapsableComment from \"../../Comment/CollapsableComment\";\n import IgnoredTombstoneOrHideContainer from \"../../IgnoredTombstoneOrHideContainer\";\n import { ReplyListContainer } from \"../../ReplyList\";\n+import { PostCommentFormContainer } from \"../PostCommentForm\";\n+import AllCommentsLinks from \"./AllCommentsLinks\";\n import AllCommentsTabViewNewMutation from \"./AllCommentsTabViewNewMutation\";\n import CommentCreatedSubscription from \"./CommentCreatedSubscription\";\n import CommentReleasedSubscription from \"./CommentReleasedSubscription\";\n@@ -143,9 +150,33 @@ export const AllCommentsTabContainer: FunctionComponent<Props> = ({\n     viewMore,\n   ]);\n   const viewNewCount = story.comments.viewNewEdges?.length || 0;\n+\n+  // TODO: extract to separate function\n+  const banned = !!viewer?.status.current.includes(GQLUSER_STATUS.BANNED);\n+  const suspended = !!viewer?.status.current.includes(GQLUSER_STATUS.SUSPENDED);\n+  const warned = !!viewer?.status.current.includes(GQLUSER_STATUS.WARNED);\n+\n+  const alternateOldestViewEnabled =\n+    settings.featureFlags.includes(\n+      GQLFEATURE_FLAG.ALTERNATE_OLDEST_FIRST_VIEW\n+    ) &&\n+    commentsOrderBy === GQLCOMMENT_SORT.CREATED_AT_ASC &&\n+    !story.isClosed &&\n+    !settings.disableCommenting.enabled;\n+\n+  const showCommentForm =\n+    // If we do have the alternate view enabled and...\n+    alternateOldestViewEnabled &&\n+    // If we aren't banned and...\n+    !banned &&\n+    // If we aren't suspended and...\n+    !suspended &&\n+    // If we aren't warned.\n+    !warned;\n+\n   return (\n     <>\n-      {Boolean(viewNewCount && viewNewCount > 0) && (\n+      {viewNewCount > 0 && (\n         <Box mb={4} clone>\n           <Button\n             variant=\"outlined\"\n@@ -180,18 +211,19 @@ export const AllCommentsTabContainer: FunctionComponent<Props> = ({\n           ></NoComments>\n         )}\n         {story.comments.edges.length > 0 &&\n-          story.comments.edges.map(({ node: comment }) => (\n+          story.comments.edges.map(({ node: comment }, index) => (\n             <IgnoredTombstoneOrHideContainer\n               key={comment.id}\n               viewer={viewer}\n               comment={comment}\n             >\n-              <FadeInTransition active={Boolean(comment.enteredLive)}>\n+              <FadeInTransition active={!!comment.enteredLive}>\n                 <CollapsableComment>\n                   {({ collapsed, toggleCollapsed }) => (\n                     <HorizontalGutter\n                       className={cn({\n-                        [styles.borderedComment]: !collapsed,\n+                        [styles.borderedComment]:\n+                          !collapsed && index < story.comments.edges.length - 1,\n                       })}\n                     >\n                       <CommentContainer\n@@ -236,6 +268,19 @@ export const AllCommentsTabContainer: FunctionComponent<Props> = ({\n           </Localized>\n         )}\n       </HorizontalGutter>\n+      {alternateOldestViewEnabled && (\n+        <HorizontalGutter mt={6} spacing={6}>\n+          {showCommentForm && (\n+            <PostCommentFormContainer\n+              story={story}\n+              settings={settings}\n+              viewer={viewer}\n+              commentsOrderBy={commentsOrderBy}\n+            />\n+          )}\n+          <AllCommentsLinks />\n+        </HorizontalGutter>\n+      )}\n     </>\n   );\n };\n@@ -298,6 +343,7 @@ const enhanced = withPaginationContainer<\n         ...CreateCommentReplyMutation_viewer\n         ...CreateCommentMutation_viewer\n         ...IgnoredTombstoneOrHideContainer_viewer\n+        ...PostCommentFormContainer_viewer\n         status {\n           current\n         }\n@@ -311,8 +357,10 @@ const enhanced = withPaginationContainer<\n         disableCommenting {\n           enabled\n         }\n+        featureFlags\n         ...ReplyListContainer1_settings\n         ...CommentContainer_settings\n+        ...PostCommentFormContainer_settings\n       }\n     `,\n   },"
    },
    {
      "sha": "8865f68b83b9b441898dbef4e844a823402a4344",
      "filename": "src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentForm.tsx",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentForm.tsx",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentForm.tsx",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentForm.tsx?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -8,6 +8,7 @@ import { FormError, OnSubmit } from \"coral-framework/lib/form\";\n import { GQLSTORY_MODE } from \"coral-framework/schema\";\n import { PropTypesOf } from \"coral-framework/types\";\n import CLASSES from \"coral-stream/classes\";\n+import { POST_COMMENT_FORM_ID } from \"coral-stream/constants\";\n import { CreateCommentFocusEvent } from \"coral-stream/events\";\n import { AriaInfo } from \"coral-ui/components/v2\";\n \n@@ -60,7 +61,7 @@ const PostCommentForm: FunctionComponent<Props> = (props) => {\n     emitFocusEvent();\n   }, [emitFocusEvent]);\n   return (\n-    <div className={CLASSES.createComment.$root}>\n+    <div id={POST_COMMENT_FORM_ID} className={CLASSES.createComment.$root}>\n       {props.showMessageBox && (\n         <MessageBoxContainer\n           story={props.story}"
    },
    {
      "sha": "1e0e174bf79e026dab2d37f1cb910d0c44b8cb66",
      "filename": "src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentFormContainer.tsx",
      "status": "modified",
      "additions": 7,
      "deletions": 3,
      "changes": 10,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentFormContainer.tsx",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentFormContainer.tsx",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentFormContainer.tsx?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -58,8 +58,8 @@ interface Props {\n   viewer: PostCommentFormContainer_viewer | null;\n   story: PostCommentFormContainer_story;\n   showAuthPopup: ShowAuthPopupMutation;\n-  tab: COMMENTS_TAB;\n-  onChangeTab: (tab: COMMENTS_TAB) => void;\n+  tab?: COMMENTS_TAB;\n+  onChangeTab?: (tab: COMMENTS_TAB) => void;\n   commentsOrderBy?: COMMENT_SORT;\n }\n \n@@ -129,7 +129,11 @@ export class PostCommentFormContainer extends Component<Props, State> {\n     form\n   ) => {\n     try {\n-      if (this.props.tab === \"FEATURED_COMMENTS\") {\n+      if (\n+        this.props.tab &&\n+        this.props.tab === \"FEATURED_COMMENTS\" &&\n+        this.props.onChangeTab\n+      ) {\n         this.props.onChangeTab(\"ALL_COMMENTS\");\n       }\n "
    },
    {
      "sha": "d3e51c04e12793ea6d8fc82ed5971ece9d3c67d6",
      "filename": "src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentFormFake.tsx",
      "status": "modified",
      "additions": 18,
      "deletions": 11,
      "changes": 29,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentFormFake.tsx",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentFormFake.tsx",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/PostCommentFormFake.tsx?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -6,6 +6,7 @@ import { useViewerEvent } from \"coral-framework/lib/events\";\n import { GQLSTORY_MODE } from \"coral-framework/schema\";\n import { PropTypesOf } from \"coral-framework/types\";\n import CLASSES from \"coral-stream/classes\";\n+import { POST_COMMENT_FORM_ID } from \"coral-stream/constants\";\n import { CreateCommentFocusEvent } from \"coral-stream/events\";\n import { HorizontalGutter } from \"coral-ui/components/v2\";\n import { Button } from \"coral-ui/components/v3\";\n@@ -30,21 +31,27 @@ interface Props {\n   rteConfig: PropTypesOf<typeof RTEContainer>[\"config\"];\n }\n \n-const PostCommentFormFake: FunctionComponent<Props> = (props) => {\n+const PostCommentFormFake: FunctionComponent<Props> = ({\n+  showMessageBox,\n+  story,\n+  draft,\n+  onDraftChange,\n+  onSignIn,\n+  rteConfig,\n+}) => {\n   const emitFocusEvent = useViewerEvent(CreateCommentFocusEvent);\n   const onFocus = useCallback(() => {\n     emitFocusEvent();\n   }, [emitFocusEvent]);\n-  const onChange = useCallback((html: string) => props.onDraftChange(html), [\n-    props.onDraftChange,\n+  const onChange = useCallback((html: string) => onDraftChange(html), [\n+    onDraftChange,\n   ]);\n-  const isQA =\n-    props.story.settings && props.story.settings.mode === GQLSTORY_MODE.QA;\n+  const isQA = story.settings && story.settings.mode === GQLSTORY_MODE.QA;\n   return (\n-    <div className={CLASSES.createComment.$root}>\n-      {props.showMessageBox && (\n+    <div id={POST_COMMENT_FORM_ID} className={CLASSES.createComment.$root}>\n+      {showMessageBox && (\n         <MessageBoxContainer\n-          story={props.story}\n+          story={story}\n           className={cn(CLASSES.createComment.message, styles.messageBox)}\n         />\n       )}\n@@ -59,9 +66,9 @@ const PostCommentFormFake: FunctionComponent<Props> = (props) => {\n             attrs={{ placeholder: true }}\n           >\n             <RTEContainer\n-              config={props.rteConfig}\n+              config={rteConfig}\n               placeholder={isQA ? \"Post a question\" : \"Post a comment\"}\n-              value={props.draft}\n+              value={draft}\n               onChange={onChange}\n               onFocus={onFocus}\n             />\n@@ -74,7 +81,7 @@ const PostCommentFormFake: FunctionComponent<Props> = (props) => {\n             variant=\"filled\"\n             type=\"submit\"\n             fullWidth\n-            onClick={props.onSignIn}\n+            onClick={onSignIn}\n           >\n             Sign in and join the conversation\n           </Button>"
    },
    {
      "sha": "b5965054701ff804c4c35c0941aeaa44faf1da40",
      "filename": "src/core/client/stream/tabs/Comments/Stream/PostCommentForm/__snapshots__/PostCommentFormFake.spec.tsx.snap",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/__snapshots__/PostCommentFormFake.spec.tsx.snap",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/__snapshots__/PostCommentFormFake.spec.tsx.snap",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/tabs/Comments/Stream/PostCommentForm/__snapshots__/PostCommentFormFake.spec.tsx.snap?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -3,6 +3,7 @@\n exports[`renders correctly 1`] = `\n <div\n   className=\"coral coral-createComment\"\n+  id=\"post-comment-form\"\n >\n   <Relay(MessageBoxContainer)\n     className=\"coral coral-createComment-message PostCommentFormFake-messageBox\""
    },
    {
      "sha": "869283539649acf9219aaec60991e42e53e428c0",
      "filename": "src/core/client/stream/tabs/Comments/Stream/StreamContainer.tsx",
      "status": "modified",
      "additions": 55,
      "deletions": 24,
      "changes": 79,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/StreamContainer.tsx",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/tabs/Comments/Stream/StreamContainer.tsx",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/tabs/Comments/Stream/StreamContainer.tsx?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -7,7 +7,12 @@ import { useCoralContext } from \"coral-framework/lib/bootstrap\";\n import { useViewerEvent } from \"coral-framework/lib/events\";\n import { IntersectionProvider } from \"coral-framework/lib/intersection\";\n import { useLocal, withFragmentContainer } from \"coral-framework/lib/relay\";\n-import { GQLSTORY_MODE, GQLUSER_STATUS } from \"coral-framework/schema\";\n+import {\n+  GQLCOMMENT_SORT,\n+  GQLFEATURE_FLAG,\n+  GQLSTORY_MODE,\n+  GQLUSER_STATUS,\n+} from \"coral-framework/schema\";\n import CLASSES from \"coral-stream/classes\";\n import { UserBoxContainer } from \"coral-stream/common/UserBox\";\n import {\n@@ -39,6 +44,7 @@ import {\n } from \"coral-stream/__generated__/StreamContainerLocal.graphql\";\n \n import ModerateStreamContainer from \"../../../common/ModerateStream/ModerateStreamContainer\";\n+import AddACommentButton from \"./AddACommentButton\";\n import AllCommentsTab from \"./AllCommentsTab\";\n import AnnouncementContainer from \"./Announcement\";\n import AnsweredComments from \"./AnsweredCommentsTab\";\n@@ -139,23 +145,36 @@ export const StreamContainer: FunctionComponent<Props> = (props) => {\n     [local.commentsTab, setLocal, emitSetCommentsTabEvent]\n   );\n \n-  const isBanned = !!props.viewer?.status.current.includes(\n-    GQLUSER_STATUS.BANNED\n-  );\n-\n-  const isSuspended = !!props.viewer?.status.current.includes(\n+  // TODO: extract to separate function\n+  const banned = !!props.viewer?.status.current.includes(GQLUSER_STATUS.BANNED);\n+  const suspended = !!props.viewer?.status.current.includes(\n     GQLUSER_STATUS.SUSPENDED\n   );\n-\n-  const isWarned = !!props.viewer?.status.current.includes(\n-    GQLUSER_STATUS.WARNED\n-  );\n+  const warned = !!props.viewer?.status.current.includes(GQLUSER_STATUS.WARNED);\n \n   const allCommentsCount = props.story.commentCounts.totalPublished;\n   const featuredCommentsCount = props.story.commentCounts.tags.FEATURED;\n   const unansweredCommentsCount = props.story.commentCounts.tags.UNANSWERED;\n   const isQA = props.story.settings.mode === GQLSTORY_MODE.QA;\n \n+  // The alternate view is only enabled when we have the feature flag, the sort\n+  // as oldest first, the story is not closed, and comments are not disabled.\n+  const alternateOldestViewEnabled =\n+    props.settings.featureFlags.includes(\n+      GQLFEATURE_FLAG.ALTERNATE_OLDEST_FIRST_VIEW\n+    ) &&\n+    local.commentsOrderBy === GQLCOMMENT_SORT.CREATED_AT_ASC &&\n+    !props.story.isClosed &&\n+    !props.settings.disableCommenting.enabled;\n+\n+  const showCommentForm =\n+    // If we aren't banned and...\n+    !banned &&\n+    // If we aren't suspended and...\n+    !suspended &&\n+    // If we aren't warned.\n+    !warned;\n+\n   // Emit comment count event.\n   useCommentCountEvent(props.story.id, props.story.url, allCommentsCount);\n \n@@ -210,26 +229,29 @@ export const StreamContainer: FunctionComponent<Props> = (props) => {\n           <StreamDeletionRequestCalloutContainer viewer={props.viewer} />\n         )}\n         <CommunityGuidelinesContainer settings={props.settings} />\n-        {!isBanned && !isSuspended && !isWarned && (\n-          <PostCommentFormContainer\n-            settings={props.settings}\n-            story={props.story}\n-            viewer={props.viewer}\n-            tab={local.commentsTab}\n-            onChangeTab={onChangeTab}\n-            commentsOrderBy={local.commentsOrderBy}\n-          />\n-        )}\n-        {(isBanned || isWarned || isSuspended) && (\n+        {showCommentForm &&\n+          (alternateOldestViewEnabled ? (\n+            <AddACommentButton />\n+          ) : (\n+            <PostCommentFormContainer\n+              settings={props.settings}\n+              story={props.story}\n+              viewer={props.viewer}\n+              tab={local.commentsTab}\n+              onChangeTab={onChangeTab}\n+              commentsOrderBy={local.commentsOrderBy}\n+            />\n+          ))}\n+        {(banned || warned || suspended) && (\n           <div id={VIEWER_STATUS_CONTAINER_ID}>\n-            {isBanned && <BannedInfo />}\n-            {isSuspended && (\n+            {banned && <BannedInfo />}\n+            {suspended && (\n               <SuspendedInfoContainer\n                 viewer={props.viewer}\n                 settings={props.settings}\n               />\n             )}\n-            {isWarned && <WarningContainer viewer={props.viewer} />}\n+            {warned && <WarningContainer viewer={props.viewer} />}\n           </div>\n         )}\n         <IntersectionProvider>\n@@ -424,6 +446,7 @@ const enhanced = withFragmentContainer<Props>({\n     fragment StreamContainer_story on Story {\n       id\n       url\n+      isClosed\n       settings {\n         mode\n       }\n@@ -463,12 +486,20 @@ const enhanced = withFragmentContainer<Props>({\n       reaction {\n         sortLabel\n       }\n+      featureFlags\n+      disableCommenting {\n+        enabled\n+      }\n       ...AnnouncementContainer_settings\n       ...CommunityGuidelinesContainer_settings\n+      ...CommunityGuidelinesContainer_settings\n       ...ModerateStreamContainer_settings\n       ...PostCommentFormContainer_settings\n+      ...PostCommentFormContainer_settings\n       ...PreviousCountSpyContainer_settings\n       ...SuspendedInfoContainer_settings\n+      ...SuspendedInfoContainer_settings\n+      ...UserBoxContainer_settings\n       ...UserBoxContainer_settings\n       ...ViewersWatchingContainer_settings\n     }"
    },
    {
      "sha": "8a498b35a81ab8a4d10bf7f13fada1d0ebe3a52a",
      "filename": "src/core/client/stream/test/comments/featured/__snapshots__/renderFeaturedStream.spec.tsx.snap",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/featured/__snapshots__/renderFeaturedStream.spec.tsx.snap",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/featured/__snapshots__/renderFeaturedStream.spec.tsx.snap",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/test/comments/featured/__snapshots__/renderFeaturedStream.spec.tsx.snap?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -112,6 +112,7 @@ exports[`renders comment stream 1`] = `\n         </div>\n         <div\n           className=\"coral coral-createComment\"\n+          id=\"post-comment-form\"\n         >\n           <div\n             className=\"Box-root HorizontalGutter-root PostCommentFormFake-root HorizontalGutter-full\""
    },
    {
      "sha": "b88d4456059a5ff14ddcaf57acdfa6620b048145",
      "filename": "src/core/client/stream/test/comments/stream/__snapshots__/loadMore.spec.tsx.snap",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/loadMore.spec.tsx.snap",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/loadMore.spec.tsx.snap",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/test/comments/stream/__snapshots__/loadMore.spec.tsx.snap?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -281,7 +281,7 @@ exports[`renders comment stream with load more button 1`] = `\n     />\n   </div>\n   <div\n-    className=\"Box-root HorizontalGutter-root AllCommentsTabContainer-borderedComment HorizontalGutter-full\"\n+    className=\"Box-root HorizontalGutter-root HorizontalGutter-full\"\n   >\n     <div\n       className=\"coral coral-comment coral coral-reacted-0\""
    },
    {
      "sha": "7010d0934fe92cad5f56c8ca1ecc84f68bbabe70",
      "filename": "src/core/client/stream/test/comments/stream/__snapshots__/postLocalReply.spec.tsx.snap",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/postLocalReply.spec.tsx.snap",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/postLocalReply.spec.tsx.snap",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/test/comments/stream/__snapshots__/postLocalReply.spec.tsx.snap?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -816,7 +816,7 @@ exports[`renders comment stream 1`] = `\n   role=\"log\"\n >\n   <div\n-    className=\"Box-root HorizontalGutter-root AllCommentsTabContainer-borderedComment HorizontalGutter-full\"\n+    className=\"Box-root HorizontalGutter-root HorizontalGutter-full\"\n   >\n     <div\n       className=\"coral coral-comment coral coral-reacted-0\""
    },
    {
      "sha": "851220dd3b4ebd6326a384bdaa3f1f14d6dccb89",
      "filename": "src/core/client/stream/test/comments/stream/__snapshots__/renderCommunityGuidelines.spec.tsx.snap",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/renderCommunityGuidelines.spec.tsx.snap",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/renderCommunityGuidelines.spec.tsx.snap",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/test/comments/stream/__snapshots__/renderCommunityGuidelines.spec.tsx.snap?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -74,6 +74,7 @@ exports[`renders comment stream with community guidelines 1`] = `\n     </div>\n     <div\n       className=\"coral coral-createComment\"\n+      id=\"post-comment-form\"\n     >\n       <div\n         className=\"Box-root HorizontalGutter-root PostCommentFormFake-root HorizontalGutter-full\"\n@@ -593,7 +594,7 @@ exports[`renders comment stream with community guidelines 1`] = `\n             />\n           </div>\n           <div\n-            className=\"Box-root HorizontalGutter-root AllCommentsTabContainer-borderedComment HorizontalGutter-full\"\n+            className=\"Box-root HorizontalGutter-root HorizontalGutter-full\"\n           >\n             <div\n               className=\"coral coral-comment coral coral-reacted-0\""
    },
    {
      "sha": "c3bc71f85b67029e7450e98f98850d2039ccc39e",
      "filename": "src/core/client/stream/test/comments/stream/__snapshots__/renderMessageBox.spec.tsx.snap",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/renderMessageBox.spec.tsx.snap",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/renderMessageBox.spec.tsx.snap",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/test/comments/stream/__snapshots__/renderMessageBox.spec.tsx.snap?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -313,6 +313,7 @@ exports[`renders message box when logged in 1`] = `\n     </div>\n     <div\n       className=\"coral coral-createComment\"\n+      id=\"post-comment-form\"\n     >\n       <div\n         className=\"MessageBox-root coral coral-createComment-message PostCommentForm-messageBox\"\n@@ -677,6 +678,7 @@ exports[`renders message box when not logged in 1`] = `\n     </div>\n     <div\n       className=\"coral coral-createComment\"\n+      id=\"post-comment-form\"\n     >\n       <div\n         className=\"MessageBox-root coral coral-createComment-message PostCommentFormFake-messageBox\""
    },
    {
      "sha": "4d8d7fa293d984c7d94da100c7cd5d0b450ddba4",
      "filename": "src/core/client/stream/test/comments/stream/__snapshots__/renderStream.spec.tsx.snap",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/renderStream.spec.tsx.snap",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/renderStream.spec.tsx.snap",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/test/comments/stream/__snapshots__/renderStream.spec.tsx.snap?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -112,6 +112,7 @@ exports[`renders comment stream 1`] = `\n         </div>\n         <div\n           className=\"coral coral-createComment\"\n+          id=\"post-comment-form\"\n         >\n           <div\n             className=\"Box-root HorizontalGutter-root PostCommentFormFake-root HorizontalGutter-full\"\n@@ -631,7 +632,7 @@ exports[`renders comment stream 1`] = `\n                 />\n               </div>\n               <div\n-                className=\"Box-root HorizontalGutter-root AllCommentsTabContainer-borderedComment HorizontalGutter-full\"\n+                className=\"Box-root HorizontalGutter-root HorizontalGutter-full\"\n               >\n                 <div\n                   className=\"coral coral-comment coral coral-reacted-0\""
    },
    {
      "sha": "b97179cc7eb383e685c9e1f0c257b0b80305c4b0",
      "filename": "src/core/client/stream/test/comments/stream/__snapshots__/sortStream.spec.tsx.snap",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/sortStream.spec.tsx.snap",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/client/stream/test/comments/stream/__snapshots__/sortStream.spec.tsx.snap",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/client/stream/test/comments/stream/__snapshots__/sortStream.spec.tsx.snap?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -281,7 +281,7 @@ exports[`renders app with comment stream 1`] = `\n     />\n   </div>\n   <div\n-    className=\"Box-root HorizontalGutter-root AllCommentsTabContainer-borderedComment HorizontalGutter-full\"\n+    className=\"Box-root HorizontalGutter-root HorizontalGutter-full\"\n   >\n     <div\n       className=\"coral coral-comment coral coral-reacted-0\""
    },
    {
      "sha": "a2c5af8663122f2d643c699fe7793c2c1f7a9200",
      "filename": "src/core/server/graph/resolvers/Settings.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/server/graph/resolvers/Settings.ts",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/server/graph/resolvers/Settings.ts",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/server/graph/resolvers/Settings.ts?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -24,6 +24,8 @@ const FEATURE_FLAGS = Object.values(GQLFEATURE_FLAG);\n  * by a user with non-staff permissions.\n  */\n const PUBLIC_FEATURE_FLAGS = [\n+  GQLFEATURE_FLAG.AVATARS,\n+  GQLFEATURE_FLAG.ALTERNATE_OLDEST_FIRST_VIEW,\n   GQLFEATURE_FLAG.DISCUSSIONS,\n   GQLFEATURE_FLAG.READ_MORE_NEW_TAB,\n   GQLFEATURE_FLAG.AVATARS,"
    },
    {
      "sha": "dbe0e35e3e41f3f4aca7eb43174cbd72629f4bff",
      "filename": "src/core/server/graph/schema/schema.graphql",
      "status": "modified",
      "additions": 6,
      "deletions": 0,
      "changes": 6,
      "blob_url": "https://github.com/coralproject/talk/blob/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/server/graph/schema/schema.graphql",
      "raw_url": "https://github.com/coralproject/talk/raw/cc3820fdea39e7b6fbf55c3b7d973b3362387502/src/core/server/graph/schema/schema.graphql",
      "contents_url": "https://api.github.com/repos/coralproject/talk/contents/src/core/server/graph/schema/schema.graphql?ref=cc3820fdea39e7b6fbf55c3b7d973b3362387502",
      "patch": "@@ -445,6 +445,12 @@ enum FEATURE_FLAG {\n   count.\n   \"\"\"\n   VIEWER_COUNT\n+\n+  \"\"\"\n+  ALTERNATE_OLDEST_FIRST_VIEW when enabled will move the create comment form to\n+  the bottom of the stream when sorting the comment stream by oldest first.\n+  \"\"\"\n+  ALTERNATE_OLDEST_FIRST_VIEW\n }\n \n # The moderation mode of the site."
    }
  ]
}
