{
  "sha": "e3b4632f04693ea6c39d22779ddf09ad6b5367ee",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODplM2I0NjMyZjA0NjkzZWE2YzM5ZDIyNzc5ZGRmMDlhZDZiNTM2N2Vl",
  "commit": {
    "author": {
      "name": "Guo Xiang Tan",
      "email": "gxtan1990@gmail.com",
      "date": "2020-09-15T03:38:40Z"
    },
    "committer": {
      "name": "Guo Xiang Tan",
      "email": "gxtan1990@gmail.com",
      "date": "2020-09-15T03:38:40Z"
    },
    "message": "Revert \"Create proper shim for xss library\"\n\nThis reverts commit 30e91125356e3e034bd804d4725065e327280ad4.",
    "tree": {
      "sha": "0477f3d3a355d57d3672d5fc1522575a4e58c7da",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/0477f3d3a355d57d3672d5fc1522575a4e58c7da"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/e3b4632f04693ea6c39d22779ddf09ad6b5367ee",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMOJGkc46I9vMVlDg+9EQF5qsHyAFAl9gN0UACgkQ+9EQF5qs\nHyC3HA//UQem5K4AhV4BlcF1g1ZpN0UtyXhs25tLB0/oVa/wIrxr9+TrvieeHLYY\nLEWfy5E1FQx5ju2pmF/Lg4I3qLAnLlWMe16LojXc86cYvxY0tDxLG1nkjIxw42y4\nrZ2/e6JNoYZ12cFFelm7Nw5AclJ8WFlHZqJ5K3Vv5OBvVaG0o0biBejT75MwVbyc\nwdpJELo2f81WONye8AHr1cIIs+U47BvApyGYItC3qGrGKLRulhqO6pioHpw/VK1d\n4L1z0+53RI1iDNZFf4fhpoa1daGli9DD0cO1cY/D0yEUkZInTTGXVOnsE8HY/1aq\naFOvDXFKmbqi8yUaqT+CVPbaYPKhtknwlpZmebnOjYTtvOOa9rKuk2VXWKIf2s7I\nizkgXjw3atr7vlBzo4cY7Ico97r92AHUqH8dWszecnu0t+xf4S3oY0JtGMRHtPXR\nuMrpP7oi1kogC2CPp93blttAdWDyeZoeo3dupmukfnKc/ZUDFWyfMOx+dVnFVM4j\nbZGagPQAWZoQe8+SCQJzAKkY7peeAIhHMFt9suM0GBI94HFM6+qNYCdxHlTEekem\nOBpT75wyGBilF0pgVBjlMKUoIWAXWXcbRtJVs3tiCkuHtYDDwxhz450xStur9Efp\nscKcKSralvd7Zh/HznlzqbKKPf0Z1ve0rm67flVOMosLOrhZTxg=\n=SO+O\n-----END PGP SIGNATURE-----",
      "payload": "tree 0477f3d3a355d57d3672d5fc1522575a4e58c7da\nparent b2f556232f80b621ef0477e5ffb0adedb1bbfd0a\nauthor Guo Xiang Tan <gxtan1990@gmail.com> 1600141120 +0800\ncommitter Guo Xiang Tan <gxtan1990@gmail.com> 1600141120 +0800\n\nRevert \"Create proper shim for xss library\"\n\nThis reverts commit 30e91125356e3e034bd804d4725065e327280ad4.\n"
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/e3b4632f04693ea6c39d22779ddf09ad6b5367ee",
  "html_url": "https://github.com/discourse/discourse/commit/e3b4632f04693ea6c39d22779ddf09ad6b5367ee",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/e3b4632f04693ea6c39d22779ddf09ad6b5367ee/comments",
  "author": {
    "login": "tgxworld",
    "id": 4335742,
    "node_id": "MDQ6VXNlcjQzMzU3NDI=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/4335742?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tgxworld",
    "html_url": "https://github.com/tgxworld",
    "followers_url": "https://api.github.com/users/tgxworld/followers",
    "following_url": "https://api.github.com/users/tgxworld/following{/other_user}",
    "gists_url": "https://api.github.com/users/tgxworld/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tgxworld/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tgxworld/subscriptions",
    "organizations_url": "https://api.github.com/users/tgxworld/orgs",
    "repos_url": "https://api.github.com/users/tgxworld/repos",
    "events_url": "https://api.github.com/users/tgxworld/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tgxworld/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tgxworld",
    "id": 4335742,
    "node_id": "MDQ6VXNlcjQzMzU3NDI=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/4335742?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tgxworld",
    "html_url": "https://github.com/tgxworld",
    "followers_url": "https://api.github.com/users/tgxworld/followers",
    "following_url": "https://api.github.com/users/tgxworld/following{/other_user}",
    "gists_url": "https://api.github.com/users/tgxworld/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tgxworld/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tgxworld/subscriptions",
    "organizations_url": "https://api.github.com/users/tgxworld/orgs",
    "repos_url": "https://api.github.com/users/tgxworld/repos",
    "events_url": "https://api.github.com/users/tgxworld/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tgxworld/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "b2f556232f80b621ef0477e5ffb0adedb1bbfd0a",
      "url": "https://api.github.com/repos/discourse/discourse/commits/b2f556232f80b621ef0477e5ffb0adedb1bbfd0a",
      "html_url": "https://github.com/discourse/discourse/commit/b2f556232f80b621ef0477e5ffb0adedb1bbfd0a"
    }
  ],
  "stats": {
    "total": 9,
    "additions": 4,
    "deletions": 5
  },
  "files": [
    {
      "sha": "d6ccfbeea1169539052db21034eabdb61a2ee3f1",
      "filename": "app/assets/javascripts/discourse-shims.js",
      "status": "modified",
      "additions": 0,
      "deletions": 4,
      "changes": 4,
      "blob_url": "https://github.com/discourse/discourse/blob/e3b4632f04693ea6c39d22779ddf09ad6b5367ee/app/assets/javascripts/discourse-shims.js",
      "raw_url": "https://github.com/discourse/discourse/raw/e3b4632f04693ea6c39d22779ddf09ad6b5367ee/app/assets/javascripts/discourse-shims.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse-shims.js?ref=e3b4632f04693ea6c39d22779ddf09ad6b5367ee",
      "patch": "@@ -25,10 +25,6 @@ define(\"bootbox\", [\"exports\"], function (__exports__) {\n   __exports__.default = window.bootbox;\n });\n \n-define(\"xss\", [\"exports\"], function (__exports__) {\n-  __exports__.default = window.filterXSS;\n-});\n-\n define(\"mousetrap\", [\"exports\"], function (__exports__) {\n   __exports__.default = window.Mousetrap;\n });"
    },
    {
      "sha": "62dd6c1439c8ce48e5e8b70fe10c650594488202",
      "filename": "app/assets/javascripts/pretty-text-bundle.js",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/discourse/discourse/blob/e3b4632f04693ea6c39d22779ddf09ad6b5367ee/app/assets/javascripts/pretty-text-bundle.js",
      "raw_url": "https://github.com/discourse/discourse/raw/e3b4632f04693ea6c39d22779ddf09ad6b5367ee/app/assets/javascripts/pretty-text-bundle.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/pretty-text-bundle.js?ref=e3b4632f04693ea6c39d22779ddf09ad6b5367ee",
      "patch": "@@ -6,6 +6,7 @@\n //= require ./pretty-text/addon/emoji\n //= require ./pretty-text/addon/engines/discourse-markdown-it\n //= require xss.min\n+//= require ./pretty-text/addon/xss\n //= require ./pretty-text/addon/white-lister\n //= require ./pretty-text/addon/sanitizer\n //= require ./pretty-text/addon/oneboxer"
    },
    {
      "sha": "26eef201a13b6e7d297478b06034cea7dc4db048",
      "filename": "app/assets/javascripts/pretty-text/addon/sanitizer.js",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/discourse/discourse/blob/e3b4632f04693ea6c39d22779ddf09ad6b5367ee/app/assets/javascripts/pretty-text/addon/sanitizer.js",
      "raw_url": "https://github.com/discourse/discourse/raw/e3b4632f04693ea6c39d22779ddf09ad6b5367ee/app/assets/javascripts/pretty-text/addon/sanitizer.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/pretty-text/addon/sanitizer.js?ref=e3b4632f04693ea6c39d22779ddf09ad6b5367ee",
      "patch": "@@ -1,4 +1,4 @@\n-import xss from \"xss\";\n+import xss from \"pretty-text/xss\";\n \n function attr(name, value) {\n   if (value) {"
    },
    {
      "sha": "d2189b1211b5196f6c8a8475f4eb5dd1f2644885",
      "filename": "app/assets/javascripts/pretty-text/addon/xss.js",
      "status": "added",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/discourse/discourse/blob/e3b4632f04693ea6c39d22779ddf09ad6b5367ee/app/assets/javascripts/pretty-text/addon/xss.js",
      "raw_url": "https://github.com/discourse/discourse/raw/e3b4632f04693ea6c39d22779ddf09ad6b5367ee/app/assets/javascripts/pretty-text/addon/xss.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/pretty-text/addon/xss.js?ref=e3b4632f04693ea6c39d22779ddf09ad6b5367ee",
      "patch": "@@ -0,0 +1,2 @@\n+// Shim for xss.js library\n+export default window.filterXSS;"
    }
  ]
}
