{
  "sha": "6e2ecf40c7456a1af7f6470d09921f0138fbd4bb",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODo2ZTJlY2Y0MGM3NDU2YTFhZjdmNjQ3MGQwOTkyMWYwMTM4ZmJkNGJi",
  "commit": {
    "author": {
      "name": "Sam",
      "email": "sam.saffron@gmail.com",
      "date": "2021-05-25T10:58:13Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2021-05-25T10:58:13Z"
    },
    "message": "UX: add ARIA region role to posts (#13130)\n\nNVDA does not detect HTML5 articles as regions. This explicitly sets a\r\nregion with an aria-label denoting post numbers making it much easier to\r\nknow where you are in a topic.\r\n\r\nNote role: article which is more semantically correct is not respected by\r\nNVDA d/D shortcut, hence the much more generic \"region\" role.",
    "tree": {
      "sha": "4f0652b265387bdd5a9cb53f283c2445665112fd",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/4f0652b265387bdd5a9cb53f283c2445665112fd"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/6e2ecf40c7456a1af7f6470d09921f0138fbd4bb",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgrNhFCRBK7hj4Ov3rIwAAwA4IADUmyqf7ldmpSTM85W4i0TCG\nXYyjhO7SyaEvKE7JWHdEjMhd0OTsfZCYP5I+8KAYFNj7aL04D+JeAFgn6tQbKINe\nBF9EfVgwTlvhtEAKJMdyKNGQw4/TBscCH1x35HGUWHPY1YB7xSTVNWAxbP+4TGR+\n4kUPkaFm59Dl4NLxThkRcx4WBJNV1IEeF1xg0LSVZu5uyGCS2c4CjazvfeBrFNyn\n2zWJ78jYu360pLJkgh/irTCr0z0Qq/Y+rxxfEx+TmFCPA8Agzc/9ta441mR94e+t\nN7ZsrTu1KaCFvZW8raxUYMaO0ofy/3s966pdkh293hf18D4Urib9ifElAFb5DaU=\n=DfLH\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 4f0652b265387bdd5a9cb53f283c2445665112fd\nparent f21d50ebb6d9316ed97153ba0d54167b3ae0f358\nauthor Sam <sam.saffron@gmail.com> 1621940293 +1000\ncommitter GitHub <noreply@github.com> 1621940293 +1000\n\nUX: add ARIA region role to posts (#13130)\n\nNVDA does not detect HTML5 articles as regions. This explicitly sets a\r\nregion with an aria-label denoting post numbers making it much easier to\r\nknow where you are in a topic.\r\n\r\nNote role: article which is more semantically correct is not respected by\r\nNVDA d/D shortcut, hence the much more generic \"region\" role."
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/6e2ecf40c7456a1af7f6470d09921f0138fbd4bb",
  "html_url": "https://github.com/discourse/discourse/commit/6e2ecf40c7456a1af7f6470d09921f0138fbd4bb",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/6e2ecf40c7456a1af7f6470d09921f0138fbd4bb/comments",
  "author": {
    "login": "SamSaffron",
    "id": 5213,
    "node_id": "MDQ6VXNlcjUyMTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5213?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SamSaffron",
    "html_url": "https://github.com/SamSaffron",
    "followers_url": "https://api.github.com/users/SamSaffron/followers",
    "following_url": "https://api.github.com/users/SamSaffron/following{/other_user}",
    "gists_url": "https://api.github.com/users/SamSaffron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SamSaffron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SamSaffron/subscriptions",
    "organizations_url": "https://api.github.com/users/SamSaffron/orgs",
    "repos_url": "https://api.github.com/users/SamSaffron/repos",
    "events_url": "https://api.github.com/users/SamSaffron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SamSaffron/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "f21d50ebb6d9316ed97153ba0d54167b3ae0f358",
      "url": "https://api.github.com/repos/discourse/discourse/commits/f21d50ebb6d9316ed97153ba0d54167b3ae0f358",
      "html_url": "https://github.com/discourse/discourse/commit/f21d50ebb6d9316ed97153ba0d54167b3ae0f358"
    }
  ],
  "stats": {
    "total": 4,
    "additions": 4,
    "deletions": 0
  },
  "files": [
    {
      "sha": "f1afc5f61446e644db5cbd1aabc60ff57a77a968",
      "filename": "app/assets/javascripts/discourse/app/widgets/post.js",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/discourse/discourse/blob/6e2ecf40c7456a1af7f6470d09921f0138fbd4bb/app/assets/javascripts/discourse/app/widgets/post.js",
      "raw_url": "https://github.com/discourse/discourse/raw/6e2ecf40c7456a1af7f6470d09921f0138fbd4bb/app/assets/javascripts/discourse/app/widgets/post.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/widgets/post.js?ref=6e2ecf40c7456a1af7f6470d09921f0138fbd4bb",
      "patch": "@@ -596,6 +596,10 @@ createWidget(\"post-article\", {\n \n   buildAttributes(attrs) {\n     return {\n+      \"aria-label\": I18n.t(\"share.post\", {\n+        postNumber: attrs.post_number,\n+      }),\n+      role: \"region\",\n       \"data-post-id\": attrs.id,\n       \"data-topic-id\": attrs.topicId,\n       \"data-user-id\": attrs.user_id,"
    }
  ]
}
