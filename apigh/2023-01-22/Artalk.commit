{
  "sha": "7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
  "node_id": "C_kwDOCQOkhNoAKDdkZTZjMjdiZDhkODY1ZmU2NDIxOTUwZjBjMGZlNDdiZTVkOGJlODM",
  "commit": {
    "author": {
      "name": "qwqcode",
      "email": "qwqcode@gmail.com",
      "date": "2023-01-21T14:53:34Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2023-01-21T14:53:34Z"
    },
    "message": "feat(i18n): add i18n support for sidebar (#353)\n\n* docs: revise config example template\r\n\r\nSigned-off-by: qwqcode <qwqcode@gmail.com>\r\n\r\n* feat: add i18n for sidebar\r\n\r\nSigned-off-by: qwqcode <qwqcode@gmail.com>\r\n\r\n* feat: i18n for backend config in sidebar\r\n\r\nSigned-off-by: qwqcode <qwqcode@gmail.com>\r\n\r\n* feat(i18n): link FE and BE locale conf\r\n\r\nSigned-off-by: qwqcode <qwqcode@gmail.com>\r\n\r\nSigned-off-by: qwqcode <qwqcode@gmail.com>",
    "tree": {
      "sha": "1018df35466f8620ab87dcb9574b3b98c36ec5fd",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/trees/1018df35466f8620ab87dcb9574b3b98c36ec5fd"
    },
    "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/commits/7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjy/xuCRBK7hj4Ov3rIwAAjEMIAIUpTuQrS0L6+0rsHECCTPWR\nDfFoLtFKEDGnIXST0pBuKfaCf3Su/8W9PpclBJSB1Zl1xfNUe2BPlFeHmAs0rK6V\n7GKqa2vi/3mpJUvHHpkr/MzIEI+LQ1v3wzEuY+zvqXX/i1EBmC4W2w+XETOKhNqC\nDa2sYL4pelBFkfc/Q4Zi2Nr5xCNp7y9ALgrFkpVJEa/Z5MGnwk5O9XSsGON3xFud\nZUDfBBM5iG3X4JowyaSR37YF+70ZHc3afQVVv6Fb+BL0U9RtUFpLJrXEbBKFZVs+\nQJldUxw4rSHeviGVsH/T1pGsw+zcEc5bFfuE3oCkoRdakl4T+nunGrDCAQ1G3IA=\n=Rmh3\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 1018df35466f8620ab87dcb9574b3b98c36ec5fd\nparent 7e01f9d0ed45603e0d73ea5eeeb2395a4635dc2f\nauthor qwqcode <qwqcode@gmail.com> 1674312814 +0800\ncommitter GitHub <noreply@github.com> 1674312814 +0800\n\nfeat(i18n): add i18n support for sidebar (#353)\n\n* docs: revise config example template\r\n\r\nSigned-off-by: qwqcode <qwqcode@gmail.com>\r\n\r\n* feat: add i18n for sidebar\r\n\r\nSigned-off-by: qwqcode <qwqcode@gmail.com>\r\n\r\n* feat: i18n for backend config in sidebar\r\n\r\nSigned-off-by: qwqcode <qwqcode@gmail.com>\r\n\r\n* feat(i18n): link FE and BE locale conf\r\n\r\nSigned-off-by: qwqcode <qwqcode@gmail.com>\r\n\r\nSigned-off-by: qwqcode <qwqcode@gmail.com>"
    }
  },
  "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
  "html_url": "https://github.com/ArtalkJS/Artalk/commit/7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
  "comments_url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/comments",
  "author": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "7e01f9d0ed45603e0d73ea5eeeb2395a4635dc2f",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/7e01f9d0ed45603e0d73ea5eeeb2395a4635dc2f",
      "html_url": "https://github.com/ArtalkJS/Artalk/commit/7e01f9d0ed45603e0d73ea5eeeb2395a4635dc2f"
    }
  ],
  "stats": {
    "total": 796,
    "additions": 578,
    "deletions": 218
  },
  "files": [
    {
      "sha": "bb68bc6fe35e3dcfea71e8848d99d38ace1e3154",
      "filename": ".circleci/config.yml",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/.circleci%2Fconfig.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/.circleci%2Fconfig.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.circleci%2Fconfig.yml?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -15,8 +15,8 @@ workflows:\n     jobs:\n       - path-filtering/filter:\n           mapping: |\n-            (cmd|internal|server|pkg|test)/.*  trigger-app true\n-            main.go|go.mod|go.sum|artalk.example.yml  trigger-app true\n+            (cmd|internal|server|pkg|test|conf)/.*  trigger-app true\n+            main.go|go.mod|go.sum  trigger-app true\n             (ui)/.*  trigger-ui  true\n           base-revision: master  # git branch name\n           config-path: .circleci/conditional_config.yml"
    },
    {
      "sha": "65b3bcf0846a8a6085b0bb09bc516b58fd5b45aa",
      "filename": ".github/workflows/release.yml",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/.github%2Fworkflows%2Frelease.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/.github%2Fworkflows%2Frelease.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/.github%2Fworkflows%2Frelease.yml?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -43,7 +43,7 @@ jobs:\n       # build\n       - name: setup release environment\n         run: |-\n-          cp artalk.example.yml artalk.yml\n+          cp conf/artalk.example.yml artalk.yml\n           echo 'GITHUB_TOKEN=${{secrets.GORELEASER_ACCESS_TOKEN}}' > .release-env\n \n       - name: build and release publish"
    },
    {
      "sha": "216194c43eb5edb578a972333c7fdf8ca493bf0c",
      "filename": "cmd/admin.go",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/cmd%2Fadmin.go",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/cmd%2Fadmin.go",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/cmd%2Fadmin.go?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -95,7 +95,7 @@ func credentials() (string, string, string, error) {\n \t}\n \n \tfmt.Println()\n-\tfmt.Print(i18n.T(\"Retype {{name}}\", map[string]interface{}{\"name\": i18n.T(\"Password\")}) + \": \" + \": \")\n+\tfmt.Print(i18n.T(\"Retype {{name}}\", map[string]interface{}{\"name\": i18n.T(\"Password\")}) + \": \")\n \tbyteRePassword, err := term.ReadPassword(int(syscall.Stdin))\n \tif err != nil {\n \t\treturn \"\", \"\", \"\", err"
    },
    {
      "sha": "1c04d662cda1bd56bba2e3013e78ec1a12f1a5f5",
      "filename": "conf/artalk.example.simple.yml",
      "status": "renamed",
      "additions": 0,
      "deletions": 0,
      "changes": 0,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/conf%2Fartalk.example.simple.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/conf%2Fartalk.example.simple.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/conf%2Fartalk.example.simple.yml?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "previous_filename": "artalk.example.simple.yml"
    },
    {
      "sha": "e7db05dc54059e7c60205d57025b486bea3e2e1a",
      "filename": "conf/artalk.example.yml",
      "status": "renamed",
      "additions": 72,
      "deletions": 48,
      "changes": 120,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/conf%2Fartalk.example.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/conf%2Fartalk.example.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/conf%2Fartalk.example.yml?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -1,19 +1,29 @@\n # Listen host\n host: \"0.0.0.0\"\n+\n # Listen port\n port: 23366\n-# Key for generation of JWT token\n+\n+# App Key (for generation of JWT token)\n app_key: \"\"\n+\n # Debug mode\n debug: false\n+\n # Language (follow Unicode BCP 47)\n+# -- see https://www.techonthenet.com/js/language_tags.php --\n locale: \"en\"\n-# Timezone (see https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)\n+\n+# Timezone (follow IANA Time Zone Database)\n+# -- see https://en.wikipedia.org/wiki/List_of_tz_database_time_zones --\n timezone: \"Asia/Shanghai\"\n-# Default site name\n+\n+# Default site name (create when app is first launched)\n site_default: \"Default Site\"\n+\n # Login timeout (in seconds)\n login_timeout: 259200\n+\n # Database\n db:\n   # Database type [\"sqlite\", \"mysql\", \"pgsql\", \"mssql\"]\n@@ -22,7 +32,7 @@ db:\n   file: \"./data/artalk.db\"\n   # Table prefix (e.g. \"atk_\")\n   table_prefix: \"\"\n-  # The following is not nessary for SQLite\n+  # -- The following is not necessary for SQLite --\n   # Database name\n   name: \"artalk\"\n   # Host address\n@@ -42,6 +52,7 @@ log:\n   enabled: true\n   # Log file path\n   filename: \"./data/artalk.log\"\n+\n # Cache\n cache:\n   # Cache type [\"redis\", \"memcache\", \"builtin\"]\n@@ -50,6 +61,7 @@ cache:\n   expires: 30\n   # Cache warm up (warm up cache when program starts)\n   warm_up: false\n+  # -- The following is not necessary for `builtin` cache --\n   # Cache server address (e.g. \"localhost:6379\")\n   server: \"\"\n   # Redis config\n@@ -62,23 +74,24 @@ cache:\n     password: \"\"\n     # Redis database number (e.g. 0)\n     db: 0\n-# Trusted domains, e.g. [\"https://artalk.example.com:23366\"] add url of your site her\n+\n+# Trusted domains\n+# -- e.g. [\"https://artalk.example.com:23366\"] add url of your site her --\n trusted_domains: []\n+\n # SSL\n ssl:\n   # Enable SSL\n   enabled: false\n-  # Certificate file path, e.g. \"/etc/letsencrypt/live/example.com/fullchain.pem\"\n+  # Certificate file path\n+  # (e.g. \"/etc/letsencrypt/live/example.com/fullchain.pem\")\n   cert_path: \"\"\n-  # Key file path, e.g. \"/etc/letsencrypt/live/example.com/privkey.pem\"\n+  # Key file path\n+  # (e.g. \"/etc/letsencrypt/live/example.com/privkey.pem\")\n   key_path: \"\"\n-# Admin users\n-admin_users:\n-  # Remove the following line comment symbol (#) to enable admin users\n-  # - name: \"admin\"\n-  #   email: \"admin@example.com\"\n-  #   badge_color: \"#FF6C00\"\n-# Comment examination before being public\n+\n+# Moderator\n+# -- Comment examination before being public --\n moderator:\n   # Default pending (new comments need to be approved by admin)\n   pending_default: false\n@@ -87,15 +100,17 @@ moderator:\n   # Akismet Key\n   # (Akismet anti-spam service, https://akismet.com)\n   akismet_key: \"\"\n-  # Auto review comments with Tencent Cloud Content Security\n-  # (https://cloud.tencent.com/document/product/1124/64508)\n+  # Tencent Cloud Content Security\n+  # (Auto review comments with Tencent Cloud Content Security)\n+  # -- see https://cloud.tencent.com/document/product/1124/64508 --\n   tencent:\n     enabled: false\n     secret_id: \"\"\n     secret_key: \"\"\n     region: \"ap-guangzhou\"\n-  # Auto review comments with Aliyun Content Security\n-  # (https://help.aliyun.com/document_detail/28417.html)\n+  # Aliyun Content Security\n+  # (Auto review comments with Aliyun Content Security)\n+  # -- see https://help.aliyun.com/document_detail/28417.html --\n   aliyun:\n     enabled: false\n     access_key_id: \"\"\n@@ -111,36 +126,60 @@ moderator:\n     files:\n     file_sep: \"\\n\"\n     replac_to: \"x\"\n+\n # Captcha\n captcha:\n   # Enable captcha\n   enabled: true\n   # Captcha is required always\n   always: false\n   # Captcha type [\"geetest\", \"image\"]\n-  # The number of actions required to activate captcha\n+  captcha_type: \"image\"\n+  # Action limit\n+  # (the number of actions required to activate captcha)\n   action_limit: 3\n-  # Timeout to reset action counter (unit: s, set to -1 to disable)\n+  # Reset Timeout (timeout to reset action counter. unit: s, set to -1 to disable)\n   action_reset: 60\n   # Geetest (https://www.geetest.com)\n   geetest:\n     enabled: false\n     captcha_id: \"\"\n     captcha_key: \"\"\n-# Mail notification\n+\n+# Upload\n+img_upload:\n+  # Enable image upload\n+  enabled: true\n+  # Image storage\n+  path: \"./data/artalk-img/\"\n+  # Image size limit (unit: MB)\n+  max_size: 5\n+  # Image link base path (default: \"/static/images/\")\n+  public_path: null\n+  # Upgit config\n+  upgit:\n+    # Enable Upgit\n+    enabled: false\n+    # Command line arguments\n+    exec: \"./upgit -c UPGIT_CONF_FILE_PATH -t /artalk-img\"\n+    # Delete local image after upload success\n+    del_local: true\n+\n+# Email\n email:\n-  # Enable mail notification\n+  # Enable email notification\n   enabled: false\n   # Send method [\"smtp\", \"ali_dm\", \"sendmail\"]\n   send_type: \"smtp\"\n   # Nick name of sender\n   send_name: \"{{reply_nick}}\"\n   # Email address of sender\n   send_addr: \"noreply@example.com\"\n-  # Mail title\n-  # Mail template file (set to file path to use custom template)\n+  # Email subject\n+  mail_subject: \"[{{site_name}}] You got a reply from @{{reply_nick}}\"\n+  # Email template file (set to file path to use custom template)\n   mail_tpl: \"default\"\n-  # SMTP send (set to \"smtp\" to enable)\n+  # SMTP send (set send method to \"smtp\" to enable)\n   smtp:\n     # Email address of sender\n     host: \"smtp.qq.com\"\n@@ -156,38 +195,21 @@ email:\n     access_key_id: \"\"\n     access_key_secret: \"\"\n     account_name: \"noreply@example.com\"\n-# Image upload for comment\n-img_upload:\n-  # Enable image upload\n-  enabled: true\n-  # Image storage\n-  path: \"./data/artalk-img/\"\n-  # Image size limit (unit: MB)\n-  max_size: 5\n-  # Image link base path (default: \"/static/images/\")\n-  public_path: null\n-  # Upgit config\n-  upgit:\n-    # Enable Upgit\n-    enabled: false\n-    # Command line arguments\n-    exec: \"./upgit -c UPGIT_CONF_FILE_PATH -t /artalk-img\"\n-    # Delete local image after upload success\n-    del_local: true\n+\n # Multi-push\n admin_notify:\n   # Notification template (set to file path to use custom template)\n   notify_tpl: \"default\"\n   # Noise mode\n-  # noise_mode is disabled by default.\n-  # When this option is set to `false`, only messages sent to the administrator will be notified,\n-  # such as \"user A\" replies to \"user B\", the communication between these two users will not be notified to the administrator.\n+  # -- noise_mode is disabled by default. --\n+  # -- When this option is set to `false`, only messages sent to the administrator will be notified, --\n+  # -- such as \"user A\" replies to \"user B\", the communication between these two users will not be notified to the administrator. --\n   noise_mode: false\n   # Notify admin\n   email:\n     # Enable (can be disabled when using other push methods)\n     enabled: true\n-    # Mail title (mail title sent to admin)\n+    # Email subject (email subject sent to admin)\n     mail_subject: '[{{site_name}}] Post \"{{page_title}}\" has new a comment'\n   # Telegram\n   telegram:\n@@ -224,14 +246,16 @@ admin_notify:\n     receivers:\n       - \"USER_ID_1\"\n       - \"GROUP_ID_1\"\n-# Frontend config\n+\n+# UI Settings\n frontend:\n   # Comment box placeholder\n   placeholder: \"What do you think?\"\n   # Text to display when there is\n   noComment: \"No comments yet.\"\n   # Text of the send button\n   sendBtn: \"Send\"\n+  # Movable comment box\n   editorTravel: true\n   # Dark mode\n   darkMode: false",
      "previous_filename": "artalk.example.yml"
    },
    {
      "sha": "f88efd9e7cd7e2350e56d9bea2d59fadbea26d00",
      "filename": "conf/artalk.example.zh-CN.yml",
      "status": "renamed",
      "additions": 20,
      "deletions": 20,
      "changes": 40,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/conf%2Fartalk.example.zh-CN.yml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/conf%2Fartalk.example.zh-CN.yml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/conf%2Fartalk.example.zh-CN.yml?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -143,6 +143,26 @@ captcha:\n     captcha_id: \"\"\n     captcha_key: \"\"\n \n+# 图片上传\n+img_upload:\n+  # 启用图片上传\n+  enabled: true\n+  # 图片存放路径\n+  path: \"./data/artalk-img/\"\n+  # 图片大小限制 (单位：MB)\n+  max_size: 5\n+  # 图片链接基础路径 (默认为 \"/static/images/\")\n+  public_path: null\n+  # Upgit 配置\n+  # (使用 Upgit 将图片上传到 GitHub 或图床：https://github.com/pluveto/upgit)\n+  upgit:\n+    # 启用 Upgit\n+    enabled: false\n+    # 命令行参数\n+    exec: \"./upgit -c <upgit配置文件路径> -t /artalk-img\"\n+    # 上传后删除本地的图片\n+    del_local: true\n+\n # 邮件通知\n email:\n   # 启用邮件通知\n@@ -174,26 +194,6 @@ email:\n     access_key_secret: \"\"\n     account_name: \"noreply@example.com\"\n \n-# 图片上传\n-img_upload:\n-  # 启用图片上传\n-  enabled: true\n-  # 图片存放路径\n-  path: \"./data/artalk-img/\"\n-  # 图片大小限制 (单位：MB)\n-  max_size: 5\n-  # 图片链接基础路径 (默认为 \"/static/images/\")\n-  public_path: null\n-  # Upgit 配置\n-  # (使用 Upgit 将图片上传到 GitHub 或图床：https://github.com/pluveto/upgit)\n-  upgit:\n-    # 启用 Upgit\n-    enabled: false\n-    # 命令行参数\n-    exec: \"./upgit -c <upgit配置文件路径> -t /artalk-img\"\n-    # 上传后删除本地的图片\n-    del_local: true\n-\n # 多元推送\n admin_notify:\n   # 通知模版 (填入文件路径使用自定义模板)",
      "previous_filename": "artalk.example.zh-CN.yml"
    },
    {
      "sha": "52ac2f5406be4f482f0a6f943e2fd503f40c6257",
      "filename": "docs/guide/backend/build.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/docs%2Fguide%2Fbackend%2Fbuild.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/docs%2Fguide%2Fbackend%2Fbuild.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fguide%2Fbackend%2Fbuild.md?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -10,7 +10,7 @@ git clone https://github.com/ArtalkJS/Artalk.git Artalk\n cd Artalk && make all\n \n # 配置文件\n-cp artalk.example.yml artalk.yml\n+cp conf/artalk.example.yml artalk.yml\n vim artalk.yml\n \n # 运行程序"
    },
    {
      "sha": "724b8df242bfa37890f3796f2a081a9320b0fc75",
      "filename": "docs/guide/backend/config.md",
      "status": "modified",
      "additions": 3,
      "deletions": 3,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/docs%2Fguide%2Fbackend%2Fconfig.md",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/docs%2Fguide%2Fbackend%2Fconfig.md",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/docs%2Fguide%2Fbackend%2Fconfig.md?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -12,7 +12,7 @@ artalk -c ./conf.yml\n \n ## 获取模版配置文件\n \n-可参考一份「完整的配置文件」：[artalk.example.yml](https://github.com/ArtalkJS/Artalk/blob/master/artalk.example.yml)\n+可参考一份「完整的配置文件」：[artalk.example.yml](https://github.com/ArtalkJS/Artalk/blob/master/conf/artalk.example.yml)\n \n #### 使用 gen 命令生成配置文件\n \n@@ -25,11 +25,11 @@ artalk gen conf ./artalk.yml\n #### 命令行下载配置文件\n \n ```bash\n-curl -L https://raw.githubusercontent.com/ArtalkJS/Artalk/master/artalk.example.yml > artalk.yml\n+curl -L https://raw.githubusercontent.com/ArtalkJS/Artalk/master/conf/artalk.example.yml > artalk.yml\n ```\n \n ```bash\n-wget -O artalk.yml https://raw.githubusercontent.com/ArtalkJS/Artalk/master/artalk.example.yml\n+wget -O artalk.yml https://raw.githubusercontent.com/ArtalkJS/Artalk/master/conf/artalk.example.yml\n ```\n \n ## 加密密钥 `app_key`"
    },
    {
      "sha": "be3b8cada7e29d9ec2fba66de32333f5fd25909b",
      "filename": "internal/core/conf_tpl.go",
      "status": "added",
      "additions": 46,
      "deletions": 0,
      "changes": 46,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/internal%2Fcore%2Fconf_tpl.go",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/internal%2Fcore%2Fconf_tpl.go",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/internal%2Fcore%2Fconf_tpl.go?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -0,0 +1,46 @@\n+package core\n+\n+import (\n+\t\"fmt\"\n+\t\"io\"\n+\t\"strings\"\n+\n+\t\"github.com/ArtalkJS/Artalk/internal/config\"\n+\t\"github.com/ArtalkJS/Artalk/internal/pkged\"\n+)\n+\n+// GetConfTpl is get config template file with specified locale\n+func GetConfTpl(localeParam ...string) string {\n+\tvar locale string\n+\tif len(localeParam) > 0 {\n+\t\tlocale = strings.TrimSpace(localeParam[0])\n+\t}\n+\tif locale == \"\" && config.Instance != nil {\n+\t\tlocale = strings.TrimSpace(config.Instance.Locale)\n+\t}\n+\n+\tconst CONF_DEFAULT = \"conf/artalk.example.yml\"\n+\n+\tvar filename string\n+\tif locale == \"en\" || locale == \"\" {\n+\t\tfilename = CONF_DEFAULT\n+\t} else {\n+\t\tfilename = fmt.Sprintf(\"conf/artalk.example.%s.yml\", locale)\n+\t}\n+\n+\tf, err := pkged.FS().Open(filename)\n+\tif err != nil {\n+\t\t// locale not found\n+\t\tf, err = pkged.FS().Open(CONF_DEFAULT)\n+\t\tif err != nil {\n+\t\t\tpanic(err)\n+\t\t}\n+\t}\n+\n+\tfileStr, err := io.ReadAll(f)\n+\tif err != nil {\n+\t\tpanic(err)\n+\t}\n+\n+\treturn string(fileStr)\n+}"
    },
    {
      "sha": "9bda73aa4aec7021d572974c0ac8e4b52db4ec7c",
      "filename": "internal/core/gen.go",
      "status": "modified",
      "additions": 33,
      "deletions": 23,
      "changes": 56,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/internal%2Fcore%2Fgen.go",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/internal%2Fcore%2Fgen.go",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/internal%2Fcore%2Fgen.go?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -14,35 +14,31 @@ import (\n )\n \n func Gen(genType string, specificPath string, overwrite bool) {\n-\t// 参数\n-\tif genType == \"config\" || genType == \"conf\" || genType == \"artalk.yml\" {\n-\t\tgenType = \"artalk.example.yml\"\n-\t}\n-\n-\tgenPath := filepath.Base(genType)\n-\tif specificPath != \"\" {\n-\t\tgenPath = specificPath\n-\t}\n \n-\tfile, err := pkged.FS().Open(strings.TrimPrefix(genType, \"/\"))\n-\tif err != nil {\n-\t\tlogrus.Fatal(\"Invalid built-in resource `\"+genType+\"`: \", err)\n+\t// check if generate config file\n+\tisGenConf := false\n+\tif genType == \"config\" || genType == \"conf\" || genType == \"artalk.yml\" {\n+\t\tisGenConf = true\n+\t\tgenType = \"artalk.yml\"\n \t}\n \n-\tbuf, err := ioutil.ReadAll(file)\n-\tif err != nil {\n-\t\tlogrus.Fatal(\"Read built-in resources `\"+genType+\"` error: \", err)\n+\t// get generation content\n+\tvar fileStr string\n+\tif isGenConf {\n+\t\tfileStr = GetConfTpl()\n+\t\t// gen random `app_key`\n+\t\tappKey := RandStringRunes(16)\n+\t\tfileStr = strings.Replace(fileStr, `app_key: \"\"`, fmt.Sprintf(`app_key: \"%s\"`, appKey), 1)\n+\t} else {\n+\t\tfileStr = getEmbedFile(genType)\n \t}\n \n-\t// 自动生成 app_key\n-\tif strings.Contains(filepath.Base(genType), \"artalk.example.yml\") {\n-\t\tstr := string(buf)\n-\t\tappKey := RandStringRunes(16)\n-\t\tstr = strings.Replace(str, `app_key: \"\"`, fmt.Sprintf(`app_key: \"%s\"`, appKey), 1)\n-\t\tbuf = []byte(str)\n+\tgenFullPath := filepath.Base(genType) // generate file in work dir\n+\tif specificPath != \"\" {\n+\t\tgenFullPath = specificPath\n \t}\n \n-\tabsPath, err := filepath.Abs(genPath)\n+\tabsPath, err := filepath.Abs(genFullPath)\n \tif err != nil {\n \t\tlogrus.Fatal(err)\n \t}\n@@ -60,7 +56,7 @@ func Gen(genType string, specificPath string, overwrite bool) {\n \t}\n \tdefer dst.Close()\n \n-\tif _, err = dst.Write(buf); err != nil {\n+\tif _, err = dst.Write([]byte(fileStr)); err != nil {\n \t\tlogrus.Fatal(\"Failed to write target file: \", err)\n \t}\n \n@@ -81,3 +77,17 @@ func CheckFileExist(path string) bool {\n \t_, err := os.Stat(path)\n \treturn err == nil\n }\n+\n+func getEmbedFile(filename string) string {\n+\tfile, err := pkged.FS().Open(strings.TrimPrefix(filename, \"/\"))\n+\tif err != nil {\n+\t\tlogrus.Fatal(\"Invalid built-in resource `\"+filename+\"`: \", err)\n+\t}\n+\n+\tbuf, err := ioutil.ReadAll(file)\n+\tif err != nil {\n+\t\tlogrus.Fatal(\"Read built-in resources `\"+filename+\"` error: \", err)\n+\t}\n+\n+\treturn string(buf)\n+}"
    },
    {
      "sha": "a114727798811b66e12822b98677b218720f9c20",
      "filename": "main.go",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/main.go",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/main.go",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/main.go?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -9,7 +9,7 @@ import (\n \n //go:embed public/*\n //go:embed i18n/*\n-//go:embed artalk.example.yml\n+//go:embed conf/*\n var embedFS embed.FS\n \n func main() {"
    },
    {
      "sha": "f8f0d6ea33084f0aa60c82c0c020074018fc01f5",
      "filename": "server/common/conf.go",
      "status": "modified",
      "additions": 3,
      "deletions": 0,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/server%2Fcommon%2Fconf.go",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/server%2Fcommon%2Fconf.go",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/server%2Fcommon%2Fconf.go?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -33,6 +33,9 @@ func GetApiPublicConfDataMap(c *fiber.Ctx) Map {\n \tutils.CopyStruct(&frontendConfSrc, &frontendConf)\n \n \tfrontendConf[\"imgUpload\"] = &imgUpload\n+\tif config.Instance.Locale != \"\" {\n+\t\tfrontendConf[\"locale\"] = config.Instance.Locale\n+\t}\n \n \treturn Map{\n \t\t\"img_upload\":    imgUpload,"
    },
    {
      "sha": "481296f1cc51c25e30e72d3d2b9c043cb56423f7",
      "filename": "server/handler/admin_setting.go",
      "status": "modified",
      "additions": 15,
      "deletions": 1,
      "changes": 16,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/server%2Fhandler%2Fadmin_setting.go",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/server%2Fhandler%2Fadmin_setting.go",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/server%2Fhandler%2Fadmin_setting.go?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -1,7 +1,9 @@\n package handler\n \n import (\n+\t\"net/http\"\n \t\"os\"\n+\t\"strings\"\n \n \t\"github.com/ArtalkJS/Artalk/internal/config\"\n \t\"github.com/ArtalkJS/Artalk/internal/core\"\n@@ -23,7 +25,10 @@ func AdminSettingGet(router fiber.Router) {\n \t\t\treturn common.RespError(c, i18n.T(\"Config file read failed\"))\n \t\t}\n \n-\t\treturn common.RespData(c, string(dat))\n+\t\treturn common.RespData(c, Map{\n+\t\t\t\"custom\":   string(dat),\n+\t\t\t\"template\": core.GetConfTpl(),\n+\t\t})\n \t})\n }\n \n@@ -68,3 +73,12 @@ func AdminSettingSave(router fiber.Router) {\n \t\treturn common.RespSuccess(c)\n \t})\n }\n+\n+// POST /api/admin/setting-tpl\n+func AdminSettingTpl(router fiber.Router) {\n+\trouter.Post(\"/setting-tpl\", func(c *fiber.Ctx) error {\n+\t\tlocale := strings.TrimSpace(c.FormValue(\"locale\"))\n+\t\ttpl := core.GetConfTpl(locale)\n+\t\treturn c.Status(http.StatusOK).SendString(tpl)\n+\t})\n+}"
    },
    {
      "sha": "bdd5b63e517f77329279f9e7f74c5cf19efb14fd",
      "filename": "server/server.go",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/server%2Fserver.go",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/server%2Fserver.go",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/server%2Fserver.go?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -83,6 +83,7 @@ func admin(f fiber.Router) {\n \n \t\th.AdminSettingGet(admin)\n \t\th.AdminSettingSave(admin)\n+\t\th.AdminSettingTpl(admin)\n \n \t\th.AdminTransfer(admin)\n \t}"
    },
    {
      "sha": "24fca9fcf038b95a51d32b211acb944e304903fe",
      "filename": "ui/packages/artalk-sidebar/auto-imports.d.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fauto-imports.d.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fauto-imports.d.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fauto-imports.d.ts?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -50,6 +50,7 @@ declare global {\n   const useAttrs: typeof import('vue')['useAttrs']\n   const useCssModule: typeof import('vue')['useCssModule']\n   const useCssVars: typeof import('vue')['useCssVars']\n+  const useI18n: typeof import('vue-i18n')['useI18n']\n   const useRoute: typeof import('vue-router/auto')['useRoute']\n   const useRouter: typeof import('vue-router/auto')['useRouter']\n   const useSlots: typeof import('vue')['useSlots']"
    },
    {
      "sha": "a970854b7567a387f467c478948b1362c4223756",
      "filename": "ui/packages/artalk-sidebar/package.json",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fpackage.json",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fpackage.json",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fpackage.json?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -15,6 +15,7 @@\n     \"artalk\": \"workspace: *\",\n     \"pinia\": \"^2.0.28\",\n     \"vue\": \"^3.2.45\",\n+    \"vue-i18n\": \"9\",\n     \"vue-router\": \"^4.1.6\",\n     \"yaml\": \"^2.1.3\"\n   },"
    },
    {
      "sha": "9368f14a8fe949c5cdc1157d941a31ce46447751",
      "filename": "ui/packages/artalk-sidebar/src/components/Header.vue",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FHeader.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FHeader.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FHeader.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -8,6 +8,7 @@ import { artalk } from '../global'\n \n const nav = useNavStore()\n const user = useUserStore()\n+const { t } = useI18n()\n const { site: curtSite, isAdmin, email } = storeToRefs(user)\n \n const userAvatarImgURL = computed(() =>\n@@ -33,7 +34,7 @@ const userAvatarImgURL = computed(() =>\n     </template>\n \n     <div class=\"title\">\n-      <div class=\"text\">{{ isAdmin ? '控制中心' : '通知中心' }}</div>\n+      <div class=\"text\">{{ isAdmin ? t('ctrlCenter') : t('msgCenter') }}</div>\n     </div>\n \n     <div class=\"close-btn\"></div>"
    },
    {
      "sha": "1b3b72609bb70e57525638f22c45a8b40d3077b6",
      "filename": "ui/packages/artalk-sidebar/src/components/ItemTextEditor.vue",
      "status": "modified",
      "additions": 3,
      "deletions": 1,
      "changes": 4,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FItemTextEditor.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FItemTextEditor.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FItemTextEditor.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -15,6 +15,8 @@ const inputEl = ref<HTMLInputElement|null>(null)\n const inputVal = ref('')\n const inputInvalid = ref(false)\n \n+const { t } = useI18n()\n+\n onMounted(() => {\n   inputVal.value = props.initValue || ''\n   window.setTimeout(() => inputEl.value?.focus(), 80)\n@@ -59,7 +61,7 @@ async function submit(type: 'yes'|'no') {\n         ref=\"inputEl\"\n         class=\"atk-main-input\"\n         type=\"text\"\n-        :placeholder=\"props.placeholder || '输入内容...'\"\n+        :placeholder=\"props.placeholder || t('inputHint')\"\n         autocomplete=\"off\"\n         v-model=\"inputVal\"\n         @input=\"onInput()\""
    },
    {
      "sha": "9b430fe65b8e7da61f382dd2bd86284e9c40b66f",
      "filename": "ui/packages/artalk-sidebar/src/components/PageEditor.vue",
      "status": "modified",
      "additions": 4,
      "deletions": 3,
      "changes": 7,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPageEditor.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPageEditor.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FPageEditor.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -16,6 +16,7 @@ const { page } = toRefs(props)\n const editFieldKey = ref<keyof PageData|null>(null)\n const editFieldVal = computed(() => String(editFieldKey ? page.value[editFieldKey.value!] || '' : ''))\n const isLoading = ref(false)\n+const { t } = useI18n()\n \n function editTitle() {\n   editFieldKey.value = 'title'\n@@ -99,13 +100,13 @@ function onFiledEditorNo() {\n <template>\n   <div class=\"atk-page-edit-layer\">\n     <div class=\"atk-page-main-actions\">\n-      <div class=\"atk-item atk-title-edit-btn\" @click=\"editTitle()\">标题修改</div>\n-      <div class=\"atk-item atk-key-edit-btn\" @click=\"editKey()\">KEY 变更</div>\n+      <div class=\"atk-item atk-title-edit-btn\" @click=\"editTitle()\">{{ t('editTitle') }}</div>\n+      <div class=\"atk-item atk-key-edit-btn\" @click=\"editKey()\">{{ t('switchKey') }}</div>\n       <div\n         class=\"atk-item atk-admin-only-btn\"\n         :class=\"!page.admin_only ? 'atk-green' : 'atk-yellow'\"\n         @click=\"editAdminOnly()\"\n-      >{{ !page.admin_only ? '所有人可评' : '管理员可评' }}</div>\n+      >{{ !page.admin_only ? t('commentAllowAll') : t('commentOnlyAdmin') }}</div>\n     </div>\n     <div class=\"atk-page-actions\">\n       <div class=\"atk-item atk-sync-btn\" @click=\"sync()\">"
    },
    {
      "sha": "a879a84ce4bba69a14474f25f674bc332cc2ae84",
      "filename": "ui/packages/artalk-sidebar/src/components/SiteCreate.vue",
      "status": "modified",
      "additions": 6,
      "deletions": 4,
      "changes": 10,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteCreate.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteCreate.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteCreate.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -2,6 +2,8 @@\n import { artalk } from '../global'\n import type { SiteData } from 'artalk/types/artalk-data'\n \n+const { t } = useI18n()\n+\n const props = defineProps<{\n   initVal?: { name: string, urls: string }\n }>()\n@@ -49,15 +51,15 @@ function close() {\n <template>\n   <div class=\"atk-site-add\">\n     <div class=\"atk-header\">\n-      <div class=\"atk-title\">新增站点</div>\n+      <div class=\"atk-title\">{{ t('createSite') }}</div>\n       <div class=\"atk-close-btn\" @click=\"close()\">\n         <i class=\"atk-icon atk-icon-close\"></i>\n       </div>\n     </div>\n     <form class=\"atk-form\" @submit.prevent=\"submit()\">\n-      <input v-model=\"site.name\" type=\"text\" name=\"AtkSiteName\" placeholder=\"站点名称\" autocomplete=\"off\">\n-      <input v-model=\"site.urls\" type=\"text\" name=\"AtkSiteUrls\" placeholder=\"站点 URL（多个用逗号隔开）\" autocomplete=\"off\">\n-      <button type=\"submit\" class=\"atk-btn\" name=\"AtkSubmit\">创建</button>\n+      <input v-model=\"site.name\" type=\"text\" name=\"AtkSiteName\" :placeholder=\"t('siteName')\" autocomplete=\"off\">\n+      <input v-model=\"site.urls\" type=\"text\" name=\"AtkSiteUrls\" :placeholder=\"`${t('siteUrls')} (${t('multiSepHint')})`\" autocomplete=\"off\">\n+      <button type=\"submit\" class=\"atk-btn\" name=\"AtkSubmit\">{{ t('add') }}</button>\n     </form>\n     <LoadingLayer v-if=\"isLoading\" />\n   </div>"
    },
    {
      "sha": "3cd28d543e4dbdd6b30c08ebf5f02342fef174cb",
      "filename": "ui/packages/artalk-sidebar/src/components/SiteEditor.vue",
      "status": "modified",
      "additions": 4,
      "deletions": 2,
      "changes": 6,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteEditor.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteEditor.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteEditor.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -20,6 +20,8 @@ const editFieldVal = computed(() => {\n   return String(editFieldKey ? site.value[editFieldKey.value!] || '' : '')\n })\n \n+const { t } = useI18n()\n+\n function close() {\n   emit('close')\n }\n@@ -98,8 +100,8 @@ function onFiledEditorNo() {\n     </div>\n     <div class=\"atk-main\">\n       <div class=\"atk-site-text-actions\">\n-        <div class=\"atk-item atk-rename-btn\" @click=\"rename()\">重命名</div>\n-        <div class=\"atk-item atk-edit-url-btn\" @click=\"editURL()\">修改 URL</div>\n+        <div class=\"atk-item atk-rename-btn\" @click=\"rename()\">{{ t('rename') }}</div>\n+        <div class=\"atk-item atk-edit-url-btn\" @click=\"editURL()\">{{ t('edit') }} URL</div>\n         <!--<div class=\"atk-item atk-export-btn\">导出</div>\n         <div class=\"atk-item atk-import-btn\">导入</div>-->\n       </div>"
    },
    {
      "sha": "34d18858ace848a9c07d10afa5af2f090c4cc1bb",
      "filename": "ui/packages/artalk-sidebar/src/components/SiteSwitcher.vue",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteSwitcher.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteSwitcher.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FSiteSwitcher.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -11,6 +11,7 @@ const { siteSwitcherShow: curtShow, sites } = storeToRefs(nav)\n const { site: curtSite } = storeToRefs(useUserStore())\n \n const router = useRouter()\n+const { t } = useI18n()\n \n onMounted(() => {\n   nav.refreshSites()\n@@ -34,14 +35,14 @@ function switchSite(siteName: string) {\n \n const displaySites = computed(() => {\n   const displays: IDisplaySite[] = []\n-  displays.push({ label: '所有站点', name: '__ATK_SITE_ALL', logoText: '_' })\n+  displays.push({ label: t('allSites'), name: '__ATK_SITE_ALL', logoText: '_' })\n   sites.value.forEach((site) => {\n     displays.push({\n       label: site.name, name: site.name,\n       logoText: site.name.substring(0, 1)\n     })\n   })\n-  displays.push({ label: '站点管理', name: '__SITE_MANAGEMENT__', logoText: '+' })\n+  displays.push({ label: t('siteManage'), name: '__SITE_MANAGEMENT__', logoText: '+' })\n   return displays\n })\n "
    },
    {
      "sha": "673c47bf26e0e20fa2161b80014034ff43262bba",
      "filename": "ui/packages/artalk-sidebar/src/components/Tab.vue",
      "status": "modified",
      "additions": 9,
      "deletions": 8,
      "changes": 17,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FTab.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FTab.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FTab.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -8,6 +8,7 @@ type PageItem = { label: string, link: string, hide?: boolean }\n const router = useRouter()\n const route = useRoute()\n const nav = useNavStore()\n+const { t } = useI18n()\n \n const { curtPage, curtTab, tabs, isSearchEnabled } = storeToRefs(nav)\n const { isAdmin } = storeToRefs(useUserStore())\n@@ -18,36 +19,36 @@ const pages = computed((): { [name: string]: PageItem } => {\n   if (isAdmin.value) {\n     return {\n       comments: {\n-        label: '评论',\n+        label: t('comment'),\n         link: '/comments',\n       },\n       pages: {\n-        label: '页面',\n+        label: t('page'),\n         link: '/pages',\n       },\n       users: {\n-        label: '用户',\n+        label: t('user'),\n         link: '/users',\n       },\n       sites: {\n-        label: '站点',\n+        label: t('site'),\n         link: '/sites',\n         hide: true,\n       },\n       transfer: {\n-        label: '迁移',\n+        label: t('transfer'),\n         link: '/transfer',\n         hide: true,\n       },\n       settings: {\n-        label: '设置',\n+        label: t('settings'),\n         link: '/settings'\n       }\n     }\n   } else {\n     return {\n       comments: {\n-        label: '评论',\n+        label: t('comment'),\n         link: '/comments',\n       }\n     }\n@@ -159,7 +160,7 @@ function onSearchSubmit(evt: Event) {\n       <div class=\"item back-btn\" @click=\"hideSearch()\">\n         <div class=\"icon arrow\"></div>\n       </div>\n-      <input ref=\"searchInputEl\" type=\"text\" placeholder=\"搜索关键字...\" v-model=\"searchValue\" required>\n+      <input ref=\"searchInputEl\" type=\"text\" :placeholder=\"t('searchHint')\" v-model=\"searchValue\" required>\n       <button type=\"submit\" class=\"item search-btn\"></button>\n     </form>\n   </div>"
    },
    {
      "sha": "2820cb84a659366ac3866b005719c861d2ea524c",
      "filename": "ui/packages/artalk-sidebar/src/components/UserEditor.vue",
      "status": "modified",
      "additions": 24,
      "deletions": 22,
      "changes": 46,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FUserEditor.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FUserEditor.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fcomponents%2FUserEditor.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -2,6 +2,8 @@\n import { artalk, bootParams } from '../global'\n import type { UserData, UserDataForAdmin } from 'artalk/types/artalk-data'\n \n+const { t } = useI18n()\n+\n interface IUserEditData {\n   name: string\n   email: string\n@@ -87,47 +89,47 @@ function submit() {\n <template>\n   <div class=\"user-editor-layer\">\n     <div class=\"header\">\n-      <div class=\"title\">用户{{ isCreateMode ? '创建' : '编辑' }}</div>\n+      <div class=\"title\">{{ isCreateMode ? t('userCreate') : t('userEdit') }}</div>\n       <div v-if=\"!isCreateMode\" class=\"close-btn\" @click=\"close()\">\n         <i class=\"atk-icon atk-icon-close\"></i>\n       </div>\n     </div>\n     <div v-if=\"!isCreateMode\" class=\"user-log\">\n-      <div><span>评论数</span>{{(user as any).comment_count}}</div>\n-      <div><span>近期 IP</span>{{(user as any).last_ip || '无'}}</div>\n-      <div><span>近期 UA</span>\n-        <template v-if=\"showFullDetails || !(user as any).last_ua\">{{(user as any).last_ua || '无'}}</template>\n-        <template v-else><span @click=\"showFullDetails = true\" style=\"cursor: pointer;color: var(--at-color-main)\">查看</span></template>\n+      <div><span>{{ t('comments') }}</span>{{(user as any).comment_count}}</div>\n+      <div><span>{{ t('last') }} IP</span>{{(user as any).last_ip || '-'}}</div>\n+      <div><span>{{ t('last') }} UA</span>\n+        <template v-if=\"showFullDetails || !(user as any).last_ua\">{{(user as any).last_ua || '-'}}</template>\n+        <template v-else><span @click=\"showFullDetails = true\" style=\"cursor: pointer;color: var(--at-color-main)\">{{ t('Show') }}</span></template>\n       </div>\n     </div>\n     <form v-if=\"user\" class=\"atk-form\" @submit.prevent=\"submit()\">\n-      <div class=\"atk-label required\">名字</div>\n+      <div class=\"atk-label required\">{{ t('username') }}</div>\n       <input v-model=\"user.name\" type=\"text\" placeholder=\"\" autocomplete=\"off\">\n-      <div class=\"atk-label required\">邮箱</div>\n+      <div class=\"atk-label required\">{{ t('email')  }}</div>\n       <input v-model=\"user.email\" type=\"text\" placeholder=\"\" autocomplete=\"off\">\n-      <div class=\"atk-label\">链接</div>\n+      <div class=\"atk-label\">{{ t('link') }}</div>\n       <input v-model=\"user.link\" type=\"text\" placeholder=\"\" autocomplete=\"off\">\n-      <div class=\"atk-label\">徽章文字</div>\n+      <div class=\"atk-label\">{{ t('badgeText') }}</div>\n       <input v-model=\"user.badge_name\" type=\"text\" placeholder=\"\" autocomplete=\"off\">\n-      <div class=\"atk-label\">徽章颜色 (Color Hex)</div>\n+      <div class=\"atk-label\">{{ t('badgeColor') }} (Color Hex)</div>\n       <input v-model=\"user.badge_color\" type=\"text\" placeholder=\"\" autocomplete=\"off\">\n-      <div class=\"atk-label required\">身份角色</div>\n+      <div class=\"atk-label required\">{{ t('role') }}</div>\n       <select v-model=\"user.is_admin\">\n-        <option :value=\"false\">普通用户</option>\n-        <option :value=\"true\">管理员</option>\n+        <option :value=\"false\">{{ t('normal') }}</option>\n+        <option :value=\"true\">{{ t('admin') }}</option>\n       </select>\n       <template v-if=\"user.is_admin\">\n-        <div class=\"atk-label required\">密码</div>\n-        <input v-model=\"user.password\" type=\"text\" :placeholder=\"isCreateMode ? '' : '(留空不修改密码)'\" autocomplete=\"off\">\n-        <div class=\"atk-label\">所属站点</div>\n-        <input v-model=\"user.site_names_raw\" type=\"text\" placeholder=\"(留空无站点范围限制)\" autocomplete=\"off\">\n+        <div class=\"atk-label required\">{{ t('password') }}</div>\n+        <input v-model=\"user.password\" type=\"text\" :placeholder=\"isCreateMode ? '' : `(${t('passwordEmptyHint')})`\" autocomplete=\"off\">\n+        <div class=\"atk-label\">{{ t('siteAttached') }}</div>\n+        <input v-model=\"user.site_names_raw\" type=\"text\" :placeholder=\"`(${t('siteEmptyHint')})`\" autocomplete=\"off\">\n       </template>\n-      <div class=\"atk-label required\">邮件通知</div>\n+      <div class=\"atk-label required\">{{ t('emailNotify') }}</div>\n       <select v-model=\"user.receive_email\">\n-        <option :value=\"true\">开启</option>\n-        <option :value=\"false\">关闭</option>\n+        <option :value=\"true\">{{ t('enabled') }}</option>\n+        <option :value=\"false\">{{ t('disabled') }}</option>\n       </select>\n-      <button type=\"submit\" class=\"atk-btn\">保存</button>\n+      <button type=\"submit\" class=\"atk-btn\">{{ t('save') }}</button>\n     </form>\n     <LoadingLayer v-if=\"isLoading\" />\n   </div>"
    },
    {
      "sha": "8f043c41edcaa2df59fcf0b7563056f4ca253fc9",
      "filename": "ui/packages/artalk-sidebar/src/global.ts",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fglobal.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fglobal.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fglobal.ts?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -15,7 +15,8 @@ export function getBootParams() {\n     user:       <LocalUser>JSON.parse(p.get('user') || '{}'),\n     view:       p.get('view') || '',\n     viewParams: <any>null,\n-    darkMode:   p.get('darkMode') === '1'\n+    darkMode:   p.get('darkMode') === '1',\n+    locale:     p.get('locale') || '',\n   }\n }\n "
    },
    {
      "sha": "a8fc9eb18686ac92897d008c79c830512202ad71",
      "filename": "ui/packages/artalk-sidebar/src/i18n/messages.ts",
      "status": "added",
      "additions": 166,
      "deletions": 0,
      "changes": 166,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fi18n%2Fmessages.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fi18n%2Fmessages.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fi18n%2Fmessages.ts?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -0,0 +1,166 @@\n+const en = {\n+  ctrlCenter: 'Admin',\n+  msgCenter: 'Messages',\n+  noContent: 'No Content',\n+  searchHint: 'Search by keywords...',\n+  allSites: 'All Sites',\n+  siteManage: 'Site Management',\n+  comment: 'Comment',\n+  page: 'Page',\n+  user: 'User',\n+  site: 'Site',\n+  transfer: 'Transfer',\n+  settings: 'Settings',\n+  all: 'All',\n+  pending: 'Pending',\n+  personal: 'Personal',\n+  mentions: 'Mentions',\n+  mine: 'Mine',\n+  admin: 'Admin',\n+  create: 'Create',\n+  import: 'Import',\n+  export: 'Export',\n+  settingSaved: 'Setting saved',\n+  settingSaveFailed: 'Setting save failed',\n+  settingNotice: 'Note: Some config options may require a manual reboot to take effect.',\n+  apply: 'Apply',\n+  updateComplete: 'Update complete',\n+  updateReady: 'Ready to update...',\n+  opFailed: 'Operation failed',\n+  updateTitle: 'Fetch Title',\n+  cacheClear: 'Cache Clear',\n+  cacheWarm: 'Cache Warm',\n+  editTitle: 'Edit Title',\n+  switchKey: 'Switch Key',\n+  commentAllowAll: 'Anyone Comment',\n+  commentOnlyAdmin: 'Admin Comment Only',\n+  config: 'Config',\n+  userAdminHint: 'Admin user',\n+  userInConfHint: 'This user is defined in config file',\n+  edit: 'Edit',\n+  delete: 'Delete',\n+  siteCount: 'Total {count} Sites',\n+  createSite: 'Create Site',\n+  siteName: 'Site Name',\n+  siteUrls: 'Site URLs',\n+  multiSepHint: 'multiple separated by commas',\n+  add: 'Add',\n+  rename: 'Rename',\n+  inputHint: 'Input text...',\n+  userCreate: 'Create User',\n+  userEdit: 'Edit User',\n+  comments: 'Comments',\n+  last: 'Last',\n+  show: 'Show',\n+  username: 'Username',\n+  email: 'Email',\n+  link: 'Link',\n+  badgeText: 'Badge Text',\n+  badgeColor: 'Badge Color',\n+  role: 'Role',\n+  normal: 'Normal',\n+  password: 'Password',\n+  passwordEmptyHint: 'leave blank not change your password',\n+  siteAttached: 'Attached Site',\n+  siteEmptyHint: 'leave blank not site range restrictions',\n+  emailNotify: 'Email notification',\n+  enabled: 'Enabled',\n+  disabled: 'Disabled',\n+  save: 'Save',\n+  dataFile: 'Data File',\n+  artransfer: 'Artransfer',\n+  targetSiteName: 'Target Site Name',\n+  targetSiteURL: 'Target Site URL',\n+  payload: 'Payload',\n+  optional: 'Optional',\n+  uploadReadyToImport: 'File uploaded and is ready for import',\n+  loginFailure: 'Login failure',\n+  login: 'Login',\n+  loginSelectHint: 'Please select the account you wish to log into:'\n+}\n+\n+const zhCN: typeof en = {\n+  ctrlCenter: '控制中心',\n+  msgCenter: '通知中心',\n+  noContent: '无内容',\n+  searchHint: '搜索关键字...',\n+  allSites: '所有站点',\n+  siteManage: '站点管理',\n+  comment: '评论',\n+  page: '页面',\n+  user: '用户',\n+  site: '站点',\n+  transfer: '迁移',\n+  settings: '设置',\n+  all: '全部',\n+  pending: '待审',\n+  personal: '个人',\n+  mentions: '提及',\n+  mine: '我的',\n+  admin: '管理员',\n+  create: '新增',\n+  import: '导入',\n+  export: '导出',\n+  settingSaved: '配置已保存',\n+  settingSaveFailed: '配置保存失败',\n+  settingNotice: '注：某些配置项可能需手动重启才能生效',\n+  apply: '应用',\n+  updateComplete: '更新完毕',\n+  updateReady: '开始更新...',\n+  opFailed: '操作失败',\n+  updateTitle: '更新标题',\n+  cacheClear: '缓存清除',\n+  cacheWarm: '缓存预热',\n+  editTitle: '标题修改',\n+  switchKey: 'KEY 变更',\n+  commentAllowAll: '所有人可评',\n+  commentOnlyAdmin: '仅管理员可评',\n+  config: '配置文件',\n+  userAdminHint: '该用户具有管理员权限',\n+  userInConfHint: '该用户存在于配置文件中',\n+  edit: '编辑',\n+  delete: '删除',\n+  siteCount: '共 {count} 个站点',\n+  createSite: '新增站点',\n+  siteName: '站点名称',\n+  siteUrls: '站点 URLs',\n+  multiSepHint: '多个用逗号隔开',\n+  add: '新增',\n+  rename: '重命名',\n+  inputHint: '输入内容...',\n+  userCreate: '用户创建',\n+  userEdit: '用户编辑',\n+  comments: '评论',\n+  last: '近期',\n+  show: '展开',\n+  username: '用户名',\n+  email: '邮箱',\n+  link: '链接',\n+  badgeText: '徽章文字',\n+  badgeColor: '徽章颜色',\n+  role: '身份角色',\n+  normal: '普通',\n+  password: '密码',\n+  passwordEmptyHint: '留空不修改密码',\n+  siteAttached: '所属站点',\n+  siteEmptyHint: '留空无站点范围限制',\n+  emailNotify: '邮件通知',\n+  enabled: '开启',\n+  disabled: '关闭',\n+  save: '保存',\n+  dataFile: '数据文件',\n+  artransfer: '转换工具',\n+  targetSiteName: '目标站点名',\n+  targetSiteURL: '目标站点 URL',\n+  payload: '启动参数',\n+  optional: '可选',\n+  uploadReadyToImport: '文件已成功上传，可以开始导入',\n+  loginFailure: '登陆发生异常',\n+  login: '登录',\n+  loginSelectHint: '请选择您要登陆的账户：',\n+\n+}\n+\n+export default {\n+  en, 'zh-CN': zhCN\n+}"
    },
    {
      "sha": "c62a18c033e938c4a9a963bef5f116fae4e0fe7b",
      "filename": "ui/packages/artalk-sidebar/src/lib/settings.ts",
      "status": "modified",
      "additions": 9,
      "deletions": 9,
      "changes": 18,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Flib%2Fsettings.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Flib%2Fsettings.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Flib%2Fsettings.ts?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -1,20 +1,17 @@\n-import YAML from 'yaml'\n-import confTemplate from '../assets/artalk.example.yml?raw'\n+import type YAML from 'yaml'\n \n type YAMLPair = {\n   key?: { value: string, commentBefore: string, comment: string },\n   value?: { commentBefore: string, comment: string, value?: any, items?: YAMLPair[] }\n }\n \n-export function createSettings() {\n+export function createSettings(yamlObj: any) {\n   const customs = shallowRef<YAML.Document.Parsed<YAML.ParsedNode>>()\n \n-  const yamlDocTpl = YAML.parseDocument(confTemplate)\n-\n   const comments: { [path: string]: string } = {}\n   const defaultValues: { [path: string]: string } = {}\n \n-  loop((yamlDocTpl as any).contents.items)\n+  loop((yamlObj as any).contents.items)\n \n   function loop(pairs: YAMLPair[], parent?: YAMLPair, path?: string[]) {\n     pairs.forEach((item, index: number) => {\n@@ -41,13 +38,16 @@ export function createSettings() {\n   function extractItemDescFromComment(nodePath: string|(string|number)[]) {\n     if (Array.isArray(nodePath)) nodePath = nodePath.join('.')\n     const nodeName = nodePath.split('.').slice(-1)[0]\n-    const comment = (comments[nodePath] || '').trim()\n+    let comment = (comments[nodePath] || '').trim()\n+\n+    // ignore comments begin and end with `--`\n+    comment = comment.replace(/--(.*?)--/gm, '')\n \n     let title = ''\n     let subTitle = ''\n     let opts: string[]|null = null\n \n-    const stReg = /\\(.*?\\)$/gm\n+    const stReg = /\\(.*?\\)/gm\n     title = comment.replace(stReg, '').trim()\n     const stFind = stReg.exec(comment)\n     subTitle = stFind ? stFind[0].substring(1, stFind[0].length-1) : ''\n@@ -81,6 +81,6 @@ export function createSettings() {\n let instance: ReturnType<(typeof createSettings)>\n \n export default {\n-  init: () => instance = createSettings(),\n+  init: (yamlObj: any) => instance = createSettings(yamlObj),\n   get: () => instance\n }"
    },
    {
      "sha": "f70b5ef7a37df67f0c43ed046da9ad2f4576018a",
      "filename": "ui/packages/artalk-sidebar/src/main.ts",
      "status": "modified",
      "additions": 15,
      "deletions": 1,
      "changes": 16,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fmain.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fmain.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fmain.ts?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -1,22 +1,36 @@\n import { createApp } from 'vue'\n import { createPinia } from 'pinia'\n+import { createI18n } from 'vue-i18n'\n import { createRouter, createWebHashHistory } from 'vue-router/auto'\n+import messages from './i18n/messages'\n import 'artalk/dist/Artalk.css'\n import './style.scss'\n import App from './App.vue'\n-import global, { createArtalkInstance, bootParams } from './global'\n+import global, { createArtalkInstance, bootParams, getBootParams } from './global'\n \n // 初始化 Artalk\n global.setArtalk(createArtalkInstance())\n \n const app = createApp(App)\n \n+// router\n const router = createRouter({\n   history: createWebHashHistory(),\n })\n \n app.use(router)\n \n+// i18n\n+const i18n = createI18n({\n+  legacy: false, // use i18n in Composition API\n+  locale: getBootParams().locale || 'en',\n+  fallbackLocale: 'en',\n+  messages\n+})\n+\n+app.use(i18n)\n+\n+// pinia\n const pinia = createPinia()\n app.use(pinia)\n "
    },
    {
      "sha": "11ce8c55e763b150bc4beea4da777721e3cd5329",
      "filename": "ui/packages/artalk-sidebar/src/pages/comments.vue",
      "status": "modified",
      "additions": 9,
      "deletions": 8,
      "changes": 17,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fcomments.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fcomments.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fcomments.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -11,23 +11,24 @@ const user = useUserStore()\n const nav = useNavStore()\n const { curtTab } = storeToRefs(nav)\n const { site: curtSite } = storeToRefs(user)\n+const { t } = useI18n()\n \n const search = ref('')\n \n onMounted(() => {\n   // 初始化导航条\n   if (user.isAdmin) {\n     nav.updateTabs({\n-      admin_all: '全部',\n-      admin_pending: '待审',\n-      all: '个人',\n+      admin_all: t('all'),\n+      admin_pending: t('pending'),\n+      all: t('personal'),\n     }, 'admin_all')\n   } else {\n     nav.updateTabs({\n-      mentions: '提及',\n-      all: '全部',\n-      mine: '我的',\n-      pending: '待审',\n+      mentions: t('mentions'),\n+      all: t('all'),\n+      mine: t('mine'),\n+      pending: t('pending'),\n     }, 'mentions')\n   }\n \n@@ -47,7 +48,7 @@ onMounted(() => {\n   list.unreadHighlight = true\n   list.scrollListenerAt = wrapEl.value\n   list.pageMode = 'pagination'\n-  list.noCommentText = '<div class=\"atk-sidebar-no-content\">无内容</div>'\n+  list.noCommentText = `<div class=\"atk-sidebar-no-content\">${t('noContent')}</div>`\n   list.renderComment = (comment) => {\n     const pageURL = comment.getData().page_url\n     comment.getRender().setOpenURL(`${pageURL}#atk-comment-${comment.getID()}`)"
    },
    {
      "sha": "1c0f7355d23944ebf9b2a11e31e9df9bfeae6f27",
      "filename": "ui/packages/artalk-sidebar/src/pages/login.vue",
      "status": "modified",
      "additions": 6,
      "deletions": 5,
      "changes": 11,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Flogin.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Flogin.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Flogin.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -10,6 +10,7 @@\n import global, { bootParams, createArtalkInstance } from '../global'\n \n const router = useRouter()\n+const { t } = useI18n()\n \n let userForm = ref({\n   email:    '',\n@@ -50,7 +51,7 @@ function login(username?: string) {\n     if (e.data?.need_name_select) {\n       userSelector.value = e.data?.need_name_select\n     } else {\n-      loginErr.value = e.msg || '登陆发生异常'\n+      loginErr.value = e.msg || t('loginFailure')\n     }\n   })\n }\n@@ -62,18 +63,18 @@ function login(username?: string) {\n       <img class=\"logo\" src=\"../assets/favicon.png\" alt=\"logo\" draggable=\"false\" />\n     </a>\n     <form class=\"login-form\" @submit.prevent=\"login()\">\n-      <input type=\"text\" placeholder=\"邮箱\" v-model=\"userForm.email\" @focus=\"onFocus\">\n-      <input type=\"password\" placeholder=\"密码\" v-model=\"userForm.password\" @focus=\"onFocus\">\n+      <input type=\"text\" :placeholder=\"t('email')\" v-model=\"userForm.email\" @focus=\"onFocus\">\n+      <input type=\"password\" :placeholder=\"t('password')\" v-model=\"userForm.password\" @focus=\"onFocus\">\n       <div v-if=\"!!loginErr\" class=\"err-msg atk-fade-in\">{{loginErr}}</div>\n-      <button type=\"submit\">登陆</button>\n+      <button type=\"submit\">{{ t('login') }}</button>\n     </form>\n     <div class=\"copyright\">\n       Powered by <a href=\"https://artalk.js.org\" target=\"_blank\">Artalk</a> (v{{version}} / {{buildHash}})\n     </div>\n \n     <div v-if=\"userSelector\" class=\"layer\">\n       <div class=\"user-selector atk-fade-in\">\n-        <div class=\"text\">请选择您要登陆的账户：</div>\n+        <div class=\"text\">{{ t('loginSelectHint') }}</div>\n         <div class=\"user-list\">\n           <div v-for=\"u in userSelector\" class=\"item\" @click=\"userSelector = null; login(u)\">{{u}}</div>\n         </div>"
    },
    {
      "sha": "fd6358d91bc9ea1a044dff4bf81a1752ce3903ef",
      "filename": "ui/packages/artalk-sidebar/src/pages/pages.vue",
      "status": "modified",
      "additions": 8,
      "deletions": 7,
      "changes": 15,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fpages.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fpages.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fpages.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -10,6 +10,7 @@ const nav = useNavStore()\n const { site: curtSite } = storeToRefs(useUserStore())\n const pages = ref<PageData[]>([])\n const curtEditPageID = ref<number|null>(null)\n+const { t } = useI18n()\n \n const pageSize = ref(20)\n const pageTotal = ref(0)\n@@ -107,7 +108,7 @@ function startRefreshTaskWatchdog() {\n }\n \n function setRefreshTaskDone() {\n-  refreshBtn.value.statusText = '更新完毕'\n+  refreshBtn.value.statusText = t('updateComplete')\n   window.setTimeout(() => {\n     refreshBtn.value.isRun = false\n   }, 1500)\n@@ -116,7 +117,7 @@ function setRefreshTaskDone() {\n async function refreshAllPages() {\n   if (refreshBtn.value.isRun) return\n   refreshBtn.value.isRun = true\n-  refreshBtn.value.statusText = '开始更新...'\n+  refreshBtn.value.statusText = t('updateReady')\n \n   // 发起任务\n   try {\n@@ -131,11 +132,11 @@ async function refreshAllPages() {\n }\n \n function cacheFlush() {\n-  artalk!.ctx.getApi().admin.cacheFlushAll().then((d: any) => alert(d.msg)).catch(() => alert('操作失败'))\n+  artalk!.ctx.getApi().admin.cacheFlushAll().then((d: any) => alert(d.msg)).catch(() => alert(t('opFailed')))\n }\n \n function cacheWarm() {\n-  artalk!.ctx.getApi().admin.cacheWarmUp().then((d: any) => alert(d.msg)).catch(() => alert('操作失败'))\n+  artalk!.ctx.getApi().admin.cacheWarmUp().then((d: any) => alert(d.msg)).catch(() => alert(t('opFailed')))\n }\n </script>\n \n@@ -144,10 +145,10 @@ function cacheWarm() {\n     <div class=\"atk-header-action-bar\" :class=\"{ 'bordered': showActBarBorder }\">\n       <span class=\"atk-update-all-title-btn\" @click=\"refreshAllPages()\">\n         <i class=\"atk-icon atk-icon-sync\" :class=\"{'atk-rotate': refreshBtn.isRun}\"></i>\n-        <span class=\"atk-text\">{{ refreshBtn.isRun ? refreshBtn.statusText : '更新标题' }}</span>\n+        <span class=\"atk-text\">{{ refreshBtn.isRun ? refreshBtn.statusText : t('updateTitle') }}</span>\n       </span>\n-      <span class=\"atk-cache-flush-all-btn\" @click=\"cacheFlush()\"><span class=\"atk-text\">缓存清除</span></span>\n-      <span class=\"atk-cache-warm-up-btn\" @click=\"cacheWarm()\"><span class=\"atk-text\">缓存预热</span></span>\n+      <span class=\"atk-cache-flush-all-btn\" @click=\"cacheFlush()\"><span class=\"atk-text\">{{ t('cacheClear') }}</span></span>\n+      <span class=\"atk-cache-warm-up-btn\" @click=\"cacheWarm()\"><span class=\"atk-text\">{{ t('cacheWarm')  }}</span></span>\n     </div>\n     <div class=\"atk-page-list\">\n       <div v-for=\"(page) in pages\" class=\"atk-page-item\">"
    },
    {
      "sha": "39fd253b7d854d433af370b6d6542eee688f9d92",
      "filename": "ui/packages/artalk-sidebar/src/pages/settings.vue",
      "status": "modified",
      "additions": 17,
      "deletions": 18,
      "changes": 35,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsettings.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsettings.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsettings.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -3,33 +3,32 @@ import YAML from 'yaml'\n import { useNavStore } from '../stores/nav'\n import { artalk } from '../global'\n import settings from '../lib/settings'\n-import confTemplate from '../assets/artalk.example.yml?raw'\n import { storeToRefs } from 'pinia'\n import LoadingLayer from '../components/LoadingLayer.vue'\n \n const nav = useNavStore()\n const router = useRouter()\n+const { t } = useI18n()\n const { curtTab } = storeToRefs(nav)\n-const settingsTpl = YAML.parseDocument(confTemplate)\n const isLoading = ref(false)\n-\n-onBeforeMount(() => {\n-  settings.init()\n-})\n+let settingsTpl = shallowReactive({ tpl: null as any })\n \n onMounted(() => {\n   nav.updateTabs({\n-    'sites': '站点',\n-    'transfer': '迁移',\n+    'sites': t('site'),\n+    'transfer': t('transfer'),\n   })\n \n   watch(curtTab, (tab) => {\n     if (tab === 'sites') router.replace('/sites')\n     else if (tab === 'transfer') router.replace('/transfer')\n   })\n \n-  artalk!.ctx.getApi().system.getSettings().then((yamlStr) => {\n-    settings.get().customs.value = YAML.parseDocument(yamlStr)\n+  artalk!.ctx.getApi().system.getSettings().then((data) => {\n+    const yamlObj = YAML.parseDocument(data.template)\n+    settingsTpl.tpl = yamlObj\n+    settings.init(yamlObj)\n+    settings.get().customs.value = YAML.parseDocument(data.custom)\n   })\n })\n \n@@ -38,43 +37,43 @@ function save() {\n   try {\n     yamlStr = settings.get().customs.value?.toString() || ''\n   } catch (err) {\n-    alert('配置文件生成失败：'+err)\n+    alert('YAML export error: '+err)\n     console.error(err)\n     return\n   }\n \n   console.log(yamlStr)\n   if (!yamlStr) {\n-    alert('配置文件生成失败：数据为空')\n+    alert('YAML export error: data is empty')\n     return\n   }\n \n   if (isLoading.value) return\n   isLoading.value = true\n   artalk!.ctx.getApi().system.saveSettings(yamlStr).then(() => {\n-    alert('设置保存成功')\n+    alert(t('settingSaved'))\n   }).catch((err) => {\n     console.error(err)\n-    alert('设置保存失败：'+err)\n+    alert(t('settingSaveFailed')+': '+err)\n   }).finally(() => {\n     isLoading.value = false\n   })\n }\n </script>\n \n <template>\n-  <div class=\"settings\">\n+  <div v-if=\"!!settingsTpl.tpl\" class=\"settings\">\n     <div class=\"act-bar\">\n       <div class=\"status-text\"></div>\n-      <button class=\"save-btn\" @click=\"save()\"><i class=\"atk-icon atk-icon-yes\" /> 应用</button>\n+      <button class=\"save-btn\" @click=\"save()\"><i class=\"atk-icon atk-icon-yes\" /> {{ t('apply') }}</button>\n       <LoadingLayer v-if=\"isLoading\" />\n     </div>\n     <div class=\"pfs\">\n       <PreferenceGrp\n-        :tpl-data=\"settingsTpl.toJS()\"\n+        :tpl-data=\"settingsTpl.tpl.toJS()\"\n         :path=\"[]\"\n       />\n-      <div class=\"notice\">注：某些配置项可能需手动重启才能生效，详见 <a href=\"https://artalk.js.org/guide/backend/config.html\" target=\"_blank\">官方文档</a></div>\n+      <div class=\"notice\">{{ t('settingNotice') }}</div>\n     </div>\n   </div>\n </template>"
    },
    {
      "sha": "18519a275b4d77a9ef2b7c0e1c9579c154b0cd2e",
      "filename": "ui/packages/artalk-sidebar/src/pages/sites.vue",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsites.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsites.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fsites.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -8,11 +8,12 @@ const sites = ref<SiteData[]>([])\n const curtEditSite = ref<SiteData|null>(null)\n const showSiteCreate = ref(false)\n const siteCreateInitVal = ref()\n+const { t } = useI18n()\n \n onMounted(() => {\n   nav.updateTabs({\n \n-  }, '站点')\n+  }, 'sites')\n \n   nav.setPageLoading(true)\n   artalk?.ctx.getApi().site.siteGet().then(gotSites => {\n@@ -86,7 +87,7 @@ function onSiteItemRemove(id: number) {\n <template>\n   <div class=\"atk-site-list\">\n     <div class=\"atk-header\">\n-      <div class=\"atk-title\">共 {{ sites.length }} 个站点</div>\n+      <div class=\"atk-title\">{{ t('siteCount', { count: sites.length }) }}</div>\n       <div class=\"atk-actions\">\n         <div class=\"atk-item atk-site-add-btn\" @click=\"create()\"><i class=\"atk-icon atk-icon-plus\"></i></div>\n       </div>"
    },
    {
      "sha": "999ff09e9f8e5d5db72653fb8a3f212a99972417",
      "filename": "ui/packages/artalk-sidebar/src/pages/transfer.vue",
      "status": "modified",
      "additions": 11,
      "deletions": 10,
      "changes": 21,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Ftransfer.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Ftransfer.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Ftransfer.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -8,6 +8,7 @@ import { storeToRefs } from 'pinia';\n const nav = useNavStore()\n const user = useUserStore()\n const { curtTab } = storeToRefs(nav)\n+const { t } = useI18n()\n \n const importParams = ref({\n   siteName: '',\n@@ -29,8 +30,8 @@ const exportTaskStarted = ref(false)\n \n onMounted(() => {\n   nav.updateTabs({\n-    'import': '导入',\n-    'export': '导出',\n+    'import': t('import'),\n+    'export': t('export'),\n   }, 'import')\n   watch(curtTab, (tab) => {\n     if (tab === 'export') {\n@@ -147,37 +148,37 @@ function padWithZeros(vNumber: number, width: number) {\n   <LoadingLayer v-if=\"isLoading\" />\n   <LogTerminal v-if=\"importTaskStarted\" :api-url=\"importTaskApiURL\" :req-params=\"importTaskParams\" @back=\"importTaskDone()\" />\n   <div v-show=\"!importTaskStarted\" class=\"atk-form\">\n-    <div class=\"atk-label atk-data-file-label\">Artrans 数据文件</div>\n+    <div class=\"atk-label atk-data-file-label\">Artrans {{ t('dataFile') }}</div>\n     <FileUploader :api-url=\"uploadApiURL\" @done=\"fileUploaded\">\n       <template v-slot:tip>\n         使用「<a href=\"https://artalk.js.org/guide/transfer.html\" target=\"_blank\">转换工具</a>」将评论数据转为 Artrans 格式\n       </template>\n       <template v-slot:done-msg>\n-        文件已成功上传，可以开始导入\n+        {{ t('uploadReadyToImport') }}\n       </template>\n     </FileUploader>\n-    <div class=\"atk-label\">目标站点名</div>\n+    <div class=\"atk-label\">{{ t('targetSiteName') }}</div>\n     <input\n       type=\"text\"\n       name=\"AtkSiteName\"\n-      placeholder=\"输入内容...\"\n+      :placeholder=\"t('inputHint')\"\n       autocomplete=\"off\"\n       v-model=\"importParams.siteName\"\n     />\n-    <div class=\"atk-label\">目标站点 URL</div>\n+    <div class=\"atk-label\">{{ t('targetSiteURL') }}</div>\n     <input\n       type=\"text\"\n       name=\"AtkSiteURL\"\n-      placeholder=\"输入内容...\"\n+      :placeholder=\"t('inputHint')\"\n       autocomplete=\"off\"\n       v-model=\"importParams.siteURL\"\n     />\n-    <div class=\"atk-label\">启动参数（可选）</div>\n+    <div class=\"atk-label\">{{ t('payload') }} ({{ t('optional') }})</div>\n     <textarea name=\"AtkPayload\" v-model=\"importParams.payload\"></textarea>\n     <span class=\"atk-desc\">\n       参考「<a href=\"https://artalk.js.org/guide/transfer.html\" target=\"_blank\">文档 · 数据迁移</a>」\n     </span>\n-    <button class=\"atk-btn\" name=\"AtkSubmit\" @click=\"startImportTask()\">导入</button>\n+    <button class=\"atk-btn\" name=\"AtkSubmit\" @click=\"startImportTask()\">{{ t('import') }}</button>\n   </div>\n </template>\n "
    },
    {
      "sha": "7ad41c68f4382a2a8f394b72c792f47654479411",
      "filename": "ui/packages/artalk-sidebar/src/pages/users.vue",
      "status": "modified",
      "additions": 9,
      "deletions": 8,
      "changes": 17,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fusers.vue",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fusers.vue",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fpages%2Fusers.vue?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -9,6 +9,7 @@ const nav = useNavStore()\n const router = useRouter()\n const { curtTab } = storeToRefs(nav)\n const users = ref<UserDataForAdmin[]>([])\n+const { t } = useI18n()\n \n const pageSize = ref(30)\n const pageTotal = ref(0)\n@@ -20,9 +21,9 @@ const editingUser = ref<UserDataForAdmin|undefined>()\n \n onMounted(() => {\n   nav.updateTabs({\n-    'all': '全部',\n-    'admin': '管理员',\n-    'create': '新增'\n+    'all': t('all'),\n+    'admin': t('admin'),\n+    'create': t('create')\n   }, 'all')\n \n   watch(curtTab, (tab) => {\n@@ -123,16 +124,16 @@ function delUser(user: UserDataForAdmin) {\n             {{ user.name }}\n             <span class=\"badge-grp\">\n               <span v-if=\"user.badge_name\" class=\"badge\" :style=\"{ backgroundColor: user.badge_color }\">{{user.badge_name}}</span>\n-              <span v-else-if=\"user.is_admin\" class=\"badge admin\" title=\"该用户具有管理员权限\">管理员</span>\n-              <span v-if=\"user.is_in_conf\" class=\"badge in-conf\" title=\"该用户存在于配置文件中\">配置文件</span>\n+              <span v-else-if=\"user.is_admin\" class=\"badge admin\" :title=\"t('userAdminHint')\">{{ t('Admin') }}</span>\n+              <span v-if=\"user.is_in_conf\" class=\"badge in-conf\" :title=\"t('userInConfHint')\">{{ t('Config') }}</span>\n             </span>\n           </div>\n           <div class=\"sub\">{{ user.email }}</div>\n         </div>\n         <div class=\"user-actions\">\n-          <span @click=\"editUser(user)\">编辑</span>\n-          <span>评论 ({{user.comment_count}})</span>\n-          <span @click=\"delUser(user)\">删除</span>\n+          <span @click=\"editUser(user)\">{{ t('edit') }}</span>\n+          <span>{{ t('comment') }} ({{user.comment_count}})</span>\n+          <span @click=\"delUser(user)\">{{ t('delete') }}</span>\n         </div>\n       </div>\n     </div>"
    },
    {
      "sha": "3a35e5f1e0e5fdbcc6530129b4b6ee05c0f903c3",
      "filename": "ui/packages/artalk-sidebar/src/style/_extends.scss",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fstyle%2F_extends.scss",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fstyle%2F_extends.scss",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fsrc%2Fstyle%2F_extends.scss?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -32,7 +32,7 @@\n   .atk-item {\n     position: relative;\n     font-size: 17px;\n-    max-width: 5em;\n+    // max-width: 5em;\n     display: inline-flex;\n     margin-right: 15px;\n     margin-bottom: 6px;"
    },
    {
      "sha": "017edf47240303c0e831f1c26d73efc03ffe44aa",
      "filename": "ui/packages/artalk-sidebar/vite.config.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fvite.config.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk-sidebar%2Fvite.config.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk-sidebar%2Fvite.config.ts?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -20,7 +20,7 @@ export default defineConfig({\n     vue(),\n     Components({ resolvers: [HeadlessUiResolver()] }),\n     AutoImport({\n-      imports: ['vue', VueRouterAutoImports],\n+      imports: ['vue', VueRouterAutoImports, 'vue-i18n'],\n     }),\n     (() => ({\n       name: 'prod-vue-resolver',"
    },
    {
      "sha": "4f3a825c2231a91f84206b9be7755d82d24dab3f",
      "filename": "ui/packages/artalk/src/api/system.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk%2Fsrc%2Fapi%2Fsystem.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk%2Fsrc%2Fapi%2Fsystem.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk%2Fsrc%2Fapi%2Fsystem.ts?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -25,7 +25,7 @@ export default class SystemApi extends ApiBase {\n \n   /** 获取配置数据 */\n   public async getSettings() {\n-    const data = await this.POST<string>('/admin/setting-get')\n+    const data = await this.POST<{custom: string, template: string}>('/admin/setting-get')\n     return data\n   }\n "
    },
    {
      "sha": "d324a07564a6b64564dbcd8789c6a7fd3bcd3f53",
      "filename": "ui/packages/artalk/src/layer/sidebar-layer.ts",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk%2Fsrc%2Flayer%2Fsidebar-layer.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk%2Fsrc%2Flayer%2Fsidebar-layer.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk%2Fsrc%2Flayer%2Fsidebar-layer.ts?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -89,6 +89,7 @@ export default class SidebarLayer extends Component {\n \n       if (conf.view) query.view = conf.view\n       if (this.conf.darkMode) query.darkMode = '1'\n+      if (typeof this.conf.locale === 'string') query.locale = this.conf.locale\n \n       const urlParams = new URLSearchParams(query);\n       this.iframeLoad(`${baseURL}?${urlParams.toString()}`)"
    },
    {
      "sha": "5b355a4b1daf5e046c4f13dc9543dba4b0500e4f",
      "filename": "ui/packages/artalk/src/list/list.ts",
      "status": "modified",
      "additions": 9,
      "deletions": 1,
      "changes": 10,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk%2Fsrc%2Flist%2Flist.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk%2Fsrc%2Flist%2Flist.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk%2Fsrc%2Flist%2Flist.ts?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -29,16 +29,24 @@ export default class List extends ListLite {\n     // 操作按钮\n     this.initListActionBtn()\n \n+    const countNumHTML = '<span class=\"atk-comment-count-num\">0</span>'\n     this.$commentCount = this.$el.querySelector('.atk-comment-count')!\n     this.$commentCount.innerHTML = this.$t('counter', {\n-      count: '<span class=\"atk-comment-count-num\">0</span>',\n+      count: countNumHTML,\n     })\n     this.$commentCountNum = this.$commentCount.querySelector('.atk-comment-count-num')!\n \n     // copyright\n     this.$el.querySelector<HTMLElement>('.atk-copyright')!.innerHTML = `Powered By <a href=\"https://artalk.js.org\" target=\"_blank\" title=\"Artalk v${ARTALK_VERSION}\">Artalk</a>`\n \n     // event listen\n+    this.ctx.on('conf-loaded', () => {\n+      // i18n support when locale changed\n+      this.$commentCount.innerHTML = this.$t('counter', {\n+        count: countNumHTML,\n+      })\n+      this.refreshUI()\n+    })\n   }\n \n   private initListActionBtn() {"
    },
    {
      "sha": "1a5ec25462026b4b719d14917d43363eea614264",
      "filename": "ui/packages/artalk/src/style/main.less",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk%2Fsrc%2Fstyle%2Fmain.less",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpackages%2Fartalk%2Fsrc%2Fstyle%2Fmain.less",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk%2Fsrc%2Fstyle%2Fmain.less?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -14,7 +14,7 @@\n .artalk, .atk-layer-wrap {\n   color: var(--at-color-font);\n   word-wrap: break-word;\n-  word-break: break-all;\n+  word-break: break-word;\n \n   * {\n     box-sizing: border-box;"
    },
    {
      "sha": "53d009876a6c629506d14e3eb03d02ee008ddd9b",
      "filename": "ui/pnpm-lock.yaml",
      "status": "modified",
      "additions": 53,
      "deletions": 0,
      "changes": 53,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpnpm-lock.yaml",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/7de6c27bd8d865fe6421950f0c0fe47be5d8be83/ui%2Fpnpm-lock.yaml",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpnpm-lock.yaml?ref=7de6c27bd8d865fe6421950f0c0fe47be5d8be83",
      "patch": "@@ -76,13 +76,15 @@ importers:\n       unplugin-vue-router: ^0.2.3\n       vite: ^3.1.8\n       vue: ^3.2.45\n+      vue-i18n: '9'\n       vue-router: ^4.1.6\n       vue-tsc: ^0.40.13\n       yaml: ^2.1.3\n     dependencies:\n       artalk: link:../artalk\n       pinia: 2.0.28_e7lp6ggkpgyi5vqd44m2kxvk6i\n       vue: 3.2.45\n+      vue-i18n: 9.2.2_vue@3.2.45\n       vue-router: 4.1.6_vue@3.2.45\n       yaml: 2.1.3\n     devDependencies:\n@@ -209,6 +211,44 @@ packages:\n     resolution: {integrity: sha512-ZnQMnLV4e7hDlUvw8H+U8ASL02SS2Gn6+9Ac3wGGLIe7+je2AeAOxPY+izIPJDfFDb7eDjev0Us8MO1iFRN8hA==}\n     dev: true\n \n+  /@intlify/core-base/9.2.2:\n+    resolution: {integrity: sha512-JjUpQtNfn+joMbrXvpR4hTF8iJQ2sEFzzK3KIESOx+f+uwIjgw20igOyaIdhfsVVBCds8ZM64MoeNSx+PHQMkA==}\n+    engines: {node: '>= 14'}\n+    dependencies:\n+      '@intlify/devtools-if': 9.2.2\n+      '@intlify/message-compiler': 9.2.2\n+      '@intlify/shared': 9.2.2\n+      '@intlify/vue-devtools': 9.2.2\n+    dev: false\n+\n+  /@intlify/devtools-if/9.2.2:\n+    resolution: {integrity: sha512-4ttr/FNO29w+kBbU7HZ/U0Lzuh2cRDhP8UlWOtV9ERcjHzuyXVZmjyleESK6eVP60tGC9QtQW9yZE+JeRhDHkg==}\n+    engines: {node: '>= 14'}\n+    dependencies:\n+      '@intlify/shared': 9.2.2\n+    dev: false\n+\n+  /@intlify/message-compiler/9.2.2:\n+    resolution: {integrity: sha512-IUrQW7byAKN2fMBe8z6sK6riG1pue95e5jfokn8hA5Q3Bqy4MBJ5lJAofUsawQJYHeoPJ7svMDyBaVJ4d0GTtA==}\n+    engines: {node: '>= 14'}\n+    dependencies:\n+      '@intlify/shared': 9.2.2\n+      source-map: 0.6.1\n+    dev: false\n+\n+  /@intlify/shared/9.2.2:\n+    resolution: {integrity: sha512-wRwTpsslgZS5HNyM7uDQYZtxnbI12aGiBZURX3BTR9RFIKKRWpllTsgzHWvj3HKm3Y2Sh5LPC1r0PDCKEhVn9Q==}\n+    engines: {node: '>= 14'}\n+    dev: false\n+\n+  /@intlify/vue-devtools/9.2.2:\n+    resolution: {integrity: sha512-+dUyqyCHWHb/UcvY1MlIpO87munedm3Gn6E9WWYdWrMuYLcoIoOEVDWSS8xSwtlPU+kA+MEQTP6Q1iI/ocusJg==}\n+    engines: {node: '>= 14'}\n+    dependencies:\n+      '@intlify/core-base': 9.2.2\n+      '@intlify/shared': 9.2.2\n+    dev: false\n+\n   /@jridgewell/gen-mapping/0.3.2:\n     resolution: {integrity: sha512-mh65xKQAzI6iBcFzwv28KVWSmCkdRBWoOh+bYQGW3+6OZvbbN3TqMGo5hqYxQniRcH9F2VZIoJCm4pa3BPDK/A==}\n     engines: {node: '>=6.0.0'}\n@@ -3143,6 +3183,19 @@ packages:\n       vue: 3.2.45\n     dev: false\n \n+  /vue-i18n/9.2.2_vue@3.2.45:\n+    resolution: {integrity: sha512-yswpwtj89rTBhegUAv9Mu37LNznyu3NpyLQmozF3i1hYOhwpG8RjcjIFIIfnu+2MDZJGSZPXaKWvnQA71Yv9TQ==}\n+    engines: {node: '>= 14'}\n+    peerDependencies:\n+      vue: ^3.0.0\n+    dependencies:\n+      '@intlify/core-base': 9.2.2\n+      '@intlify/shared': 9.2.2\n+      '@intlify/vue-devtools': 9.2.2\n+      '@vue/devtools-api': 6.4.5\n+      vue: 3.2.45\n+    dev: false\n+\n   /vue-router/4.1.6_vue@3.2.45:\n     resolution: {integrity: sha512-DYWYwsG6xNPmLq/FmZn8Ip+qrhFEzA14EI12MsMgVxvHFDYvlr4NXpVF5hrRH1wVcDP8fGi5F4rxuJSl8/r+EQ==}\n     peerDependencies:"
    }
  ]
}
