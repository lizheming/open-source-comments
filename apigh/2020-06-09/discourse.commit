{
  "sha": "edc940ce3e36a3e80c3744f787f3dcf4820b8521",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODplZGM5NDBjZTNlMzZhM2U4MGMzNzQ0Zjc4N2YzZGNmNDgyMGI4NTIx",
  "commit": {
    "author": {
      "name": "Guo Xiang Tan",
      "email": "gxtan1990@gmail.com",
      "date": "2020-06-09T09:05:14Z"
    },
    "committer": {
      "name": "Guo Xiang Tan",
      "email": "gxtan1990@gmail.com",
      "date": "2020-06-09T09:05:14Z"
    },
    "message": "DEV: Fix incorrect messagebus redis config for rails_failover.",
    "tree": {
      "sha": "d761578a53f987b32e42f0bd60cf5b16552c48bf",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/d761578a53f987b32e42f0bd60cf5b16552c48bf"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/edc940ce3e36a3e80c3744f787f3dcf4820b8521",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMOJGkc46I9vMVlDg+9EQF5qsHyAFAl7fUNwACgkQ+9EQF5qs\nHyCYQQ//cy1eNgSq5kwoioN5Fg1ZtoZvHUPsuk4CJJS3om0FuCqyRNJVJA2ihVUv\n8Tj9og6FNTvzOCymwEh3mqwAWuV80T9o/bB7gb4EpV5unQ5jZNqo4MD6pWFJpxIO\n2VIjSMrlZD0CREZ4Au6an3gD/Dwh9JYlJd5nx8UU7ezLRjdo/IEw/US6KCcUEjCb\nDNB4rH4gCH5hvI63Oh+dB+OGZV5wn+YizXiTCvxJCc2J2LFWMHmDJkA9gbvhfyjX\nNLkUmwgYWgz29Nz0ZASwG8+hQAtT0ZvQyNnW5j0eM7ed/QfK9S4MsI7BvnqLoqcx\nJulxV3ytaBZz6xB1DX3xD/QRsJWraE2IMwOzFkEfaIR8WNT6gE3D70gZAchwNkq+\nMTZiNfVajDyW6Q7ONSTY/k5KRaqNePdxGHqU7TvHkn9bxyj8k3SnQ3lWjdOUMpL6\nJx7GXE9xX3TurbvWFBsJ843NsVlcbnGqn9OQdCuzcOyBMV6/zBtvoxt1Y6wE8M50\nVO+20j4uAehT0ewLClyKhge6nTS2bJTLhlt1Y2ni5ECdh3fk1xeuQg+lInwMzhvU\nqbweDfDVHWMMOjHrgZzmdnhhedS/iwOOP7xuACls+qDva2ISpaOskMxgexpgq3rm\nK0MQjnBbX35HEnRkOMiPhXEmB37ob/R3MpxS2FpaE7t5L/w97y8=\n=x+rD\n-----END PGP SIGNATURE-----",
      "payload": "tree d761578a53f987b32e42f0bd60cf5b16552c48bf\nparent c35649ccf1f5b7f6b262e7334df169e5dd9264ee\nauthor Guo Xiang Tan <gxtan1990@gmail.com> 1591693514 +0800\ncommitter Guo Xiang Tan <gxtan1990@gmail.com> 1591693514 +0800\n\nDEV: Fix incorrect messagebus redis config for rails_failover.\n"
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/edc940ce3e36a3e80c3744f787f3dcf4820b8521",
  "html_url": "https://github.com/discourse/discourse/commit/edc940ce3e36a3e80c3744f787f3dcf4820b8521",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/edc940ce3e36a3e80c3744f787f3dcf4820b8521/comments",
  "author": {
    "login": "tgxworld",
    "id": 4335742,
    "node_id": "MDQ6VXNlcjQzMzU3NDI=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/4335742?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tgxworld",
    "html_url": "https://github.com/tgxworld",
    "followers_url": "https://api.github.com/users/tgxworld/followers",
    "following_url": "https://api.github.com/users/tgxworld/following{/other_user}",
    "gists_url": "https://api.github.com/users/tgxworld/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tgxworld/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tgxworld/subscriptions",
    "organizations_url": "https://api.github.com/users/tgxworld/orgs",
    "repos_url": "https://api.github.com/users/tgxworld/repos",
    "events_url": "https://api.github.com/users/tgxworld/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tgxworld/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tgxworld",
    "id": 4335742,
    "node_id": "MDQ6VXNlcjQzMzU3NDI=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/4335742?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tgxworld",
    "html_url": "https://github.com/tgxworld",
    "followers_url": "https://api.github.com/users/tgxworld/followers",
    "following_url": "https://api.github.com/users/tgxworld/following{/other_user}",
    "gists_url": "https://api.github.com/users/tgxworld/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tgxworld/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tgxworld/subscriptions",
    "organizations_url": "https://api.github.com/users/tgxworld/orgs",
    "repos_url": "https://api.github.com/users/tgxworld/repos",
    "events_url": "https://api.github.com/users/tgxworld/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tgxworld/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "c35649ccf1f5b7f6b262e7334df169e5dd9264ee",
      "url": "https://api.github.com/repos/discourse/discourse/commits/c35649ccf1f5b7f6b262e7334df169e5dd9264ee",
      "html_url": "https://github.com/discourse/discourse/commit/c35649ccf1f5b7f6b262e7334df169e5dd9264ee"
    }
  ],
  "stats": {
    "total": 4,
    "additions": 2,
    "deletions": 2
  },
  "files": [
    {
      "sha": "c32b2b2e0835756efe5f5727c67cb4c8ee731a88",
      "filename": "app/models/global_setting.rb",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/discourse/discourse/blob/edc940ce3e36a3e80c3744f787f3dcf4820b8521/app/models/global_setting.rb",
      "raw_url": "https://github.com/discourse/discourse/raw/edc940ce3e36a3e80c3744f787f3dcf4820b8521/app/models/global_setting.rb",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/models/global_setting.rb?ref=edc940ce3e36a3e80c3744f787f3dcf4820b8521",
      "patch": "@@ -200,8 +200,8 @@ def self.message_bus_redis_config\n \n         if message_bus_redis_slave_host && message_bus_redis_slave_port\n           if ENV[\"REDIS_RAILS_FAILOVER\"]\n-            c[:replica_host] = redis_slave_host\n-            c[:replica_port] = redis_slave_port\n+            c[:replica_host] = message_bus_redis_slave_host\n+            c[:replica_port] = message_bus_redis_slave_port\n             c[:connector] = RailsFailover::Redis::Connector\n           else\n             c[:slave_host] = message_bus_redis_slave_host"
    }
  ]
}
