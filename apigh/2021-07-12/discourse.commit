{
  "sha": "efac01d259b320272fb4f3fe86d77091c2c876e5",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODplZmFjMDFkMjU5YjMyMDI3MmZiNGYzZmU4NmQ3NzA5MWMyYzg3NmU1",
  "commit": {
    "author": {
      "name": "Jarek Radosz",
      "email": "jradosz@gmail.com",
      "date": "2021-07-12T00:48:23Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2021-07-12T00:48:23Z"
    },
    "message": "FIX: Scroll to top on badge pages (#13694)\n\n…so we don't end up at a random point on the page after a transition.",
    "tree": {
      "sha": "94ec96406ec15fde4dbefdc97308d26a254cef30",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/94ec96406ec15fde4dbefdc97308d26a254cef30"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/efac01d259b320272fb4f3fe86d77091c2c876e5",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJg65FXCRBK7hj4Ov3rIwAAKskIADHn1TJ56uyYz2V3UoAsBFvJ\nECWdhw4gtRDL9QuE0s9jKohd3kc1T82KHzBtTI6OfMIj2Xlg92KplLrNGJzUWDoN\nKAqC3ZRsHu4PhphzDHW68BMzCGTjPRGCKxPc0X8ok46K4z6Tl9oNS5yct77esVAm\nphuFVZtwftuCkDlthcLQ+Ov3HLo37xSNHPStvLfsaNUkZtzK5CL7CZst6oyHuMRz\nUhg0Ix7wEsD+tfUNYM0eZ8C9oo4HNJC38Ms0fsJhcTPJMQz3xzYY+11BEYgSSnk9\noRe6gVgsbQkCiqd5Ge6pYCjZl8kYchxAzvetdu9UwgUM8u4iJP6b4uaGWp5AikQ=\n=gait\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 94ec96406ec15fde4dbefdc97308d26a254cef30\nparent aebc6164fc988c674bdf98f05791a6838782763e\nauthor Jarek Radosz <jradosz@gmail.com> 1626050903 +0200\ncommitter GitHub <noreply@github.com> 1626050903 +1000\n\nFIX: Scroll to top on badge pages (#13694)\n\n…so we don't end up at a random point on the page after a transition."
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/efac01d259b320272fb4f3fe86d77091c2c876e5",
  "html_url": "https://github.com/discourse/discourse/commit/efac01d259b320272fb4f3fe86d77091c2c876e5",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/efac01d259b320272fb4f3fe86d77091c2c876e5/comments",
  "author": {
    "login": "CvX",
    "id": 66961,
    "node_id": "MDQ6VXNlcjY2OTYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/66961?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CvX",
    "html_url": "https://github.com/CvX",
    "followers_url": "https://api.github.com/users/CvX/followers",
    "following_url": "https://api.github.com/users/CvX/following{/other_user}",
    "gists_url": "https://api.github.com/users/CvX/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CvX/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CvX/subscriptions",
    "organizations_url": "https://api.github.com/users/CvX/orgs",
    "repos_url": "https://api.github.com/users/CvX/repos",
    "events_url": "https://api.github.com/users/CvX/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CvX/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "aebc6164fc988c674bdf98f05791a6838782763e",
      "url": "https://api.github.com/repos/discourse/discourse/commits/aebc6164fc988c674bdf98f05791a6838782763e",
      "html_url": "https://github.com/discourse/discourse/commit/aebc6164fc988c674bdf98f05791a6838782763e"
    }
  ],
  "stats": {
    "total": 27,
    "additions": 16,
    "deletions": 11
  },
  "files": [
    {
      "sha": "1b3b34be73c233bbe163eff06d0d96de162ff40e",
      "filename": "app/assets/javascripts/discourse/app/routes/badges-index.js",
      "status": "modified",
      "additions": 7,
      "deletions": 5,
      "changes": 12,
      "blob_url": "https://github.com/discourse/discourse/blob/efac01d259b320272fb4f3fe86d77091c2c876e5/app/assets/javascripts/discourse/app/routes/badges-index.js",
      "raw_url": "https://github.com/discourse/discourse/raw/efac01d259b320272fb4f3fe86d77091c2c876e5/app/assets/javascripts/discourse/app/routes/badges-index.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/routes/badges-index.js?ref=efac01d259b320272fb4f3fe86d77091c2c876e5",
      "patch": "@@ -2,6 +2,8 @@ import Badge from \"discourse/models/badge\";\n import DiscourseRoute from \"discourse/routes/discourse\";\n import I18n from \"I18n\";\n import PreloadStore from \"discourse/lib/preload-store\";\n+import { scrollTop } from \"discourse/mixins/scroll-top\";\n+import { action } from \"@ember/object\";\n \n export default DiscourseRoute.extend({\n   model() {\n@@ -18,10 +20,10 @@ export default DiscourseRoute.extend({\n     return I18n.t(\"badges.title\");\n   },\n \n-  actions: {\n-    didTransition() {\n-      this.controllerFor(\"application\").set(\"showFooter\", true);\n-      return true;\n-    },\n+  @action\n+  didTransition() {\n+    this.controllerFor(\"application\").set(\"showFooter\", true);\n+    scrollTop();\n+    return true;\n   },\n });"
    },
    {
      "sha": "3cfc9dc71214c30ffede3140e95a8ca23a47d58b",
      "filename": "app/assets/javascripts/discourse/app/routes/badges-show.js",
      "status": "modified",
      "additions": 9,
      "deletions": 6,
      "changes": 15,
      "blob_url": "https://github.com/discourse/discourse/blob/efac01d259b320272fb4f3fe86d77091c2c876e5/app/assets/javascripts/discourse/app/routes/badges-show.js",
      "raw_url": "https://github.com/discourse/discourse/raw/efac01d259b320272fb4f3fe86d77091c2c876e5/app/assets/javascripts/discourse/app/routes/badges-show.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/routes/badges-show.js?ref=efac01d259b320272fb4f3fe86d77091c2c876e5",
      "patch": "@@ -2,20 +2,16 @@ import Badge from \"discourse/models/badge\";\n import DiscourseRoute from \"discourse/routes/discourse\";\n import PreloadStore from \"discourse/lib/preload-store\";\n import UserBadge from \"discourse/models/user-badge\";\n+import { scrollTop } from \"discourse/mixins/scroll-top\";\n import { hash } from \"rsvp\";\n+import { action } from \"@ember/object\";\n \n export default DiscourseRoute.extend({\n   queryParams: {\n     username: {\n       refreshModel: true,\n     },\n   },\n-  actions: {\n-    didTransition() {\n-      this.controllerFor(\"badges/show\")._showFooter();\n-      return true;\n-    },\n-  },\n \n   serialize(model) {\n     return model.getProperties(\"id\", \"slug\");\n@@ -68,4 +64,11 @@ export default DiscourseRoute.extend({\n     controller.set(\"userBadges\", this.userBadgesGrant);\n     controller.set(\"userBadgesAll\", this.userBadgesAll);\n   },\n+\n+  @action\n+  didTransition() {\n+    this.controllerFor(\"badges/show\")._showFooter();\n+    scrollTop();\n+    return true;\n+  },\n });"
    }
  ]
}
