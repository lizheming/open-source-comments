{
  "sha": "9e021cb6263e921ac519f52b82df3f66a297d3d1",
  "node_id": "C_kwDOAF-mA9oAKDllMDIxY2I2MjYzZTkyMWFjNTE5ZjUyYjgyZGYzZjY2YTI5N2QzZDE",
  "commit": {
    "author": {
      "name": "bookgin",
      "email": "bookgin@bookgin.tw",
      "date": "2021-10-24T20:16:45Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2021-10-24T20:16:45Z"
    },
    "message": "Fix GitHub actions (#733)\n\n* Add Flask in dependencies.\n\nFlask-Caching requires Flask. This should also fix posativ#621.\nSee https://github.com/sh4nks/flask-caching/blob/cb6a7a3d61057b07ebdc7a58359b41257fe0af93/setup.py#L44-L44.\n\n* Install style checks dependency in GitHub Actions.\n\n* Fix Flake8 rules F401: Module imported but unused.\n\n* Add python 3.9 support.",
    "tree": {
      "sha": "5229afd9d605e2e5fa4258d0827a51556da60c84",
      "url": "https://api.github.com/repos/posativ/isso/git/trees/5229afd9d605e2e5fa4258d0827a51556da60c84"
    },
    "url": "https://api.github.com/repos/posativ/isso/git/commits/9e021cb6263e921ac519f52b82df3f66a297d3d1",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhdb8tCRBK7hj4Ov3rIwAAJd0IABgYkNLz1ZaowstYpWkDS21m\nZNN6/UVOiNlD7VqGGvJjiztSbggKa1SKLQTFt7gEJu7ImiR+46sZyZDzFYG31zPm\nnd7MQhlA2zxsSvqSsCDsC7hyDY+3hElcRGuBzsRvajgdocUfdjRu4U3VyoYQLtNl\nRmRGgjaSwQCIaEmlTOhlvNpapf4zUmKUwkv3BUx6QgQuAwl8A1ilrfQdfBhyllNL\nBVfEJcurpyCIOrswzlvcMyGcR3lzZVwWEnKIAtVVHBuz+bHbun0QHkzRtiKXCmFT\nbZ0Nw4INmqLhM1KqtzNV1e2p+Djp8LJK/xfm22YfnGoDsbT9nQTMhJ+xWk+cohU=\n=rO+0\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 5229afd9d605e2e5fa4258d0827a51556da60c84\nparent 535c729cf3ef2ea2438a92ca1e06c517d34c286d\nauthor bookgin <bookgin@bookgin.tw> 1635106605 +0800\ncommitter GitHub <noreply@github.com> 1635106605 +0100\n\nFix GitHub actions (#733)\n\n* Add Flask in dependencies.\n\nFlask-Caching requires Flask. This should also fix posativ#621.\nSee https://github.com/sh4nks/flask-caching/blob/cb6a7a3d61057b07ebdc7a58359b41257fe0af93/setup.py#L44-L44.\n\n* Install style checks dependency in GitHub Actions.\n\n* Fix Flake8 rules F401: Module imported but unused.\n\n* Add python 3.9 support."
    }
  },
  "url": "https://api.github.com/repos/posativ/isso/commits/9e021cb6263e921ac519f52b82df3f66a297d3d1",
  "html_url": "https://github.com/posativ/isso/commit/9e021cb6263e921ac519f52b82df3f66a297d3d1",
  "comments_url": "https://api.github.com/repos/posativ/isso/commits/9e021cb6263e921ac519f52b82df3f66a297d3d1/comments",
  "author": {
    "login": "BookGin",
    "id": 11243261,
    "node_id": "MDQ6VXNlcjExMjQzMjYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/11243261?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/BookGin",
    "html_url": "https://github.com/BookGin",
    "followers_url": "https://api.github.com/users/BookGin/followers",
    "following_url": "https://api.github.com/users/BookGin/following{/other_user}",
    "gists_url": "https://api.github.com/users/BookGin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/BookGin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/BookGin/subscriptions",
    "organizations_url": "https://api.github.com/users/BookGin/orgs",
    "repos_url": "https://api.github.com/users/BookGin/repos",
    "events_url": "https://api.github.com/users/BookGin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/BookGin/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "535c729cf3ef2ea2438a92ca1e06c517d34c286d",
      "url": "https://api.github.com/repos/posativ/isso/commits/535c729cf3ef2ea2438a92ca1e06c517d34c286d",
      "html_url": "https://github.com/posativ/isso/commit/535c729cf3ef2ea2438a92ca1e06c517d34c286d"
    }
  ],
  "stats": {
    "total": 43,
    "additions": 21,
    "deletions": 22
  },
  "files": [
    {
      "sha": "4a334c64bd5494f0b024dc52412d96a448f50b1a",
      "filename": ".github/workflows/pythonpackage.yml",
      "status": "modified",
      "additions": 14,
      "deletions": 13,
      "changes": 27,
      "blob_url": "https://github.com/posativ/isso/blob/9e021cb6263e921ac519f52b82df3f66a297d3d1/.github/workflows/pythonpackage.yml",
      "raw_url": "https://github.com/posativ/isso/raw/9e021cb6263e921ac519f52b82df3f66a297d3d1/.github/workflows/pythonpackage.yml",
      "contents_url": "https://api.github.com/repos/posativ/isso/contents/.github/workflows/pythonpackage.yml?ref=9e021cb6263e921ac519f52b82df3f66a297d3d1",
      "patch": "@@ -9,24 +9,25 @@ jobs:\n     strategy:\n       matrix:\n         os: [ubuntu-latest, macos-latest, windows-latest]\n-        python-version: [3.5, 3.6, 3.7, 3.8, pypy3]\n+        python-version: [3.5, 3.6, 3.7, 3.8, 3.9, pypy3]\n       fail-fast: false\n \n     steps:\n-    - uses: actions/checkout@v2\n-    - name: Set up Python ${{ matrix.python-version }}\n+    - name: Check out repository code\n+      uses: actions/checkout@v2\n+    - name: Set up Python ${{ matrix.python-version }} on ${{ matrix.os }}\n       uses: actions/setup-python@v2\n       with:\n         python-version: ${{ matrix.python-version }}\n-    - name: Install dependencies\n-      run: |\n-        python -m pip install --upgrade pip\n-        python setup.py develop\n-    - name: Style checks\n-      run: |\n-        python -m flakes\n-    - name: Test suite run\n-      run: |\n-        make test\n+    - name: Install isso dependencies\n+      run: python setup.py develop\n+    - name: Install test suite dependencies\n+      run: pip3 install nose\n+    - name: Run test suite\n+      run: make test\n       env:\n         PYTHONHASHSEED: random\n+    - name: Install style check dependencies\n+      run: pip3 install flake8\n+    - name: Run style check\n+      run: make flakes"
    },
    {
      "sha": "366eb1d0889eb04b4a4452b7f08425c2d1139391",
      "filename": "isso/dispatch.py",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/posativ/isso/blob/9e021cb6263e921ac519f52b82df3f66a297d3d1/isso/dispatch.py",
      "raw_url": "https://github.com/posativ/isso/raw/9e021cb6263e921ac519f52b82df3f66a297d3d1/isso/dispatch.py",
      "contents_url": "https://api.github.com/repos/posativ/isso/contents/isso/dispatch.py?ref=9e021cb6263e921ac519f52b82df3f66a297d3d1",
      "patch": "@@ -12,7 +12,7 @@\n from werkzeug.middleware.dispatcher import DispatcherMiddleware\n from werkzeug.wrappers import Response\n \n-from isso import dist, make_app, wsgi, config\n+from isso import make_app, wsgi, config\n \n logger = logging.getLogger(\"isso\")\n "
    },
    {
      "sha": "7f2b307f9d163936a5cb391fe8efc17b89714dc0",
      "filename": "isso/run.py",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/posativ/isso/blob/9e021cb6263e921ac519f52b82df3f66a297d3d1/isso/run.py",
      "raw_url": "https://github.com/posativ/isso/raw/9e021cb6263e921ac519f52b82df3f66a297d3d1/isso/run.py",
      "contents_url": "https://api.github.com/repos/posativ/isso/contents/isso/run.py?ref=9e021cb6263e921ac519f52b82df3f66a297d3d1",
      "patch": "@@ -6,7 +6,7 @@\n import pkg_resources\n \n from isso import make_app\n-from isso import dist, config\n+from isso import config\n \n application = make_app(\n     config.load("
    },
    {
      "sha": "673219690fc2fa4c32d3273e9e6747ef5bcad00e",
      "filename": "isso/tests/test_guard.py",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/posativ/isso/blob/9e021cb6263e921ac519f52b82df3f66a297d3d1/isso/tests/test_guard.py",
      "raw_url": "https://github.com/posativ/isso/raw/9e021cb6263e921ac519f52b82df3f66a297d3d1/isso/tests/test_guard.py",
      "contents_url": "https://api.github.com/repos/posativ/isso/contents/isso/tests/test_guard.py?ref=9e021cb6263e921ac519f52b82df3f66a297d3d1",
      "patch": "@@ -11,7 +11,7 @@\n from werkzeug.test import Client\n from werkzeug.wrappers import Response\n \n-from isso import Isso, config, core, dist\n+from isso import Isso, config, core\n from isso.utils import http\n \n from fixtures import curl, FakeIP"
    },
    {
      "sha": "d6df225e28d4c8f42ba0a88b619481cf1f1f294f",
      "filename": "isso/tests/test_vote.py",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/posativ/isso/blob/9e021cb6263e921ac519f52b82df3f66a297d3d1/isso/tests/test_vote.py",
      "raw_url": "https://github.com/posativ/isso/raw/9e021cb6263e921ac519f52b82df3f66a297d3d1/isso/tests/test_vote.py",
      "contents_url": "https://api.github.com/repos/posativ/isso/contents/isso/tests/test_vote.py?ref=9e021cb6263e921ac519f52b82df3f66a297d3d1",
      "patch": "@@ -1,15 +1,14 @@\n \n from __future__ import unicode_literals\n \n-import os\n import json\n import tempfile\n import pkg_resources\n import unittest\n \n from werkzeug.wrappers import Response\n \n-from isso import Isso, core, config, dist\n+from isso import Isso, core, config\n from isso.utils import http\n \n from fixtures import curl, loads, FakeIP, JSONClient"
    },
    {
      "sha": "014edfc109fc35fdcd7f7c7a611d968062d454cc",
      "filename": "setup.py",
      "status": "modified",
      "additions": 3,
      "deletions": 4,
      "changes": 7,
      "blob_url": "https://github.com/posativ/isso/blob/9e021cb6263e921ac519f52b82df3f66a297d3d1/setup.py",
      "raw_url": "https://github.com/posativ/isso/raw/9e021cb6263e921ac519f52b82df3f66a297d3d1/setup.py",
      "contents_url": "https://api.github.com/repos/posativ/isso/contents/setup.py?ref=9e021cb6263e921ac519f52b82df3f66a297d3d1",
      "patch": "@@ -1,12 +1,10 @@\n #!/usr/bin/env python3\n # -*- encoding: utf-8 -*-\n \n-import sys\n-\n from setuptools import setup, find_packages\n \n requires = ['itsdangerous', 'Jinja2', 'misaka>=2.0,<3.0', 'html5lib',\n-            'werkzeug>=1.0', 'bleach', 'Flask-Caching>=1.9']\n+            'werkzeug>=1.0', 'bleach', 'Flask-Caching>=1.9', 'Flask']\n \n setup(\n     name='isso',\n@@ -29,7 +27,8 @@\n         \"Programming Language :: Python :: 3.5\",\n         \"Programming Language :: Python :: 3.6\",\n         \"Programming Language :: Python :: 3.7\",\n-        \"Programming Language :: Python :: 3.8\"\n+        \"Programming Language :: Python :: 3.8\",\n+        \"Programming Language :: Python :: 3.9\"\n     ],\n     install_requires=requires,\n     entry_points={"
    }
  ]
}
