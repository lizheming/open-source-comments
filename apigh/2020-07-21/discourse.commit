{
  "sha": "23778f4bfd526db7b957d6bacd6aa8e678df844f",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODoyMzc3OGY0YmZkNTI2ZGI3Yjk1N2Q2YmFjZDZhYThlNjc4ZGY4NDRm",
  "commit": {
    "author": {
      "name": "Guo Xiang Tan",
      "email": "gxtan1990@gmail.com",
      "date": "2020-07-21T06:53:07Z"
    },
    "committer": {
      "name": "Guo Xiang Tan",
      "email": "gxtan1990@gmail.com",
      "date": "2020-07-21T06:53:46Z"
    },
    "message": "DEV: Avoid logging Redis cannot connect error during failover.\n\nReduce amount of noise in our logs.",
    "tree": {
      "sha": "bb35e579cda3e608c4b73a29abca0c8b8bd4ebd5",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/bb35e579cda3e608c4b73a29abca0c8b8bd4ebd5"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/23778f4bfd526db7b957d6bacd6aa8e678df844f",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMOJGkc46I9vMVlDg+9EQF5qsHyAFAl8WkPoACgkQ+9EQF5qs\nHyCbXA/+KZkJDBVUcfuVTztFUbhqpSMnyvG4McNGeIk7a6UgsuRossGSIb7+llm0\nLHU3xUBUgmJbi/qYWzJ7eJCdU5V/fIyqQsrt3taArBVwgkADwzjM9XJw7sWTYbwS\nsfRfdOyPodwQuiYcn1LyaMirfbjAvAhu+gfwV0DfbD08RhC0AXtlWQ/lRvmqoI7J\n5kpCZ9c3p7aqBoYgMHF5pEq7nM5lY8tNcgKG4PkcRmCEgxeUPl4L/MV6loH7R07N\n9V4tJrkS3QpCF4bZCoAfvAbCBppRT5dX88TalEVAqkJJYwSDgpT6sBm9D4n6sVKp\nt/35jYsmxkPECPyO95+XOa2+yXlmz5vtj4ciyZggLk2CJGMCA9M4LblOyNT7Na87\nRfBO2qu9oDUBXC+DM+ClIM7MwTE7PpLcKgcWThkaefwlY6j6pU1MH+GsKIIps9p9\nIJf3hCTVoWThPE/JcvuP7s048xxoGzYsnsSpDj75TRXaT41szqhz/KUZqUEaYJ9y\nTcXb0MosK++NFlw3KK5t3mHi4fxKUQ6bbrV59L962XHXX6kDEWall+FT1RodDVya\ntfZOiQBcKC+DoRoAlXqm3K/m+FIxETNUTGbJZcGc/KTo3ud+OwWKuy6xMWJVO3nd\n5330/W68+9t9UfRtsc3dsKsJM4CHiz1lZ3Iv5UUA2NSS6LWsjxY=\n=u0jw\n-----END PGP SIGNATURE-----",
      "payload": "tree bb35e579cda3e608c4b73a29abca0c8b8bd4ebd5\nparent de5245631b23137df33a32b0ad0bbea9755e3d9d\nauthor Guo Xiang Tan <gxtan1990@gmail.com> 1595314387 +0800\ncommitter Guo Xiang Tan <gxtan1990@gmail.com> 1595314426 +0800\n\nDEV: Avoid logging Redis cannot connect error during failover.\n\nReduce amount of noise in our logs.\n"
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/23778f4bfd526db7b957d6bacd6aa8e678df844f",
  "html_url": "https://github.com/discourse/discourse/commit/23778f4bfd526db7b957d6bacd6aa8e678df844f",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/23778f4bfd526db7b957d6bacd6aa8e678df844f/comments",
  "author": {
    "login": "tgxworld",
    "id": 4335742,
    "node_id": "MDQ6VXNlcjQzMzU3NDI=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/4335742?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tgxworld",
    "html_url": "https://github.com/tgxworld",
    "followers_url": "https://api.github.com/users/tgxworld/followers",
    "following_url": "https://api.github.com/users/tgxworld/following{/other_user}",
    "gists_url": "https://api.github.com/users/tgxworld/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tgxworld/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tgxworld/subscriptions",
    "organizations_url": "https://api.github.com/users/tgxworld/orgs",
    "repos_url": "https://api.github.com/users/tgxworld/repos",
    "events_url": "https://api.github.com/users/tgxworld/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tgxworld/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "tgxworld",
    "id": 4335742,
    "node_id": "MDQ6VXNlcjQzMzU3NDI=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/4335742?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tgxworld",
    "html_url": "https://github.com/tgxworld",
    "followers_url": "https://api.github.com/users/tgxworld/followers",
    "following_url": "https://api.github.com/users/tgxworld/following{/other_user}",
    "gists_url": "https://api.github.com/users/tgxworld/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tgxworld/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tgxworld/subscriptions",
    "organizations_url": "https://api.github.com/users/tgxworld/orgs",
    "repos_url": "https://api.github.com/users/tgxworld/repos",
    "events_url": "https://api.github.com/users/tgxworld/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tgxworld/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "de5245631b23137df33a32b0ad0bbea9755e3d9d",
      "url": "https://api.github.com/repos/discourse/discourse/commits/de5245631b23137df33a32b0ad0bbea9755e3d9d",
      "html_url": "https://github.com/discourse/discourse/commit/de5245631b23137df33a32b0ad0bbea9755e3d9d"
    }
  ],
  "stats": {
    "total": 2,
    "additions": 1,
    "deletions": 1
  },
  "files": [
    {
      "sha": "87a48be45b34e118f54ba9ea186a707d352cd070",
      "filename": "config/initializers/002-rails_failover.rb",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/discourse/discourse/blob/23778f4bfd526db7b957d6bacd6aa8e678df844f/config/initializers/002-rails_failover.rb",
      "raw_url": "https://github.com/discourse/discourse/raw/23778f4bfd526db7b957d6bacd6aa8e678df844f/config/initializers/002-rails_failover.rb",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/config/initializers/002-rails_failover.rb?ref=23778f4bfd526db7b957d6bacd6aa8e678df844f",
      "patch": "@@ -57,7 +57,7 @@\n       Discourse::PG_FORCE_READONLY_MODE_KEY\n     )\n   rescue => e\n-    if e.is_a?(Redis::CannotConnectError)\n+    if !e.is_a?(Redis::CannotConnectError)\n       Rails.logger.warn \"#{e.class} #{e.message}: #{e.backtrace.join(\"\\n\")}\"\n     end\n "
    }
  ]
}
