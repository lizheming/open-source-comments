{
  "sha": "467b075ef7fbe0e478823b31aadc77d4238ec8d6",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODo0NjdiMDc1ZWY3ZmJlMGU0Nzg4MjNiMzFhYWRjNzdkNDIzOGVjOGQ2",
  "commit": {
    "author": {
      "name": "Joffrey JAFFEUX",
      "email": "j.jaffeux@gmail.com",
      "date": "2021-02-15T11:32:09Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2021-02-15T11:32:09Z"
    },
    "message": "A11Y: makes aria-owns an ID and not a data attribute (#12075)",
    "tree": {
      "sha": "03cc90d518865e0f469517ff8579a9cbb6efd0a7",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/03cc90d518865e0f469517ff8579a9cbb6efd0a7"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/467b075ef7fbe0e478823b31aadc77d4238ec8d6",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgKlu5CRBK7hj4Ov3rIwAAdHIIAGIbLGA/TLcQS3gQ1IwQ/L1T\nF6O1HLBMbuuNHJth+TmUI/ijI5lGRPxA35CKLDJ30q35Zg22LMQ4edt7r6aL2Ofn\nZI9wmU8Q7818gKShPgOFwVDf/DR32vDt6DdMyGdE9aV8uhbznzzJ1TwYZ7PrwvUD\nNrpry4LGdJ/HqEEfq0cEJXU6SjB4Fm5/WYbBDxQeDfQiO5aZ6zXdQwORzcWt9B4d\nEGUUmqizLYWlLu7mvvF/+iJyFTlfbvXmn3OxOtVDpcOLnOLHH5n5gfqsc3EHIOd9\n2PIfmRUchl6UgTtj4y6JegJM9ZbKJGIIzu+MsgId/oyswUjxXDInE+BbIUcEZlc=\n=d4JV\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 03cc90d518865e0f469517ff8579a9cbb6efd0a7\nparent 71e9c2e50bf051c92b887b5e6d99d3d02df7e393\nauthor Joffrey JAFFEUX <j.jaffeux@gmail.com> 1613388729 +0100\ncommitter GitHub <noreply@github.com> 1613388729 +0100\n\nA11Y: makes aria-owns an ID and not a data attribute (#12075)\n\n"
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/467b075ef7fbe0e478823b31aadc77d4238ec8d6",
  "html_url": "https://github.com/discourse/discourse/commit/467b075ef7fbe0e478823b31aadc77d4238ec8d6",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/467b075ef7fbe0e478823b31aadc77d4238ec8d6/comments",
  "author": {
    "login": "jjaffeux",
    "id": 339945,
    "node_id": "MDQ6VXNlcjMzOTk0NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/339945?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jjaffeux",
    "html_url": "https://github.com/jjaffeux",
    "followers_url": "https://api.github.com/users/jjaffeux/followers",
    "following_url": "https://api.github.com/users/jjaffeux/following{/other_user}",
    "gists_url": "https://api.github.com/users/jjaffeux/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jjaffeux/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jjaffeux/subscriptions",
    "organizations_url": "https://api.github.com/users/jjaffeux/orgs",
    "repos_url": "https://api.github.com/users/jjaffeux/repos",
    "events_url": "https://api.github.com/users/jjaffeux/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jjaffeux/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "71e9c2e50bf051c92b887b5e6d99d3d02df7e393",
      "url": "https://api.github.com/repos/discourse/discourse/commits/71e9c2e50bf051c92b887b5e6d99d3d02df7e393",
      "html_url": "https://github.com/discourse/discourse/commit/71e9c2e50bf051c92b887b5e6d99d3d02df7e393"
    }
  ],
  "stats": {
    "total": 43,
    "additions": 16,
    "deletions": 27
  },
  "files": [
    {
      "sha": "56b91d03a890913b3648f781f063cb982f5a076f",
      "filename": "app/assets/javascripts/select-kit/addon/components/select-kit.js",
      "status": "modified",
      "additions": 4,
      "deletions": 8,
      "changes": 12,
      "blob_url": "https://github.com/discourse/discourse/blob/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/components/select-kit.js",
      "raw_url": "https://github.com/discourse/discourse/raw/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/components/select-kit.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/select-kit/addon/components/select-kit.js?ref=467b075ef7fbe0e478823b31aadc77d4238ec8d6",
      "patch": "@@ -776,10 +776,10 @@ export default Component.extend(\n \n       if (!this.popper) {\n         const anchor = document.querySelector(\n-          `[data-select-kit-id=${this.selectKit.uniqueID}-header]`\n+          `#${this.selectKit.uniqueID}-header`\n         );\n         const popper = document.querySelector(\n-          `[data-select-kit-id=${this.selectKit.uniqueID}-body]`\n+          `#${this.selectKit.uniqueID}-body`\n         );\n \n         const inModal = $(this.element).parents(\"#discourse-modal\").length;\n@@ -954,15 +954,11 @@ export default Component.extend(\n     },\n \n     getFilterInput() {\n-      return document.querySelector(\n-        `[data-select-kit-id=${this.selectKit.uniqueID}-filter] input`\n-      );\n+      return document.querySelector(`#${this.selectKit.uniqueID}-filter input`);\n     },\n \n     getHeader() {\n-      return document.querySelector(\n-        `[data-select-kit-id=${this.selectKit.uniqueID}-header]`\n-      );\n+      return document.querySelector(`#${this.selectKit.uniqueID}-header`);\n     },\n \n     handleDeprecations() {"
    },
    {
      "sha": "5ef8061fd8ef29bd81afa2b5af71cc30b70a3496",
      "filename": "app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-body.js",
      "status": "modified",
      "additions": 2,
      "deletions": 5,
      "changes": 7,
      "blob_url": "https://github.com/discourse/discourse/blob/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-body.js",
      "raw_url": "https://github.com/discourse/discourse/raw/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-body.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-body.js?ref=467b075ef7fbe0e478823b31aadc77d4238ec8d6",
      "patch": "@@ -6,11 +6,8 @@ import layout from \"select-kit/templates/components/select-kit/select-kit-body\";\n export default Component.extend({\n   layout,\n   classNames: [\"select-kit-body\"],\n-  attributeBindings: [\"role\", \"selectKitId:data-select-kit-id\"],\n+  attributeBindings: [\"role\"],\n   classNameBindings: [\"emptyBody:empty-body\"],\n-  selectKitId: computed(\"selectKit.uniqueID\", function () {\n-    return `${this.selectKit.uniqueID}-body`;\n-  }),\n   emptyBody: computed(\"selectKit.{filter,hasNoContent}\", function () {\n     return !this.selectKit.filter && this.selectKit.hasNoContent;\n   }),\n@@ -50,7 +47,7 @@ export default Component.extend({\n     }\n \n     const headerElement = document.querySelector(\n-      `[data-select-kit-id=${this.selectKit.uniqueID}-header]`\n+      `#${this.selectKit.uniqueID}-header`\n     );\n \n     if (headerElement && headerElement.contains(event.target)) {"
    },
    {
      "sha": "853b468e1091a83c40ddfa2ac09e2c710ff7f18d",
      "filename": "app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-filter.js",
      "status": "modified",
      "additions": 1,
      "deletions": 4,
      "changes": 5,
      "blob_url": "https://github.com/discourse/discourse/blob/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-filter.js",
      "raw_url": "https://github.com/discourse/discourse/raw/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-filter.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-filter.js?ref=467b075ef7fbe0e478823b31aadc77d4238ec8d6",
      "patch": "@@ -11,10 +11,7 @@ export default Component.extend(UtilsMixin, {\n   layout,\n   classNames: [\"select-kit-filter\"],\n   classNameBindings: [\"isExpanded:is-expanded\"],\n-  attributeBindings: [\"role\", \"selectKitId:data-select-kit-id\"],\n-  selectKitId: computed(\"selectKit.uniqueID\", function () {\n-    return `${this.selectKit.uniqueID}-filter`;\n-  }),\n+  attributeBindings: [\"role\"],\n \n   role: \"searchbox\",\n "
    },
    {
      "sha": "3592630a83df6177beac6c2af281ce7ad91747e6",
      "filename": "app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-header.js",
      "status": "modified",
      "additions": 2,
      "deletions": 7,
      "changes": 9,
      "blob_url": "https://github.com/discourse/discourse/blob/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-header.js",
      "raw_url": "https://github.com/discourse/discourse/raw/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-header.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/select-kit/addon/components/select-kit/select-kit-header.js?ref=467b075ef7fbe0e478823b31aadc77d4238ec8d6",
      "patch": "@@ -28,7 +28,6 @@ export default Component.extend(UtilsMixin, {\n     \"ariaOwns:aria-owns\",\n     \"ariaHasPopup:aria-haspopup\",\n     \"ariaIsExpanded:aria-expanded\",\n-    \"selectKitId:data-select-kit-id\",\n     \"roleButton:role\",\n     \"selectedValue:data-value\",\n     \"selectedNames:data-name\",\n@@ -63,18 +62,14 @@ export default Component.extend(UtilsMixin, {\n     return icon.concat(icons).filter(Boolean);\n   }),\n \n-  selectKitId: computed(\"selectKit.uniqueID\", function () {\n-    return `${this.selectKit.uniqueID}-header`;\n-  }),\n-\n   ariaIsExpanded: computed(\"selectKit.isExpanded\", function () {\n     return this.selectKit.isExpanded ? \"true\" : \"false\";\n   }),\n \n   ariaHasPopup: \"menu\",\n \n   ariaOwns: computed(\"selectKit.uniqueID\", function () {\n-    return `[data-select-kit-id=${this.selectKit.uniqueID}-body]`;\n+    return `${this.selectKit.uniqueID}-body`;\n   }),\n \n   roleButton: \"button\",\n@@ -178,7 +173,7 @@ export default Component.extend(UtilsMixin, {\n \n   _focusFilterInput() {\n     const filterContainer = document.querySelector(\n-      `[data-select-kit-id=${this.selectKit.uniqueID}-filter]`\n+      `#${this.selectKit.uniqueID}-filter`\n     );\n \n     if (filterContainer) {"
    },
    {
      "sha": "6225633023e45a27b2cc573135112eba2ed1593e",
      "filename": "app/assets/javascripts/select-kit/addon/templates/components/email-group-user-chooser-header.hbs",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/discourse/discourse/blob/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/templates/components/email-group-user-chooser-header.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/templates/components/email-group-user-chooser-header.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/select-kit/addon/templates/components/email-group-user-chooser-header.hbs?ref=467b075ef7fbe0e478823b31aadc77d4238ec8d6",
      "patch": "@@ -16,6 +16,7 @@\n     <div class=\"choice input-wrapper\">\n       {{component selectKit.options.filterComponent\n         selectKit=selectKit\n+        id=(concat selectKit.uniqueID \"-filter\")\n       }}\n     </div>\n   {{/unless}}"
    },
    {
      "sha": "8672c07becfd145428e9ecf7f30e8c9564b5bc13",
      "filename": "app/assets/javascripts/select-kit/addon/templates/components/multi-select.hbs",
      "status": "modified",
      "additions": 2,
      "deletions": 1,
      "changes": 3,
      "blob_url": "https://github.com/discourse/discourse/blob/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/templates/components/multi-select.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/templates/components/multi-select.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/select-kit/addon/templates/components/multi-select.hbs?ref=467b075ef7fbe0e478823b31aadc77d4238ec8d6",
      "patch": "@@ -4,9 +4,10 @@\n     value=value\n     selectedContent=selectedContent\n     selectKit=selectKit\n+    id=(concat selectKit.uniqueID \"-header\")\n   }}\n \n-  {{#select-kit/select-kit-body selectKit=selectKit}}\n+  {{#select-kit/select-kit-body selectKit=selectKit id=(concat selectKit.uniqueID \"-body\")}}\n     {{#if selectKit.isLoading}}\n       <span class=\"is-loading\">\n         {{loading-spinner size=\"small\"}}"
    },
    {
      "sha": "0b3792d56b971ee87a2feb2bf87af39d19f6233c",
      "filename": "app/assets/javascripts/select-kit/addon/templates/components/multi-select/multi-select-header.hbs",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/discourse/discourse/blob/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/templates/components/multi-select/multi-select-header.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/templates/components/multi-select/multi-select-header.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/select-kit/addon/templates/components/multi-select/multi-select-header.hbs?ref=467b075ef7fbe0e478823b31aadc77d4238ec8d6",
      "patch": "@@ -11,6 +11,7 @@\n     <div class=\"choice input-wrapper\">\n       {{component selectKit.options.filterComponent\n         selectKit=selectKit\n+        id=(concat selectKit.uniqueID \"-filter\")\n       }}\n     </div>\n   {{/unless}}"
    },
    {
      "sha": "78f88ef5daed5d440362476ee041f2f0e6f3f53d",
      "filename": "app/assets/javascripts/select-kit/addon/templates/components/single-select.hbs",
      "status": "modified",
      "additions": 3,
      "deletions": 2,
      "changes": 5,
      "blob_url": "https://github.com/discourse/discourse/blob/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/templates/components/single-select.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/467b075ef7fbe0e478823b31aadc77d4238ec8d6/app/assets/javascripts/select-kit/addon/templates/components/single-select.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/select-kit/addon/templates/components/single-select.hbs?ref=467b075ef7fbe0e478823b31aadc77d4238ec8d6",
      "patch": "@@ -4,10 +4,11 @@\n     value=value\n     selectedContent=selectedContent\n     selectKit=selectKit\n+    id=(concat selectKit.uniqueID \"-header\")\n   }}\n \n-  {{#select-kit/select-kit-body selectKit=selectKit}}\n-    {{component selectKit.options.filterComponent selectKit=selectKit}}\n+  {{#select-kit/select-kit-body selectKit=selectKit id=(concat selectKit.uniqueID \"-body\")}}\n+    {{component selectKit.options.filterComponent selectKit=selectKit id=(concat selectKit.uniqueID \"-filter\")}}\n \n     {{#if selectKit.isLoading}}\n       <span class=\"is-loading\">"
    }
  ]
}
