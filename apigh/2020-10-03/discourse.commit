{
  "sha": "97f34d7b713048efb2cab33430c4f03b07ee45c0",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODo5N2YzNGQ3YjcxMzA0OGVmYjJjYWIzMzQzMGM0ZjAzYjA3ZWU0NWMw",
  "commit": {
    "author": {
      "name": "Penar Musaraj",
      "email": "pmusaraj@gmail.com",
      "date": "2020-10-02T19:11:15Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2020-10-02T19:11:15Z"
    },
    "message": "FIX: Hide empty popular/recent sections in 404 page (#10811)",
    "tree": {
      "sha": "40a6fd38ae5fe525b83b0ac71c607b3eb42ab05e",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/40a6fd38ae5fe525b83b0ac71c607b3eb42ab05e"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/97f34d7b713048efb2cab33430c4f03b07ee45c0",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfd3tTCRBK7hj4Ov3rIwAAdHIIAHNK9GbYN4VSTq1dOtCknlbG\nk+RWRzEUdMksWpSenlWfxbtLAX6jAXRHj7KrskxtLUCRjTKyeK2nox9SqnUYC5FP\nJHiM0/hfvEVremRROvKeaMvWgZ1ZJG7QedpIctwpTNLqTN7y1TKu+2wDFu6OXVyu\nAoPyYGuXB5ZPlCWJ4/R8hF7FH5psGk3NvVUt6VJ8iJKCbYCOniX3Sy5/h/l13Ax6\nKt7HD7a+KaklpgXn6SMBk0V2BE3kYl0fcXaxX0/kO6Ke3hjxTmyEzD7Uq8hGvLV/\n8J4QsN7A/zg1lPOmXBT8mlDW4FNaVNxdpEpeiDpzoPtEKQXRGP38Ab3lQCDexQ8=\n=aqWJ\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 40a6fd38ae5fe525b83b0ac71c607b3eb42ab05e\nparent e363b113a843d86b9c3e28e747a4396552dd2d42\nauthor Penar Musaraj <pmusaraj@gmail.com> 1601665875 -0400\ncommitter GitHub <noreply@github.com> 1601665875 -0400\n\nFIX: Hide empty popular/recent sections in 404 page (#10811)\n\n"
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/97f34d7b713048efb2cab33430c4f03b07ee45c0",
  "html_url": "https://github.com/discourse/discourse/commit/97f34d7b713048efb2cab33430c4f03b07ee45c0",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/97f34d7b713048efb2cab33430c4f03b07ee45c0/comments",
  "author": {
    "login": "pmusaraj",
    "id": 368961,
    "node_id": "MDQ6VXNlcjM2ODk2MQ==",
    "avatar_url": "https://avatars1.githubusercontent.com/u/368961?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pmusaraj",
    "html_url": "https://github.com/pmusaraj",
    "followers_url": "https://api.github.com/users/pmusaraj/followers",
    "following_url": "https://api.github.com/users/pmusaraj/following{/other_user}",
    "gists_url": "https://api.github.com/users/pmusaraj/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pmusaraj/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pmusaraj/subscriptions",
    "organizations_url": "https://api.github.com/users/pmusaraj/orgs",
    "repos_url": "https://api.github.com/users/pmusaraj/repos",
    "events_url": "https://api.github.com/users/pmusaraj/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pmusaraj/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "e363b113a843d86b9c3e28e747a4396552dd2d42",
      "url": "https://api.github.com/repos/discourse/discourse/commits/e363b113a843d86b9c3e28e747a4396552dd2d42",
      "html_url": "https://github.com/discourse/discourse/commit/e363b113a843d86b9c3e28e747a4396552dd2d42"
    }
  ],
  "stats": {
    "total": 40,
    "additions": 22,
    "deletions": 18
  },
  "files": [
    {
      "sha": "836122931fc1f1fb67684167fa542725c4315bcb",
      "filename": "app/views/exceptions/_not_found_topics.html.erb",
      "status": "modified",
      "additions": 22,
      "deletions": 18,
      "changes": 40,
      "blob_url": "https://github.com/discourse/discourse/blob/97f34d7b713048efb2cab33430c4f03b07ee45c0/app/views/exceptions/_not_found_topics.html.erb",
      "raw_url": "https://github.com/discourse/discourse/raw/97f34d7b713048efb2cab33430c4f03b07ee45c0/app/views/exceptions/_not_found_topics.html.erb",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/views/exceptions/_not_found_topics.html.erb?ref=97f34d7b713048efb2cab33430c4f03b07ee45c0",
      "patch": "@@ -1,20 +1,24 @@\n <div class=\"row page-not-found-topics\">\n-  <div class=\"popular-topics\">\n-    <h2 class=\"popular-topics-title\"><%= t 'page_not_found.popular_topics' %></h2>\n-    <% @top_viewed.each do |t| %>\n-      <div class='not-found-topic'>\n-        <%= link_to emoji_codes_to_img(t.fancy_title), t.relative_url %><%= category_badge(t.category) %>\n-      </div>\n-    <% end %>\n-    <a href=\"<%= path \"/top\" %>\" class=\"btn btn-default\"><%= t 'page_not_found.see_more' %>&hellip;</a>\n-  </div>\n-  <div class=\"recent-topics\">\n-    <h2 class=\"recent-topics-title\"><%= t 'page_not_found.recent_topics' %></h2>\n-    <% @recent.each do |t| %>\n-      <div class='not-found-topic'>\n-        <%= link_to t.title, t.relative_url %><%= category_badge(t.category) %>\n-      </div>\n-    <% end %>\n-    <a href=\"<%= path \"/latest\" %>\" class=\"btn btn-default\"><%= t 'page_not_found.see_more' %>&hellip;</a>\n-  </div>\n+  <% if @top_viewed.count > 0 %>\n+    <div class=\"popular-topics\">\n+      <h2 class=\"popular-topics-title\"><%= t 'page_not_found.popular_topics' %></h2>\n+      <% @top_viewed.each do |t| %>\n+        <div class='not-found-topic'>\n+          <%= link_to emoji_codes_to_img(t.fancy_title), t.relative_url %><%= category_badge(t.category) %>\n+        </div>\n+      <% end %>\n+      <a href=\"<%= path \"/top\" %>\" class=\"btn btn-default\"><%= t 'page_not_found.see_more' %>&hellip;</a>\n+    </div>\n+  <% end %>\n+  <% if @recent.count > 0 %>\n+    <div class=\"recent-topics\">\n+      <h2 class=\"recent-topics-title\"><%= t 'page_not_found.recent_topics' %></h2>\n+      <% @recent.each do |t| %>\n+        <div class='not-found-topic'>\n+          <%= link_to t.title, t.relative_url %><%= category_badge(t.category) %>\n+        </div>\n+      <% end %>\n+      <a href=\"<%= path \"/latest\" %>\" class=\"btn btn-default\"><%= t 'page_not_found.see_more' %>&hellip;</a>\n+    </div>\n+  <% end %>\n </div>"
    }
  ]
}
