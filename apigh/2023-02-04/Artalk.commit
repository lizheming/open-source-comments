{
  "sha": "307d93561981af3e455c98f8235b91fe8f721ec0",
  "node_id": "C_kwDOCQOkhNoAKDMwN2Q5MzU2MTk4MWFmM2U0NTVjOThmODIzNWI5MWZlOGY3MjFlYzA",
  "commit": {
    "author": {
      "name": "qwqcode",
      "email": "qwqcode@gmail.com",
      "date": "2023-02-04T11:44:25Z"
    },
    "committer": {
      "name": "qwqcode",
      "email": "qwqcode@gmail.com",
      "date": "2023-02-04T11:44:25Z"
    },
    "message": "chore(i18n): fix comment list counter with i18n\n\nSigned-off-by: qwqcode <qwqcode@gmail.com>",
    "tree": {
      "sha": "1841e4c2f041f6ea87b25292c0b798641575c979",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/trees/1841e4c2f041f6ea87b25292c0b798641575c979"
    },
    "url": "https://api.github.com/repos/ArtalkJS/Artalk/git/commits/307d93561981af3e455c98f8235b91fe8f721ec0",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQS0Ev3sdPZbHkWwzmLUbg8O6nwTagUCY95FGQAKCRDUbg8O6nwT\nao/7AQC7HwJwkNVlMrXMBiqMC0uMDe0XU3ZEWzyfuzwIVr+EGwD/VNzZHTVXuzCV\nIkw7xRonkA4MJAxKwp82s4UHt//3nw8=\n=spkR\n-----END PGP SIGNATURE-----",
      "payload": "tree 1841e4c2f041f6ea87b25292c0b798641575c979\nparent 3060ad8d3af1f4fe1242040b1d0e3a48bb541b77\nauthor qwqcode <qwqcode@gmail.com> 1675511065 +0800\ncommitter qwqcode <qwqcode@gmail.com> 1675511065 +0800\n\nchore(i18n): fix comment list counter with i18n\n\nSigned-off-by: qwqcode <qwqcode@gmail.com>\n"
    }
  },
  "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/307d93561981af3e455c98f8235b91fe8f721ec0",
  "html_url": "https://github.com/ArtalkJS/Artalk/commit/307d93561981af3e455c98f8235b91fe8f721ec0",
  "comments_url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/307d93561981af3e455c98f8235b91fe8f721ec0/comments",
  "author": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "qwqcode",
    "id": 22412567,
    "node_id": "MDQ6VXNlcjIyNDEyNTY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/22412567?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qwqcode",
    "html_url": "https://github.com/qwqcode",
    "followers_url": "https://api.github.com/users/qwqcode/followers",
    "following_url": "https://api.github.com/users/qwqcode/following{/other_user}",
    "gists_url": "https://api.github.com/users/qwqcode/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qwqcode/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qwqcode/subscriptions",
    "organizations_url": "https://api.github.com/users/qwqcode/orgs",
    "repos_url": "https://api.github.com/users/qwqcode/repos",
    "events_url": "https://api.github.com/users/qwqcode/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qwqcode/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "3060ad8d3af1f4fe1242040b1d0e3a48bb541b77",
      "url": "https://api.github.com/repos/ArtalkJS/Artalk/commits/3060ad8d3af1f4fe1242040b1d0e3a48bb541b77",
      "html_url": "https://github.com/ArtalkJS/Artalk/commit/3060ad8d3af1f4fe1242040b1d0e3a48bb541b77"
    }
  ],
  "stats": {
    "total": 16,
    "additions": 9,
    "deletions": 7
  },
  "files": [
    {
      "sha": "6369de33841c1a3fac373eb8f83cdb13c617f512",
      "filename": "ui/packages/artalk/src/list/list.ts",
      "status": "modified",
      "additions": 9,
      "deletions": 7,
      "changes": 16,
      "blob_url": "https://github.com/ArtalkJS/Artalk/blob/307d93561981af3e455c98f8235b91fe8f721ec0/ui%2Fpackages%2Fartalk%2Fsrc%2Flist%2Flist.ts",
      "raw_url": "https://github.com/ArtalkJS/Artalk/raw/307d93561981af3e455c98f8235b91fe8f721ec0/ui%2Fpackages%2Fartalk%2Fsrc%2Flist%2Flist.ts",
      "contents_url": "https://api.github.com/repos/ArtalkJS/Artalk/contents/ui%2Fpackages%2Fartalk%2Fsrc%2Flist%2Flist.ts?ref=307d93561981af3e455c98f8235b91fe8f721ec0",
      "patch": "@@ -31,20 +31,22 @@ export default class List extends ListLite {\n \n     const countNumHTML = '<span class=\"atk-comment-count-num\">0</span>'\n     this.$commentCount = this.$el.querySelector('.atk-comment-count')!\n-    this.$commentCount.innerHTML = this.$t('counter', {\n-      count: countNumHTML,\n-    })\n-    this.$commentCountNum = this.$commentCount.querySelector('.atk-comment-count-num')!\n+\n+    const refreshCountNumEl = () => {\n+      this.$commentCount.innerHTML = this.$t('counter', {\n+        count: countNumHTML,\n+      })\n+      this.$commentCountNum = this.$commentCount.querySelector('.atk-comment-count-num')!\n+    }\n+    refreshCountNumEl()\n \n     // copyright\n     this.$el.querySelector<HTMLElement>('.atk-copyright')!.innerHTML = `Powered By <a href=\"https://artalk.js.org\" target=\"_blank\" title=\"Artalk v${ARTALK_VERSION}\">Artalk</a>`\n \n     // event listen\n     this.ctx.on('conf-loaded', () => {\n       // i18n support when locale changed\n-      this.$commentCount.innerHTML = this.$t('counter', {\n-        count: countNumHTML,\n-      })\n+      refreshCountNumEl()\n       this.refreshUI()\n     })\n   }"
    }
  ]
}
