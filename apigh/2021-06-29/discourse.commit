{
  "sha": "a69839689da85f29ff697969e225f81f20b9eede",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODphNjk4Mzk2ODlkYTg1ZjI5ZmY2OTc5NjllMjI1ZjgxZjIwYjllZWRl",
  "commit": {
    "author": {
      "name": "Krzysztof Kotlarek",
      "email": "kotlarek.krzysztof@gmail.com",
      "date": "2021-06-29T06:29:25Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2021-06-29T06:29:25Z"
    },
    "message": "FEATURE: add multiselect user custom field (#13560)\n\nNew user custom field similar to dropdown but allowing users to select multiple options.",
    "tree": {
      "sha": "639ba066e0c6ffdaf72e5255ea92804c6c8b9cc1",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/639ba066e0c6ffdaf72e5255ea92804c6c8b9cc1"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/a69839689da85f29ff697969e225f81f20b9eede",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJg2r3FCRBK7hj4Ov3rIwAAWQQIAHNHn5WJO0vxjtsR6I5B1jnC\nNerlNTYBzI0bO1PRQf6VDPZWmDt1sCRzfhkWea5tohDTRyDarQ2YLFqgdAUbgn2m\nfM6XspUwrQSehUSWtgPoXc6KX9tmCpYsKWMgcHflY5a16FgnHYCqKvXKGs2/KX/9\n0jvLeCIuznApvMoMYE57ByrmsbOam8DQ+VXcvSaDXrewHSHDPNesBBSz0K2f72St\n4pyPR2wACAULEQGwbjboID/pDlSXSD0kC9rpti7mBVPINWIsT6J8JyA6cOD9qFlQ\nzJ7DF3mLd0d+h2cI7M4sfO1SFqpMHy1Vp2NEyQ/eSmYo8H7MjU1huVbJQ0HyiGs=\n=M0VO\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 639ba066e0c6ffdaf72e5255ea92804c6c8b9cc1\nparent a6363170e9c91384292bd4fa5f497803a4eae906\nauthor Krzysztof Kotlarek <kotlarek.krzysztof@gmail.com> 1624948165 +1000\ncommitter GitHub <noreply@github.com> 1624948165 +1000\n\nFEATURE: add multiselect user custom field (#13560)\n\nNew user custom field similar to dropdown but allowing users to select multiple options."
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/a69839689da85f29ff697969e225f81f20b9eede",
  "html_url": "https://github.com/discourse/discourse/commit/a69839689da85f29ff697969e225f81f20b9eede",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/a69839689da85f29ff697969e225f81f20b9eede/comments",
  "author": {
    "login": "lis2",
    "id": 72780,
    "node_id": "MDQ6VXNlcjcyNzgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/72780?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lis2",
    "html_url": "https://github.com/lis2",
    "followers_url": "https://api.github.com/users/lis2/followers",
    "following_url": "https://api.github.com/users/lis2/following{/other_user}",
    "gists_url": "https://api.github.com/users/lis2/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lis2/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lis2/subscriptions",
    "organizations_url": "https://api.github.com/users/lis2/orgs",
    "repos_url": "https://api.github.com/users/lis2/repos",
    "events_url": "https://api.github.com/users/lis2/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lis2/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "a6363170e9c91384292bd4fa5f497803a4eae906",
      "url": "https://api.github.com/repos/discourse/discourse/commits/a6363170e9c91384292bd4fa5f497803a4eae906",
      "html_url": "https://github.com/discourse/discourse/commit/a6363170e9c91384292bd4fa5f497803a4eae906"
    }
  ],
  "stats": {
    "total": 21,
    "additions": 21,
    "deletions": 0
  },
  "files": [
    {
      "sha": "53b92a63fd95e68a58a561e1b601efb85bbab014",
      "filename": "app/assets/javascripts/admin/addon/models/user-field.js",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/discourse/discourse/blob/a69839689da85f29ff697969e225f81f20b9eede/app/assets/javascripts/admin/addon/models/user-field.js",
      "raw_url": "https://github.com/discourse/discourse/raw/a69839689da85f29ff697969e225f81f20b9eede/app/assets/javascripts/admin/addon/models/user-field.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/admin/addon/models/user-field.js?ref=a69839689da85f29ff697969e225f81f20b9eede",
      "patch": "@@ -15,6 +15,7 @@ UserField.reopenClass({\n         UserFieldType.create({ id: \"text\" }),\n         UserFieldType.create({ id: \"confirm\" }),\n         UserFieldType.create({ id: \"dropdown\", hasOptions: true }),\n+        UserFieldType.create({ id: \"multiselect\", hasOptions: true }),\n       ];\n     }\n "
    },
    {
      "sha": "f81fa36fd4344d28d8fa26a04ac63a1a63a4db95",
      "filename": "app/assets/javascripts/discourse/app/templates/components/user-fields/multiselect.hbs",
      "status": "added",
      "additions": 19,
      "deletions": 0,
      "changes": 19,
      "blob_url": "https://github.com/discourse/discourse/blob/a69839689da85f29ff697969e225f81f20b9eede/app/assets/javascripts/discourse/app/templates/components/user-fields/multiselect.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/a69839689da85f29ff697969e225f81f20b9eede/app/assets/javascripts/discourse/app/templates/components/user-fields/multiselect.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/templates/components/user-fields/multiselect.hbs?ref=a69839689da85f29ff697969e225f81f20b9eede",
      "patch": "@@ -0,0 +1,19 @@\n+<label class=\"control-label\" for={{concat \"user-\" this.elementId}}>\n+  {{html-safe this.field.name}}\n+  {{#if this.field.required}}\n+    <span class=\"required\">*</span>\n+  {{/if}}\n+</label>\n+\n+<div class=\"controls\">\n+  {{multi-select\n+    id=(concat \"user-\" this.elementId)\n+    content=this.field.options\n+    valueProperty=null\n+    nameProperty=null\n+    value=this.value\n+    none=this.noneLabel\n+    onChange=(action (mut this.value))\n+  }}\n+  <div class=\"instructions\">{{html-safe this.field.description}}</div>\n+</div>"
    },
    {
      "sha": "6d3f72afabd3c959495a12d1005880459971b579",
      "filename": "config/locales/client.en.yml",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/discourse/discourse/blob/a69839689da85f29ff697969e225f81f20b9eede/config/locales/client.en.yml",
      "raw_url": "https://github.com/discourse/discourse/raw/a69839689da85f29ff697969e225f81f20b9eede/config/locales/client.en.yml",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/config/locales/client.en.yml?ref=a69839689da85f29ff697969e225f81f20b9eede",
      "patch": "@@ -5095,6 +5095,7 @@ en:\n           text: \"Text Field\"\n           confirm: \"Confirmation\"\n           dropdown: \"Dropdown\"\n+          multiselect: \"Multiselect\"\n \n       site_text:\n         description: \"You can customize any of the text on your forum. Please start by searching below:\""
    }
  ]
}
