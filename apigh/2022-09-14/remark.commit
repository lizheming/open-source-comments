{
  "sha": "ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0",
  "node_id": "C_kwDOBtgov9oAKGZmY2VmMmZlOTk3OGU5MmFiMWZjNmZmYThmYjBkZGJjOGNiMDhlYjA",
  "commit": {
    "author": {
      "name": "Paul Mineev",
      "email": "paul@mineev.me",
      "date": "2022-09-13T01:15:28Z"
    },
    "committer": {
      "name": "Umputun",
      "email": "umputun@gmail.com",
      "date": "2022-09-13T15:54:13Z"
    },
    "message": "fix selected item",
    "tree": {
      "sha": "9a41323331233e046b5f3700e5e5f9f46d2a1672",
      "url": "https://api.github.com/repos/umputun/remark42/git/trees/9a41323331233e046b5f3700e5e5f9f46d2a1672"
    },
    "url": "https://api.github.com/repos/umputun/remark42/git/commits/ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/umputun/remark42/commits/ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0",
  "html_url": "https://github.com/umputun/remark42/commit/ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0",
  "comments_url": "https://api.github.com/repos/umputun/remark42/commits/ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0/comments",
  "author": {
    "login": "akellbl4",
    "id": 2330682,
    "node_id": "MDQ6VXNlcjIzMzA2ODI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2330682?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/akellbl4",
    "html_url": "https://github.com/akellbl4",
    "followers_url": "https://api.github.com/users/akellbl4/followers",
    "following_url": "https://api.github.com/users/akellbl4/following{/other_user}",
    "gists_url": "https://api.github.com/users/akellbl4/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/akellbl4/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/akellbl4/subscriptions",
    "organizations_url": "https://api.github.com/users/akellbl4/orgs",
    "repos_url": "https://api.github.com/users/akellbl4/repos",
    "events_url": "https://api.github.com/users/akellbl4/events{/privacy}",
    "received_events_url": "https://api.github.com/users/akellbl4/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "umputun",
    "id": 535880,
    "node_id": "MDQ6VXNlcjUzNTg4MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/535880?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/umputun",
    "html_url": "https://github.com/umputun",
    "followers_url": "https://api.github.com/users/umputun/followers",
    "following_url": "https://api.github.com/users/umputun/following{/other_user}",
    "gists_url": "https://api.github.com/users/umputun/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/umputun/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/umputun/subscriptions",
    "organizations_url": "https://api.github.com/users/umputun/orgs",
    "repos_url": "https://api.github.com/users/umputun/repos",
    "events_url": "https://api.github.com/users/umputun/events{/privacy}",
    "received_events_url": "https://api.github.com/users/umputun/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "e77dc3333330223d63e6732ab825aca89d5410f2",
      "url": "https://api.github.com/repos/umputun/remark42/commits/e77dc3333330223d63e6732ab825aca89d5410f2",
      "html_url": "https://github.com/umputun/remark42/commit/e77dc3333330223d63e6732ab825aca89d5410f2"
    }
  ],
  "stats": {
    "total": 20,
    "additions": 6,
    "deletions": 14
  },
  "files": [
    {
      "sha": "229c88ae56b0971355ef6adb917e4fa2623b2411",
      "filename": "frontend/apps/remark42/app/components/select/select.spec.tsx",
      "status": "modified",
      "additions": 4,
      "deletions": 8,
      "changes": 12,
      "blob_url": "https://github.com/umputun/remark42/blob/ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0/frontend%2Fapps%2Fremark42%2Fapp%2Fcomponents%2Fselect%2Fselect.spec.tsx",
      "raw_url": "https://github.com/umputun/remark42/raw/ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0/frontend%2Fapps%2Fremark42%2Fapp%2Fcomponents%2Fselect%2Fselect.spec.tsx",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/frontend%2Fapps%2Fremark42%2Fapp%2Fcomponents%2Fselect%2Fselect.spec.tsx?ref=ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0",
      "patch": "@@ -21,15 +21,11 @@ describe('<Select/>', () => {\n   });\n \n   it('should render selected item', () => {\n-    render(<Select items={items} selected={items[0]} />);\n-\n-    const selectedItem = items[0];\n-    const selectedOption = screen.getAllByRole<HTMLOptionElement>('option')[0];\n+    const selectedIndex = 1;\n+    const selectedItem = items[selectedIndex];\n \n-    expect(screen.getAllByText(selectedItem.label)).toHaveLength(2);\n-    expect(selectedOption).toBeInTheDocument();\n-    expect(selectedOption.selected).toBeTruthy();\n-    expect(selectedOption.textContent).toBe(selectedItem.label);\n+    render(<Select items={items} selected={selectedItem} />);\n+    expect(screen.getAllByRole<HTMLOptionElement>('option')[selectedIndex].selected).toBeTruthy();\n   });\n \n   it('should highlight select on focus', async () => {"
    },
    {
      "sha": "26c9b298a48a34267c82f2fd744aea5488ac19f1",
      "filename": "frontend/apps/remark42/app/components/select/select.tsx",
      "status": "modified",
      "additions": 1,
      "deletions": 4,
      "changes": 5,
      "blob_url": "https://github.com/umputun/remark42/blob/ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0/frontend%2Fapps%2Fremark42%2Fapp%2Fcomponents%2Fselect%2Fselect.tsx",
      "raw_url": "https://github.com/umputun/remark42/raw/ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0/frontend%2Fapps%2Fremark42%2Fapp%2Fcomponents%2Fselect%2Fselect.tsx",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/frontend%2Fapps%2Fremark42%2Fapp%2Fcomponents%2Fselect%2Fselect.tsx?ref=ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0",
      "patch": "@@ -45,12 +45,9 @@ export function Select({ items, selected, size = 'md', ...props }: Props) {\n         onFocus={() => setFocus(true)}\n         onBlur={() => setFocus(false)}\n         className={clsx('select-element', styles.select)}\n-        // wrong typings in preact lib\n-        // @ts-ignore\n-        selected={selectedItem.value}\n       >\n         {items.map((i) => (\n-          <option key={i.value} value={i.value}>\n+          <option key={i.value} value={i.value} selected={selectedItem.value === i.value}>\n             {i.label}\n           </option>\n         ))}"
    },
    {
      "sha": "8367a4ed3dc9fe1cae32694bd4fc1956a9721fe1",
      "filename": "frontend/apps/remark42/app/components/sort-picker.spec.tsx",
      "status": "modified",
      "additions": 1,
      "deletions": 2,
      "changes": 3,
      "blob_url": "https://github.com/umputun/remark42/blob/ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0/frontend%2Fapps%2Fremark42%2Fapp%2Fcomponents%2Fsort-picker.spec.tsx",
      "raw_url": "https://github.com/umputun/remark42/raw/ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0/frontend%2Fapps%2Fremark42%2Fapp%2Fcomponents%2Fsort-picker.spec.tsx",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/frontend%2Fapps%2Fremark42%2Fapp%2Fcomponents%2Fsort-picker.spec.tsx?ref=ffcef2fe9978e92ab1fc6ffa8fb0ddbc8cb08eb0",
      "patch": "@@ -26,8 +26,7 @@ describe('<SortPicker />', () => {\n \n   it('should render selected element', () => {\n     render(<SortPicker />, { comments: { sort: '-active' } as StoreState['comments'] });\n-    expect(screen.getAllByText('Recently updated')).toHaveLength(2);\n-    expect(screen.getAllByRole('option')[0].parentElement).toHaveAttribute('selected', '-active');\n+    expect(screen.getAllByText<HTMLOptionElement>('Recently updated')[1].selected).toBeTruthy();\n   });\n \n   it('should change selected store', async () => {"
    }
  ]
}
