{
  "sha": "31ea91afb8ae28bf4fc8b2860fb91ab20e9258e1",
  "node_id": "C_kwDOBtgov9oAKDMxZWE5MWFmYjhhZTI4YmY0ZmM4YjI4NjBmYjkxYWIyMGU5MjU4ZTE",
  "commit": {
    "author": {
      "name": "Matt Jackson",
      "email": "matt@jacksonsix.com",
      "date": "2023-01-14T00:07:55Z"
    },
    "committer": {
      "name": "Umputun",
      "email": "umputun@gmail.com",
      "date": "2023-01-15T01:12:38Z"
    },
    "message": "docs: added Astro w/Svelte Components Integration",
    "tree": {
      "sha": "52500401b7db86ecb03c4dbf3f80045892973266",
      "url": "https://api.github.com/repos/umputun/remark42/git/trees/52500401b7db86ecb03c4dbf3f80045892973266"
    },
    "url": "https://api.github.com/repos/umputun/remark42/git/commits/31ea91afb8ae28bf4fc8b2860fb91ab20e9258e1",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/umputun/remark42/commits/31ea91afb8ae28bf4fc8b2860fb91ab20e9258e1",
  "html_url": "https://github.com/umputun/remark42/commit/31ea91afb8ae28bf4fc8b2860fb91ab20e9258e1",
  "comments_url": "https://api.github.com/repos/umputun/remark42/commits/31ea91afb8ae28bf4fc8b2860fb91ab20e9258e1/comments",
  "author": {
    "login": "snarkipus",
    "id": 3688989,
    "node_id": "MDQ6VXNlcjM2ODg5ODk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3688989?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/snarkipus",
    "html_url": "https://github.com/snarkipus",
    "followers_url": "https://api.github.com/users/snarkipus/followers",
    "following_url": "https://api.github.com/users/snarkipus/following{/other_user}",
    "gists_url": "https://api.github.com/users/snarkipus/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/snarkipus/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/snarkipus/subscriptions",
    "organizations_url": "https://api.github.com/users/snarkipus/orgs",
    "repos_url": "https://api.github.com/users/snarkipus/repos",
    "events_url": "https://api.github.com/users/snarkipus/events{/privacy}",
    "received_events_url": "https://api.github.com/users/snarkipus/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "umputun",
    "id": 535880,
    "node_id": "MDQ6VXNlcjUzNTg4MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/535880?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/umputun",
    "html_url": "https://github.com/umputun",
    "followers_url": "https://api.github.com/users/umputun/followers",
    "following_url": "https://api.github.com/users/umputun/following{/other_user}",
    "gists_url": "https://api.github.com/users/umputun/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/umputun/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/umputun/subscriptions",
    "organizations_url": "https://api.github.com/users/umputun/orgs",
    "repos_url": "https://api.github.com/users/umputun/repos",
    "events_url": "https://api.github.com/users/umputun/events{/privacy}",
    "received_events_url": "https://api.github.com/users/umputun/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "6616541f65dded52b800ea68350d267b043d469e",
      "url": "https://api.github.com/repos/umputun/remark42/commits/6616541f65dded52b800ea68350d267b043d469e",
      "html_url": "https://github.com/umputun/remark42/commit/6616541f65dded52b800ea68350d267b043d469e"
    }
  ],
  "stats": {
    "total": 128,
    "additions": 128,
    "deletions": 0
  },
  "files": [
    {
      "sha": "accd927c27ebe8a888479835d068004701df70f0",
      "filename": "site/src/docs/manuals/integration-with-astro/index.md",
      "status": "added",
      "additions": 124,
      "deletions": 0,
      "changes": 124,
      "blob_url": "https://github.com/umputun/remark42/blob/31ea91afb8ae28bf4fc8b2860fb91ab20e9258e1/site%2Fsrc%2Fdocs%2Fmanuals%2Fintegration-with-astro%2Findex.md",
      "raw_url": "https://github.com/umputun/remark42/raw/31ea91afb8ae28bf4fc8b2860fb91ab20e9258e1/site%2Fsrc%2Fdocs%2Fmanuals%2Fintegration-with-astro%2Findex.md",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/site%2Fsrc%2Fdocs%2Fmanuals%2Fintegration-with-astro%2Findex.md?ref=31ea91afb8ae28bf4fc8b2860fb91ab20e9258e1",
      "patch": "@@ -0,0 +1,124 @@\n+# Using Remark42 in Astro (w/Svelte Components)\n+\n+[Astro](https://astro.build/) is an all-in-one web framework for building fast, content-focused websites.\n+\n+- **Content-focused:** Astro was designed for content-rich websites.\n+- **Server-first:** Websites run faster when they render HTML on the server.\n+- **Fast by default:** It should be impossible to build a slow website in Astro.\n+- **Easy to use:** You don't need to be an expert to build something with Astro.\n+- **Fully-featured, but flexible:** Over 100+ Astro integrations to choose from.\n+\n+While Astro supports numerous front-end framework [integrations](https://docs.astro.build/en/guides/integrations-guide/#official-integrations) (e.g. React, Vue, SolidJS, etc.) this integration implements [Svelte](https://docs.astro.build/en/guides/integrations-guide/svelte/) components and Astro's [islands architecture](https://docs.astro.build/en/concepts/islands/) for partial hydration. \n+\n+\n+\n+## Svelte Component (Embedded Frame)\n+### remark42-embed.svelte\n+```js\n+<svelte:head>\n+  <script async lang=\"javascript\">\n+    var remark_config = {\n+      host: \"https://your.website.here\",\n+      site_id: \"yourwebsite\",\n+      components: [\"embed\"],\n+      show_rss_subsription: false,\n+      theme: localStorage.getItem(\"color-theme\") ?? \"light\",\n+    };\n+    !(function (e, n) {\n+      for (var o = 0; o < e.length; o++) {\n+        var r = n.createElement(\"script\"),\n+          c = \".js\",\n+          d = n.head || n.body;\n+        \"noModule\" in r ? ((r.type = \"module\"), (c = \".mjs\")) : (r.async = !0),\n+          (r.defer = !0),\n+          (r.src = remark_config.host + \"/web/\" + e[o] + c),\n+          d.appendChild(r);\n+      }\n+    })(remark_config.components || [\"embed\"], document);\n+  </script>\n+</svelte:head>\n+\n+<div id=\"remark42\" />\n+```\n+\n+## Astro Layout (Page)\n+### blogpageLayout.astro (partial Astro layout)\n+```js\n+---\n+...\n+import Remark42Embed from \"../components/remark42-embed.svelte\";\n+\n+export interface Props {\n+  frontmatter: Frontmatter;\n+}\n+\n+const { frontmatter } = Astro.props;\n+---\n+<html lang=\"en\">\n+    ...\n+          <article class=\"markdown\">\n+            <slot />\n+          </article>\n+          {frontmatter.comments && <Remark42Embed client:visible />}\n+    ...\n+</html>\n+```\n+Note the use of the `client:visible` directive which will hydrate the component once the element becomes visible.\n+\n+## Svelte Component (Counter)\n+### remark42-counter.svelte\n+```js\n+<script>\n+  export let url;\n+</script>\n+\n+<svelte:head>\n+  <script async lang=\"javascript\">\n+    var remark_config = {\n+      host: \"https://your.website.here\",\n+      site_id: \"yourwebsite\",\n+      components: [\"counter\"],\n+      show_rss_subsription: false,\n+      theme: localStorage.getItem(\"color-theme\") ?? \"light\",\n+    };\n+    !(function (e, n) {\n+      for (var o = 0; o < e.length; o++) {\n+        var r = n.createElement(\"script\"),\n+          c = \".js\",\n+          d = n.head || n.body;\n+        \"noModule\" in r ? ((r.type = \"module\"), (c = \".mjs\")) : (r.async = !0),\n+          (r.defer = !0),\n+          (r.src = remark_config.host + \"/web/\" + e[o] + c),\n+          d.appendChild(r);\n+      }\n+    })(remark_config.components || [\"embed\"], document);\n+  </script>\n+</svelte:head>\n+\n+<span class=\"remark42__counter\" data-url={url.href} />\n+```\n+\n+## Astro Component (Card)\n+### blogCard.astro (partial Astro component)\n+```js\n+---\n+const { post } = Astro.props;\n+\n+import Remark42Count from \"../components/remark42-count.svelte\";\n+...\n+---\n+<div>\n+    ...\n+    <!-- Read Time & Comment Count -->\n+    {\n+      post.frontmatter.comments && (\n+        <div class=\"my-2 text-center font-Roboto font-light text-gray-600 dark:text-gray-300\">\n+          {post.frontmatter.minutes} minutes &nbsp;&bull;&nbsp;\n+          <Remark42Count url={new URL(post.url, Astro.site)} client:idle /> comments\n+        </div>\n+      )\n+    }\n+    ...\n+</div>\n+```\n+Note the use of the `client:idle` directive which will hydrate the component once the page has completed the initial load.\n\\ No newline at end of file"
    },
    {
      "sha": "7624f011296b4a82c25c0b48e782839a8358329d",
      "filename": "site/src/docs/nav.json",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/umputun/remark42/blob/31ea91afb8ae28bf4fc8b2860fb91ab20e9258e1/site%2Fsrc%2Fdocs%2Fnav.json",
      "raw_url": "https://github.com/umputun/remark42/raw/31ea91afb8ae28bf4fc8b2860fb91ab20e9258e1/site%2Fsrc%2Fdocs%2Fnav.json",
      "contents_url": "https://api.github.com/repos/umputun/remark42/contents/site%2Fsrc%2Fdocs%2Fnav.json?ref=31ea91afb8ae28bf4fc8b2860fb91ab20e9258e1",
      "patch": "@@ -64,6 +64,10 @@\n         \"title\": \"Kubernetes\",\n         \"href\": \"/manuals/kubernetes/\"\n       },\n+      {\n+        \"title\": \"Astro Integration (w/Svelte)\",\n+        \"href\": \"/manuals/integration-with-astro/\"\n+      },\n       {\n         \"title\": \"Gatsby Integration\",\n         \"href\": \"/manuals/integration-with-gatsby/\""
    }
  ]
}
