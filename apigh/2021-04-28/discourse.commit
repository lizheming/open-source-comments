{
  "sha": "8517b6f386b1e73bd264c28d1cda660d8147147b",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODo4NTE3YjZmMzg2YjFlNzNiZDI2NGMyOGQxY2RhNjYwZDgxNDcxNDdi",
  "commit": {
    "author": {
      "name": "Rishabh",
      "email": "rishabh.nambiar@discourse.org",
      "date": "2021-04-28T09:32:55Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2021-04-28T09:32:55Z"
    },
    "message": "DOCS: we use xss.js and not Google Caja (#12866)\n\nThe text is out of date as we migrated to xss.js quite some time ago.",
    "tree": {
      "sha": "e04caf4706775e5f4db0e3d79820e2e885518c2a",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/e04caf4706775e5f4db0e3d79820e2e885518c2a"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/8517b6f386b1e73bd264c28d1cda660d8147147b",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgiSvHCRBK7hj4Ov3rIwAAiL8IAGb5zrllJyhNge1+Yu+wkv0J\n7VGQFEOKbbRqdk/Asw8blruFcopHKBX6eAzwuuWlaetOB5IWihe0ndjjpLfBtlCk\nG3cEW70ExTnPzZvdZ540AhOdf+pq3+8H6Hbst6m4ZPIT6P3FSLj1DwcwB4kbE5o8\nMAiA3EjA/dlSKsoNe1W1MIjFXVkK3nfY+KUnRJ4Wwonza7+ZpbIR7jQ9/LMxL7zq\nCLXhDm+MTaKlz4mQ09wNw2khrc9TSi6OjkDGTv626kK4sdX/BeRrwRJzZlZ7SSNL\nRPxkrGH8vXipU+ZLZU0k0fMz3LAMUPokK8Un+Ph0FML+Qp3He4uq1LKpglx21eM=\n=O4QA\n-----END PGP SIGNATURE-----\n",
      "payload": "tree e04caf4706775e5f4db0e3d79820e2e885518c2a\nparent 6d53005e8b04c3bc0bc96cf5fb13c58d5a68d125\nauthor Rishabh <rishabh.nambiar@discourse.org> 1619602375 +0530\ncommitter GitHub <noreply@github.com> 1619602375 +0530\n\nDOCS: we use xss.js and not Google Caja (#12866)\n\nThe text is out of date as we migrated to xss.js quite some time ago."
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/8517b6f386b1e73bd264c28d1cda660d8147147b",
  "html_url": "https://github.com/discourse/discourse/commit/8517b6f386b1e73bd264c28d1cda660d8147147b",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/8517b6f386b1e73bd264c28d1cda660d8147147b/comments",
  "author": {
    "login": "rishabhnambiar",
    "id": 5862206,
    "node_id": "MDQ6VXNlcjU4NjIyMDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5862206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rishabhnambiar",
    "html_url": "https://github.com/rishabhnambiar",
    "followers_url": "https://api.github.com/users/rishabhnambiar/followers",
    "following_url": "https://api.github.com/users/rishabhnambiar/following{/other_user}",
    "gists_url": "https://api.github.com/users/rishabhnambiar/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rishabhnambiar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rishabhnambiar/subscriptions",
    "organizations_url": "https://api.github.com/users/rishabhnambiar/orgs",
    "repos_url": "https://api.github.com/users/rishabhnambiar/repos",
    "events_url": "https://api.github.com/users/rishabhnambiar/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rishabhnambiar/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "6d53005e8b04c3bc0bc96cf5fb13c58d5a68d125",
      "url": "https://api.github.com/repos/discourse/discourse/commits/6d53005e8b04c3bc0bc96cf5fb13c58d5a68d125",
      "html_url": "https://github.com/discourse/discourse/commit/6d53005e8b04c3bc0bc96cf5fb13c58d5a68d125"
    }
  ],
  "stats": {
    "total": 2,
    "additions": 1,
    "deletions": 1
  },
  "files": [
    {
      "sha": "cd44bf92b4afc3bf6f18c31b761ec600aa989d46",
      "filename": "docs/SECURITY.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/discourse/discourse/blob/8517b6f386b1e73bd264c28d1cda660d8147147b/docs/SECURITY.md",
      "raw_url": "https://github.com/discourse/discourse/raw/8517b6f386b1e73bd264c28d1cda660d8147147b/docs/SECURITY.md",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/docs/SECURITY.md?ref=8517b6f386b1e73bd264c28d1cda660d8147147b",
      "patch": "@@ -25,7 +25,7 @@ There are 3 main scenarios we protect against:\n \n 1. **Markdown preview invokes an XSS.** This is possibly severe in one specific case: when a forum staff member edits a user's post, seeing the raw markup, where a malicious user may have inserted code to run JavaScript. This code would only show up in the preview, but it would run in the context of a forum staff member, which is *very* bad.\n \n-2. **Markdown displayed on the page invokes an XSS.** To protect against client side preview XSS, Discourse uses [Google Caja](https://developers.google.com/caja/) in the preview window.\n+2. **Markdown displayed on the page invokes an XSS.** To protect against client side preview XSS, Discourse uses [xss.js](https://jsxss.com/en/index.html) in the preview window.\n \n 3. **CSP is on by default** for [all Discourse installations](https://meta.discourse.org/t/mitigate-xss-attacks-with-content-security-policy/104243) as of Discourse 2.2. It can be switched off in the site settings, but it is default on.\n "
    }
  ]
}
