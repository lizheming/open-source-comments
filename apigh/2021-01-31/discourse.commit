{
  "sha": "363170513e7be3e7fa1500ac640561e0e3c45e78",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODozNjMxNzA1MTNlN2JlM2U3ZmExNTAwYWM2NDA1NjFlMGUzYzQ1ZTc4",
  "commit": {
    "author": {
      "name": "Kris",
      "email": "kris.aubuchon@discourse.org",
      "date": "2021-01-30T01:28:56Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2021-01-30T01:28:56Z"
    },
    "message": "UX: Allow some overflow in composer preview (#11902)",
    "tree": {
      "sha": "20fae1a4b047a7a181923f5051480527b7a43db5",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/20fae1a4b047a7a181923f5051480527b7a43db5"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/363170513e7be3e7fa1500ac640561e0e3c45e78",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgFLZYCRBK7hj4Ov3rIwAAdHIIAF1JZkCvNIt6HOAtTZnXdOtw\nzubXC7WSxSKMK4h5Zvkm0c+UKMq3kHKcsmaVduVss5xyLpS1lHAZ6Q5V3E+v+Esi\n13TQBRpQr7K1IVI/7Lk2WKxSS+BPmzZDv6hskTR74SwtoxoNZzpcjsRa568g/xEs\nc+juSCJUuer//DC9ax4/3dk28ueoKuc9w2o3r+dlg/KClCbw+s+UvE4yZ9favxnf\nFTALTAhoYUP1p15XK11qLQgjE7cRx7pbAjOJpgLK4LWZOdtsNuRKcoOu2jNFd+mM\ndW6LikFV03Gfh8NJopBi8Yq1YnY30PUNPBfWz51tTPL0gHpZktsLTganyQGaL6c=\n=Blav\n-----END PGP SIGNATURE-----\n",
      "payload": "tree 20fae1a4b047a7a181923f5051480527b7a43db5\nparent ba2f4f3393e824f9ade599d60c74f5c58eda954b\nauthor Kris <kris.aubuchon@discourse.org> 1611970136 -0500\ncommitter GitHub <noreply@github.com> 1611970136 -0500\n\nUX: Allow some overflow in composer preview (#11902)\n\n"
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/363170513e7be3e7fa1500ac640561e0e3c45e78",
  "html_url": "https://github.com/discourse/discourse/commit/363170513e7be3e7fa1500ac640561e0e3c45e78",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/363170513e7be3e7fa1500ac640561e0e3c45e78/comments",
  "author": {
    "login": "awesomerobot",
    "id": 1681963,
    "node_id": "MDQ6VXNlcjE2ODE5NjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1681963?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/awesomerobot",
    "html_url": "https://github.com/awesomerobot",
    "followers_url": "https://api.github.com/users/awesomerobot/followers",
    "following_url": "https://api.github.com/users/awesomerobot/following{/other_user}",
    "gists_url": "https://api.github.com/users/awesomerobot/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/awesomerobot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/awesomerobot/subscriptions",
    "organizations_url": "https://api.github.com/users/awesomerobot/orgs",
    "repos_url": "https://api.github.com/users/awesomerobot/repos",
    "events_url": "https://api.github.com/users/awesomerobot/events{/privacy}",
    "received_events_url": "https://api.github.com/users/awesomerobot/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ba2f4f3393e824f9ade599d60c74f5c58eda954b",
      "url": "https://api.github.com/repos/discourse/discourse/commits/ba2f4f3393e824f9ade599d60c74f5c58eda954b",
      "html_url": "https://github.com/discourse/discourse/commit/ba2f4f3393e824f9ade599d60c74f5c58eda954b"
    }
  ],
  "stats": {
    "total": 20,
    "additions": 15,
    "deletions": 5
  },
  "files": [
    {
      "sha": "4b4ccff2b0731336a46c695e638eb128fbdd04b0",
      "filename": "app/assets/stylesheets/common/d-editor.scss",
      "status": "modified",
      "additions": 8,
      "deletions": 2,
      "changes": 10,
      "blob_url": "https://github.com/discourse/discourse/blob/363170513e7be3e7fa1500ac640561e0e3c45e78/app/assets/stylesheets/common/d-editor.scss",
      "raw_url": "https://github.com/discourse/discourse/raw/363170513e7be3e7fa1500ac640561e0e3c45e78/app/assets/stylesheets/common/d-editor.scss",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/stylesheets/common/d-editor.scss?ref=363170513e7be3e7fa1500ac640561e0e3c45e78",
      "patch": "@@ -95,6 +95,9 @@\n   overflow: auto;\n   cursor: default;\n   -webkit-overflow-scrolling: touch;\n+  // the below gives text little space to overflow without being cropped (e.g., Õ in headings)\n+  padding-top: 1em;\n+  margin-top: -1em;\n }\n \n .d-editor-input,\n@@ -167,12 +170,15 @@\n   }\n   .d-editor-preview-wrapper {\n     max-width: 100%;\n-    margin: 10px 0 0 0;\n+    margin: 0;\n+    padding: 0;\n   }\n   .d-editor-preview {\n     background-color: var(--primary-very-low);\n-    padding: 5px;\n+    margin-top: 1em;\n+    padding: 0.667em;\n     &:empty {\n+      margin: 0;\n       padding: 0;\n     }\n   }"
    },
    {
      "sha": "c3423a356d22e01028442429d19e89ed1360fe77",
      "filename": "app/assets/stylesheets/desktop/compose.scss",
      "status": "modified",
      "additions": 7,
      "deletions": 3,
      "changes": 10,
      "blob_url": "https://github.com/discourse/discourse/blob/363170513e7be3e7fa1500ac640561e0e3c45e78/app/assets/stylesheets/desktop/compose.scss",
      "raw_url": "https://github.com/discourse/discourse/raw/363170513e7be3e7fa1500ac640561e0e3c45e78/app/assets/stylesheets/desktop/compose.scss",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/stylesheets/desktop/compose.scss?ref=363170513e7be3e7fa1500ac640561e0e3c45e78",
      "patch": "@@ -27,20 +27,24 @@\n }\n \n .edit-title {\n+  --overflow-buffer: 1em;\n+  // this gives text little space to overflow without being cropped (e.g., Õ in headings)\n+\n   .d-editor-preview-wrapper {\n-    margin-top: -43px;\n+    margin-top: calc(-41px - var(--overflow-buffer));\n+    padding-top: var(--overflow-buffer);\n   }\n   &:not(.private-message) {\n     .d-editor-preview-wrapper {\n       @media screen and (max-width: 955px) {\n-        margin-top: -77px;\n+        margin-top: calc(-75px - var(--overflow-buffer));\n       }\n     }\n   }\n \n   .with-tags {\n     .d-editor-preview-wrapper {\n-      margin-top: -77px;\n+      margin-top: calc(-75px - var(--overflow-buffer));\n     }\n   }\n }"
    }
  ]
}
