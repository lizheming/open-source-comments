{
  "sha": "293fd1f743b1c8165e1cd06b1169134197a231f7",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODoyOTNmZDFmNzQzYjFjODE2NWUxY2QwNmIxMTY5MTM0MTk3YTIzMWY3",
  "commit": {
    "author": {
      "name": "Osama Sayegh",
      "email": "asooomaasoooma90@gmail.com",
      "date": "2021-02-12T10:51:36Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2021-02-12T10:51:36Z"
    },
    "message": "DEV: Deprecate {{user-selector}} and replace it with {{email-group-user-chooser}} (#12042)\n\n`{{user-selector}}` is now deprecated and it will be removed from core in Discourse 2.8. All instances of `{{user-selector}}` has been replaced with `{{email-group-user-chooser}}`.",
    "tree": {
      "sha": "f0e4a22ab93a5fb241a5e2e79dcfa73c04f94606",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/f0e4a22ab93a5fb241a5e2e79dcfa73c04f94606"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/293fd1f743b1c8165e1cd06b1169134197a231f7",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgJl24CRBK7hj4Ov3rIwAAdHIIAHKmtns4mzlfrip3xHe4PogZ\nezAo1Vae27MUDNOgn8k0wIrnEcjjxtSJuFP8B8phBR3oMLF1wDyP9AaiRo7xPpty\nGrSB1VrM+BVYUr7BihkPpZqiPAl9i1WeKQqhdX03VDov2MnccDpN3ZSp2+B8niP/\ngG5hFEsDPcr6Cm6ew5OUo7ZFDqnkcP+pm8XrSgfWkhn5o1yldIZ4kwEtgtDgPliq\nGC4N3pG78sgwHQOsKRFW1TUhBXwbpMjRultycwafxo3a7JbUfvCGyxsFnCa5HyY7\nZWGGjvle+LAi+xY1oWOy0odP5Eojl77p/jFjE9kC8XkQZnqcpB/6RqsRg8sTf7s=\n=IXBZ\n-----END PGP SIGNATURE-----\n",
      "payload": "tree f0e4a22ab93a5fb241a5e2e79dcfa73c04f94606\nparent 5a11e72c51d2e522b6c52a63dcbf4b5550fb75e2\nauthor Osama Sayegh <asooomaasoooma90@gmail.com> 1613127096 +0300\ncommitter GitHub <noreply@github.com> 1613127096 +0300\n\nDEV: Deprecate {{user-selector}} and replace it with {{email-group-user-chooser}} (#12042)\n\n`{{user-selector}}` is now deprecated and it will be removed from core in Discourse 2.8. All instances of `{{user-selector}}` has been replaced with `{{email-group-user-chooser}}`."
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/293fd1f743b1c8165e1cd06b1169134197a231f7",
  "html_url": "https://github.com/discourse/discourse/commit/293fd1f743b1c8165e1cd06b1169134197a231f7",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/293fd1f743b1c8165e1cd06b1169134197a231f7/comments",
  "author": {
    "login": "OsamaSayegh",
    "id": 17474474,
    "node_id": "MDQ6VXNlcjE3NDc0NDc0",
    "avatar_url": "https://avatars.githubusercontent.com/u/17474474?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/OsamaSayegh",
    "html_url": "https://github.com/OsamaSayegh",
    "followers_url": "https://api.github.com/users/OsamaSayegh/followers",
    "following_url": "https://api.github.com/users/OsamaSayegh/following{/other_user}",
    "gists_url": "https://api.github.com/users/OsamaSayegh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/OsamaSayegh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/OsamaSayegh/subscriptions",
    "organizations_url": "https://api.github.com/users/OsamaSayegh/orgs",
    "repos_url": "https://api.github.com/users/OsamaSayegh/repos",
    "events_url": "https://api.github.com/users/OsamaSayegh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/OsamaSayegh/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "5a11e72c51d2e522b6c52a63dcbf4b5550fb75e2",
      "url": "https://api.github.com/repos/discourse/discourse/commits/5a11e72c51d2e522b6c52a63dcbf4b5550fb75e2",
      "html_url": "https://github.com/discourse/discourse/commit/5a11e72c51d2e522b6c52a63dcbf4b5550fb75e2"
    }
  ],
  "stats": {
    "total": 205,
    "additions": 139,
    "deletions": 66
  },
  "files": [
    {
      "sha": "cc90f9a849af0849d695539b88a31a4d41b3eadb",
      "filename": "app/assets/javascripts/discourse/app/components/user-selector.js",
      "status": "modified",
      "additions": 9,
      "deletions": 0,
      "changes": 9,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/components/user-selector.js",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/components/user-selector.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/components/user-selector.js?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -3,6 +3,7 @@ import TextField from \"discourse/components/text-field\";\n import { findRawTemplate } from \"discourse-common/lib/raw-templates\";\n import { isEmpty } from \"@ember/utils\";\n import userSearch from \"discourse/lib/user-search\";\n+import deprecated from \"discourse-common/lib/deprecated\";\n \n export default TextField.extend({\n   autocorrect: false,\n@@ -12,6 +13,14 @@ export default TextField.extend({\n   single: false,\n   fullWidthWrap: false,\n \n+  @on(\"init\")\n+  deprecateComponent() {\n+    deprecated(\n+      \"`{{user-selector}}` is deprecated. Please use `{{email-group-user-chooser}}` instead.\",\n+      { since: \"2.7\", dropFrom: \"2.8\" }\n+    );\n+  },\n+\n   @bind\n   _paste(event) {\n     let pastedText = \"\";"
    },
    {
      "sha": "fe2a7c537c80c2b14748908b40df9855d92d6011",
      "filename": "app/assets/javascripts/discourse/app/controllers/change-owner.js",
      "status": "modified",
      "additions": 8,
      "deletions": 4,
      "changes": 12,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/change-owner.js",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/change-owner.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/controllers/change-owner.js?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -12,20 +12,20 @@ export default Controller.extend(ModalFunctionality, {\n   topicController: inject(\"topic\"),\n \n   saving: false,\n-  new_user: null,\n+  newOwner: null,\n \n   selectedPostsCount: alias(\"topicController.selectedPostsCount\"),\n   selectedPostsUsername: alias(\"topicController.selectedPostsUsername\"),\n \n-  @discourseComputed(\"saving\", \"new_user\")\n+  @discourseComputed(\"saving\", \"newOwner\")\n   buttonDisabled(saving, newUser) {\n     return saving || isEmpty(newUser);\n   },\n \n   onShow() {\n     this.setProperties({\n       saving: false,\n-      new_user: \"\",\n+      newOwner: null,\n     });\n   },\n \n@@ -35,7 +35,7 @@ export default Controller.extend(ModalFunctionality, {\n \n       const options = {\n         post_ids: this.get(\"topicController.selectedPostIds\"),\n-        username: this.new_user,\n+        username: this.newOwner,\n       };\n \n       Topic.changeOwners(this.get(\"topicController.model.id\"), options).then(\n@@ -57,5 +57,9 @@ export default Controller.extend(ModalFunctionality, {\n \n       return false;\n     },\n+\n+    updateNewOwner(selected) {\n+      this.set(\"newOwner\", selected.firstObject);\n+    },\n   },\n });"
    },
    {
      "sha": "333060a2a5a543cb8f43bb9468bd3e63a2e182db",
      "filename": "app/assets/javascripts/discourse/app/controllers/group-add-members.js",
      "status": "modified",
      "additions": 13,
      "deletions": 24,
      "changes": 37,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/group-add-members.js",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/group-add-members.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/controllers/group-add-members.js?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -6,20 +6,18 @@ import discourseComputed from \"discourse-common/utils/decorators\";\n import { emailValid } from \"discourse/lib/utilities\";\n import { extractError } from \"discourse/lib/ajax-error\";\n import { isEmpty } from \"@ember/utils\";\n+import { reads } from \"@ember/object/computed\";\n \n export default Controller.extend(ModalFunctionality, {\n   loading: false,\n   setAsOwner: false,\n   notifyUsers: false,\n   usernamesAndEmails: null,\n-  usernames: null,\n-  emails: null,\n+  emailsPresent: reads(\"emails.length\"),\n \n   onShow() {\n     this.setProperties({\n-      usernamesAndEmails: \"\",\n-      usernames: [],\n-      emails: [],\n+      usernamesAndEmails: [],\n       setAsOwner: false,\n       notifyUsers: false,\n     });\n@@ -30,15 +28,8 @@ export default Controller.extend(ModalFunctionality, {\n     return loading || !usernamesAndEmails || !(usernamesAndEmails.length > 0);\n   },\n \n-  @discourseComputed(\"usernamesAndEmails\")\n-  emailsPresent() {\n-    this._splitEmailsAndUsernames();\n-    return this.emails.length;\n-  },\n-\n   @discourseComputed(\"usernamesAndEmails\")\n   notifyUsersDisabled() {\n-    this._splitEmailsAndUsernames();\n     return this.usernames.length === 0 && this.emails.length > 0;\n   },\n \n@@ -47,6 +38,16 @@ export default Controller.extend(ModalFunctionality, {\n     return I18n.t(\"groups.add_members.title\", { group_name: fullName || name });\n   },\n \n+  @discourseComputed(\"usernamesAndEmails.[]\")\n+  emails(usernamesAndEmails) {\n+    return usernamesAndEmails.filter(emailValid).join(\",\");\n+  },\n+\n+  @discourseComputed(\"usernamesAndEmails.[]\")\n+  usernames(usernamesAndEmails) {\n+    return usernamesAndEmails.reject(emailValid).join(\",\");\n+  },\n+\n   @action\n   addMembers() {\n     this.set(\"loading\", true);\n@@ -89,16 +90,4 @@ export default Controller.extend(ModalFunctionality, {\n       .catch((error) => this.flash(extractError(error), \"error\"))\n       .finally(() => this.set(\"loading\", false));\n   },\n-\n-  _splitEmailsAndUsernames() {\n-    let emails = [];\n-    let usernames = [];\n-\n-    this.usernamesAndEmails.split(\",\").forEach((u) => {\n-      emailValid(u) ? emails.push(u) : usernames.push(u);\n-    });\n-\n-    this.set(\"emails\", emails.join(\",\"));\n-    this.set(\"usernames\", usernames.join(\",\"));\n-  },\n });"
    },
    {
      "sha": "ebb683bdc4dd99bb69ce5ffaa0d3c8f7e5ab592a",
      "filename": "app/assets/javascripts/discourse/app/controllers/groups-new.js",
      "status": "modified",
      "additions": 21,
      "deletions": 0,
      "changes": 21,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/groups-new.js",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/groups-new.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/controllers/groups-new.js?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -4,6 +4,7 @@ import { action } from \"@ember/object\";\n import { ajax } from \"discourse/lib/ajax\";\n import bootbox from \"bootbox\";\n import { popupAjaxError } from \"discourse/lib/ajax-error\";\n+import discourseComputed from \"discourse-common/utils/decorators\";\n \n export function popupAutomaticMembershipAlert(group_id, email_domains) {\n   if (!email_domains) {\n@@ -37,6 +38,16 @@ export function popupAutomaticMembershipAlert(group_id, email_domains) {\n export default Controller.extend({\n   saving: null,\n \n+  @discourseComputed(\"model.ownerUsernames\")\n+  splitOwnerUsernames(owners) {\n+    return owners && owners.length ? owners.split(\",\") : [];\n+  },\n+\n+  @discourseComputed(\"model.usernames\")\n+  splitUsernames(usernames) {\n+    return usernames && usernames.length ? usernames.split(\",\") : [];\n+  },\n+\n   @action\n   save() {\n     this.set(\"saving\", true);\n@@ -55,4 +66,14 @@ export default Controller.extend({\n       .catch(popupAjaxError)\n       .finally(() => this.set(\"saving\", false));\n   },\n+\n+  @action\n+  updateOwnerUsernames(selected) {\n+    this.set(\"model.ownerUsernames\", selected.join(\",\"));\n+  },\n+\n+  @action\n+  updateUsernames(selected) {\n+    this.set(\"model.usernames\", selected.join(\",\"));\n+  },\n });"
    },
    {
      "sha": "b142e3741c171acb1c7c3ac1cee805b0520f53cf",
      "filename": "app/assets/javascripts/discourse/app/controllers/ignore-duration-with-username.js",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/ignore-duration-with-username.js",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/ignore-duration-with-username.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/controllers/ignore-duration-with-username.js?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -29,5 +29,9 @@ export default Controller.extend(ModalFunctionality, {\n           .finally(() => this.set(\"loading\", false));\n       });\n     },\n+\n+    updateIgnoredUsername(selected) {\n+      this.set(\"ignoredUsername\", selected.firstObject);\n+    },\n   },\n });"
    },
    {
      "sha": "ad4df9e79eb16768f68c81d4f82caccdeed1164c",
      "filename": "app/assets/javascripts/discourse/app/controllers/move-to-topic.js",
      "status": "modified",
      "additions": 2,
      "deletions": 2,
      "changes": 4,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/move-to-topic.js",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/move-to-topic.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/controllers/move-to-topic.js?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -80,7 +80,7 @@ export default Controller.extend(ModalFunctionality, {\n       categoryId: null,\n       topicName: \"\",\n       tags: null,\n-      participants: null,\n+      participants: [],\n     });\n \n     const isPrivateMessage = this.get(\"model.isPrivateMessage\");\n@@ -133,7 +133,7 @@ export default Controller.extend(ModalFunctionality, {\n       } else if (type === \"existingMessage\") {\n         mergeOptions = {\n           destination_topic_id: this.selectedTopicId,\n-          participants: this.participants,\n+          participants: this.participants.join(\",\"),\n           archetype: \"private_message\",\n         };\n         moveOptions = Object.assign("
    },
    {
      "sha": "dc28bf6558e20db1b991b267b75cd16edb704ece",
      "filename": "app/assets/javascripts/discourse/app/controllers/review-index.js",
      "status": "modified",
      "additions": 8,
      "deletions": 0,
      "changes": 8,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/review-index.js",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/controllers/review-index.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/controllers/review-index.js?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -170,5 +170,13 @@ export default Controller.extend({\n     toggleFilters() {\n       this.toggleProperty(\"filtersExpanded\");\n     },\n+\n+    updateFilterReviewedBy(selected) {\n+      this.set(\"filterReviewedBy\", selected.firstObject);\n+    },\n+\n+    updateFilterUsername(selected) {\n+      this.set(\"filterUsername\", selected.firstObject);\n+    },\n   },\n });"
    },
    {
      "sha": "fbb44248f03cf96369d49dd59ef3f222951f7f83",
      "filename": "app/assets/javascripts/discourse/app/templates/groups/new.hbs",
      "status": "modified",
      "additions": 18,
      "deletions": 8,
      "changes": 26,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/groups/new.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/groups/new.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/templates/groups/new.hbs?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -8,19 +8,29 @@\n       <div class=\"control-group\">\n         <label class=\"control-label\" for=\"owner-selector\">{{i18n \"admin.groups.add_owners\"}}</label>\n \n-        {{user-selector usernames=model.ownerUsernames\n-            class=\"input-xxlarge\"\n-            placeholderKey=\"groups.selector_placeholder\"\n-            id=\"owner-selector\"}}\n+        {{email-group-user-chooser\n+          class=\"input-xxlarge\"\n+          id=\"owner-selector\"\n+          value=splitOwnerUsernames\n+          onChange=(action \"updateOwnerUsernames\")\n+          options=(hash\n+            filterPlaceholder=\"groups.selector_placeholder\"\n+          )\n+        }}\n       </div>\n \n       <div class=\"control-group\">\n         <label class=\"control-label\" for=\"member-selector\">{{i18n \"groups.members.title\"}}</label>\n \n-        {{user-selector usernames=model.usernames\n-            class=\"input-xxlarge\"\n-            placeholderKey=\"groups.selector_placeholder\"\n-            id=\"member-selector\"}}\n+        {{email-group-user-chooser\n+          class=\"input-xxlarge\"\n+          id=\"member-selector\"\n+          value=splitUsernames\n+          onChange=(action \"updateUsernames\")\n+          options=(hash\n+            filterPlaceholder=\"groups.selector_placeholder\"\n+          )\n+        }}\n       </div>\n     {{/groups-form-profile-fields}}\n "
    },
    {
      "sha": "2665d84734cd856a8108c28305804dc362e4614f",
      "filename": "app/assets/javascripts/discourse/app/templates/modal/change-owner.hbs",
      "status": "modified",
      "additions": 10,
      "deletions": 5,
      "changes": 15,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/modal/change-owner.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/modal/change-owner.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/templates/modal/change-owner.hbs?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -9,11 +9,16 @@\n \n   <form>\n     <label></label>\n-    {{user-selector single=\"true\"\n-                    usernames=new_user\n-                    placeholderKey=\"topic.change_owner.placeholder\"\n-                    autocomplete=\"discourse\"\n-                    autofocus=true}}\n+    {{email-group-user-chooser\n+      value=newOwner\n+      autocomplete=\"discourse\"\n+      autofocus=true\n+      onChange=(action \"updateNewOwner\")\n+      options=(hash\n+        maximum=1\n+        filterPlaceholder=\"topic.change_owner.placeholder\"\n+      )\n+    }}\n   </form>\n {{/d-modal-body}}\n "
    },
    {
      "sha": "5e0e9cd718f62b89e3564d4f65c462e1e666a0d6",
      "filename": "app/assets/javascripts/discourse/app/templates/modal/group-add-members.hbs",
      "status": "modified",
      "additions": 9,
      "deletions": 5,
      "changes": 14,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/modal/group-add-members.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/modal/group-add-members.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/templates/modal/group-add-members.hbs?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -8,12 +8,16 @@\n         {{i18n \"groups.add_members.description\"}}\n       </p>\n \n-      {{user-selector\n-          class=\"input-xxlarge\"\n-          usernames=usernamesAndEmails\n+      {{email-group-user-chooser\n+        class=\"input-xxlarge\"\n+        value=usernamesAndEmails\n+        id=\"group-add-members-user-selector\"\n+        onChange=(action (mut usernamesAndEmails))\n+        options=(hash\n           allowEmails=true\n-          placeholderKey=\"groups.add_members.input_placeholder\"\n-          id=\"group-add-members-user-selector\"}}\n+          filterPlaceholder=\"groups.add_members.input_placeholder\"\n+        )\n+      }}\n     </div>\n \n     {{#if model.can_admin_group}}"
    },
    {
      "sha": "84bef934e398cf5b761c52d76e5ffba5e106a07e",
      "filename": "app/assets/javascripts/discourse/app/templates/modal/ignore-duration-with-username.hbs",
      "status": "modified",
      "additions": 8,
      "deletions": 4,
      "changes": 12,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/modal/ignore-duration-with-username.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/modal/ignore-duration-with-username.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/templates/modal/ignore-duration-with-username.hbs?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -1,10 +1,14 @@\n {{#d-modal-body title=\"user.user_notifications.ignore_duration_title\" autoFocus=\"false\"}}\n   <div class=\"controls tracking-controls\">\n     <label>{{d-icon \"far-eye-slash\" class=\"icon\"}} {{i18n \"user.user_notifications.ignore_duration_username\"}}</label>\n-    {{user-selector excludeCurrentUser=true\n-                    single=true\n-                    class=\"user-selector\"\n-                    usernames=ignoredUsername}}\n+    {{email-group-user-chooser\n+      value=ignoredUsername\n+      onChange=(action \"updateIgnoredUsername\")\n+      options=(hash\n+        excludeCurrentUser=true\n+        maximum=1\n+      )\n+    }}\n   </div>\n   {{future-date-input\n     label=\"user.user_notifications.ignore_duration_when\""
    },
    {
      "sha": "9a867e9f8135bd7a38e4fd6e22a24e23ba5c79b4",
      "filename": "app/assets/javascripts/discourse/app/templates/modal/move-to-topic.hbs",
      "status": "modified",
      "additions": 5,
      "deletions": 1,
      "changes": 6,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/modal/move-to-topic.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/modal/move-to-topic.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/templates/modal/move-to-topic.hbs?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -36,7 +36,11 @@\n         {{choose-message currentTopicId=model.id selectedTopicId=selectedTopicId}}\n \n         <label>{{i18n \"topic.move_to_new_message.participants\"}}</label>\n-        {{user-selector usernames=participants class=\"participant-selector\"}}\n+        {{email-group-user-chooser\n+          class=\"participant-selector\"\n+          value=participants\n+          onChange=(action (mut participants))\n+        }}\n       </form>\n     {{/if}}\n "
    },
    {
      "sha": "ef93c02fe719872a3d1e18e189c9aaba23fa8f5f",
      "filename": "app/assets/javascripts/discourse/app/templates/review-index.hbs",
      "status": "modified",
      "additions": 18,
      "deletions": 13,
      "changes": 31,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/review-index.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/discourse/app/templates/review-index.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/templates/review-index.hbs?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -60,24 +60,29 @@\n \n       <div class=\"reviewable-filter topic-filter\">\n         {{i18n \"review.filtered_reviewed_by\"}}\n-        {{user-selector\n-          excludeCurrentUser=false\n-          usernames=filterReviewedBy\n-          fullWidthWrap=true\n-          single=true\n-          class=\"user-selector\"\n-          canReceiveUpdates=true}}\n+        {{email-group-user-chooser\n+          value=filterReviewedBy\n+          onChange=(action \"updateFilterReviewedBy\")\n+          options=(hash\n+            maximum=1\n+            excludeCurrentUser=false\n+            fullWidthWrap=true\n+          )\n+        }}\n       </div>\n \n       <div class=\"reviewable-filter topic-filter\">\n         {{i18n \"review.filtered_user\"}}\n-        {{user-selector\n-          excludeCurrentUser=false\n-          usernames=filterUsername\n-          fullWidthWrap=true\n-          single=true\n+        {{email-group-user-chooser\n+          value=filterUsername\n+          onChange=(action \"updateFilterUsername\")\n           class=\"user-selector\"\n-          canReceiveUpdates=true}}\n+          options=(hash\n+            maximum=1\n+            excludeCurrentUser=false\n+            fullWidthWrap=true\n+          )\n+        }}\n       </div>\n \n       {{#if filterTopic}}"
    },
    {
      "sha": "7923147906e15f72c22565d82701946dccdc83ef",
      "filename": "app/assets/javascripts/select-kit/addon/components/email-group-user-chooser.js",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "changes": 2,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/select-kit/addon/components/email-group-user-chooser.js",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/javascripts/select-kit/addon/components/email-group-user-chooser.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/select-kit/addon/components/email-group-user-chooser.js?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -3,6 +3,7 @@ import UserChooserComponent from \"select-kit/components/user-chooser\";\n export default UserChooserComponent.extend({\n   pluginApiIdentifiers: [\"email-group-user-chooser\"],\n   classNames: [\"email-group-user-chooser\"],\n+  classNameBindings: [\"selectKit.options.fullWidthWrap:full-width-wrap\"],\n   valueProperty: \"id\",\n   nameProperty: \"name\",\n \n@@ -13,6 +14,7 @@ export default UserChooserComponent.extend({\n   selectKitOptions: {\n     headerComponent: \"email-group-user-chooser-header\",\n     filterComponent: \"email-group-user-chooser-filter\",\n+    fullWidthWrap: false,\n     autoWrap: false,\n   },\n "
    },
    {
      "sha": "599f95ecf0d469dfef56aed2a6732ed22f8ee136",
      "filename": "app/assets/stylesheets/common/select-kit/email-group-user-chooser.scss",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/discourse/discourse/blob/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/stylesheets/common/select-kit/email-group-user-chooser.scss",
      "raw_url": "https://github.com/discourse/discourse/raw/293fd1f743b1c8165e1cd06b1169134197a231f7/app/assets/stylesheets/common/select-kit/email-group-user-chooser.scss",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/stylesheets/common/select-kit/email-group-user-chooser.scss?ref=293fd1f743b1c8165e1cd06b1169134197a231f7",
      "patch": "@@ -1,4 +1,8 @@\n .select-kit.email-group-user-chooser {\n+  &.full-width-wrap {\n+    width: unset;\n+  }\n+\n   .select-kit-row.email-group-user-chooser-row {\n     .identifier {\n       color: var(--primary);"
    }
  ]
}
