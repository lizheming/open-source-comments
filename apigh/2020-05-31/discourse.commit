{
  "sha": "f2647f1f36c95db004f6054a8db12311d8b2b890",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODpmMjY0N2YxZjM2Yzk1ZGIwMDRmNjA1NGE4ZGIxMjMxMWQ4YjJiODkw",
  "commit": {
    "author": {
      "name": "Penar Musaraj",
      "email": "pmusaraj@gmail.com",
      "date": "2020-05-30T19:32:57Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2020-05-30T19:32:57Z"
    },
    "message": "UX: Position topic admin menu next to wrench (#9932)",
    "tree": {
      "sha": "b20de584c38a267b4ecd109ab01d6da3f75c4dfd",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/b20de584c38a267b4ecd109ab01d6da3f75c4dfd"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/f2647f1f36c95db004f6054a8db12311d8b2b890",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJe0rTpCRBK7hj4Ov3rIwAAdHIIAFSFzfD/RCOlw83AKqvuBafe\nGuDakSxpMRSu8LsNCWbp6kYTAOlQnPBSqgfpySYcZPLZdQ7mZ3YQ3sTgqy/Il3ST\no+e2ysByCL3Yqpbs3qX3OljXS3HFGbFo4ME4+FtzeDY4Y4ZvuWEdTRmimDYI1K4Q\nJSN6IYOOzFBUkHEMd/bxxpBJJQ24YxYyq9x03tl5j9wu41BY4yLnKGXxfQToTDlh\nIiVon38reDSi9z3nOmy39UxFD+VphQCnH8NwXmy+qG1r9xbGKfAK26DrviooBCs7\nQ4GYgbVyubaBdRpjYn6H1VAaJcOvBy1egCUClmttx+DZj1WAqxnRerG/P+NoBNE=\n=Qc6o\n-----END PGP SIGNATURE-----\n",
      "payload": "tree b20de584c38a267b4ecd109ab01d6da3f75c4dfd\nparent e1af91f5aeaf5d19837544adab416b6ae3559e0f\nauthor Penar Musaraj <pmusaraj@gmail.com> 1590867177 -0400\ncommitter GitHub <noreply@github.com> 1590867177 -0400\n\nUX: Position topic admin menu next to wrench (#9932)\n\n"
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/f2647f1f36c95db004f6054a8db12311d8b2b890",
  "html_url": "https://github.com/discourse/discourse/commit/f2647f1f36c95db004f6054a8db12311d8b2b890",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/f2647f1f36c95db004f6054a8db12311d8b2b890/comments",
  "author": {
    "login": "pmusaraj",
    "id": 368961,
    "node_id": "MDQ6VXNlcjM2ODk2MQ==",
    "avatar_url": "https://avatars1.githubusercontent.com/u/368961?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pmusaraj",
    "html_url": "https://github.com/pmusaraj",
    "followers_url": "https://api.github.com/users/pmusaraj/followers",
    "following_url": "https://api.github.com/users/pmusaraj/following{/other_user}",
    "gists_url": "https://api.github.com/users/pmusaraj/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pmusaraj/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pmusaraj/subscriptions",
    "organizations_url": "https://api.github.com/users/pmusaraj/orgs",
    "repos_url": "https://api.github.com/users/pmusaraj/repos",
    "events_url": "https://api.github.com/users/pmusaraj/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pmusaraj/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "e1af91f5aeaf5d19837544adab416b6ae3559e0f",
      "url": "https://api.github.com/repos/discourse/discourse/commits/e1af91f5aeaf5d19837544adab416b6ae3559e0f",
      "html_url": "https://github.com/discourse/discourse/commit/e1af91f5aeaf5d19837544adab416b6ae3559e0f"
    }
  ],
  "stats": {
    "total": 16,
    "additions": 14,
    "deletions": 2
  },
  "files": [
    {
      "sha": "2ba85dabc8db0d38699e0e6dccb0656d03416399",
      "filename": "app/assets/javascripts/discourse/app/widgets/topic-admin-menu.js",
      "status": "modified",
      "additions": 14,
      "deletions": 2,
      "changes": 16,
      "blob_url": "https://github.com/discourse/discourse/blob/f2647f1f36c95db004f6054a8db12311d8b2b890/app/assets/javascripts/discourse/app/widgets/topic-admin-menu.js",
      "raw_url": "https://github.com/discourse/discourse/raw/f2647f1f36c95db004f6054a8db12311d8b2b890/app/assets/javascripts/discourse/app/widgets/topic-admin-menu.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/widgets/topic-admin-menu.js?ref=f2647f1f36c95db004f6054a8db12311d8b2b890",
      "patch": "@@ -90,19 +90,31 @@ createWidget(\"topic-admin-menu-button\", {\n       $button = $(e.target).closest(\"button\");\n     }\n \n-    const position = $button.position();\n+    const position = $button.position(),\n+      SPACING = 3,\n+      MENU_WIDTH = 217;\n \n     const rtl = $(\"html\").hasClass(\"rtl\");\n     position.outerHeight = $button.outerHeight();\n \n     if (rtl) {\n-      position.left -= 217 - $button.outerWidth();\n+      position.left -= MENU_WIDTH - $button.outerWidth();\n     }\n \n     if (this.attrs.fixed) {\n       position.left += $button.width() - 203;\n     }\n \n+    if (this.attrs.openUpwards) {\n+      if (rtl) {\n+        position.left -= $button[0].offsetWidth + SPACING;\n+      } else {\n+        position.left += $button[0].offsetWidth + SPACING;\n+      }\n+    } else {\n+      position.top += $button[0].offsetHeight + SPACING;\n+    }\n+\n     if (this.site.mobileView && !this.attrs.rightSide) {\n       const headerCloak = document.querySelector(\".header-cloak\");\n       if (headerCloak) headerCloak.style.display = \"block\";"
    }
  ]
}
