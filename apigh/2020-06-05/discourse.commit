{
  "sha": "1c48853edeb84f8d7a50ed8ac26bead0ec1ad105",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODoxYzQ4ODUzZWRlYjg0ZjhkN2E1MGVkOGFjMjZiZWFkMGVjMWFkMTA1",
  "commit": {
    "author": {
      "name": "Sam Saffron",
      "email": "sam.saffron@gmail.com",
      "date": "2020-06-05T08:26:25Z"
    },
    "committer": {
      "name": "Sam Saffron",
      "email": "sam.saffron@gmail.com",
      "date": "2020-06-05T08:26:25Z"
    },
    "message": "DEV: allow skipping of a single plugin when installing\n\nSKIP_INSTALL_PLUGINS can be used to tell plugin:install_all_official\nto skip a plugin.\n\nComma seperated list",
    "tree": {
      "sha": "ab93a9ce06def4f82bb5649712e08a66249a15f2",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/ab93a9ce06def4f82bb5649712e08a66249a15f2"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/1c48853edeb84f8d7a50ed8ac26bead0ec1ad105",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEOSsR4Zg5f63AmUE+uWBhaNL/2fUFAl7aAbEACgkQuWBhaNL/\n2fUFaBAAlN2r2Cq1mk885pGrT7CpJzsNTXo4fxpj2M8+2xg/CejpBXH8PWzTHpCU\nFPe/bHoToE9Euc430CwMFEmry6TJMDvazmEEMo5OlH9D3JKsyRryY7O5DViULbpP\nqWrDbGJ9XsX7Ql1SiheEvltAVhFz88cxMzp+sBjGEYYait3lFogtwuNH3YlenS+/\npCZlYidB3F+4ZsTJ5tGfRBXhUOF6050poV9BpngRUgL4kZSRBWFXru1ifdMIL5KW\ntt+cqBkjqr/Ux/D5V04tuqeEhXWhGwcT9q4hwcm43wNnTJcba+XqhJtLpafOK2FQ\nd0p6lI1erHxwIw++otf8slFDt81MazeE2QkQ53ri5mQFvMGfPkR5SA2j2UdETRbW\ntAjJO+XMKPIGTRiDglIaTFgnxPXK7iLk2dWEJChxNdZ2UIfyKyE9KrOqSbBAcINV\nQIKCvVAwJXL9dinpGeCZpMo98cvAElUpYCzLX5UAH+4QqBQMCiwlRRvleAo0Xqjx\nJyW6JBdOBuyp4RTbHLK2ekYBzgYBTcw99RvBC4iDKGp67UYRbzBNMtNm2VGqryac\n9tZsNwRxJiuukcWkeHt8Q9rjJK5C1o6bNmdIbLHddWVUyWXqciPszfaaVjhCe0hD\nawfBYyeGe977lwUcpNT5PQ/48kasZPCP5/L1HORN+yCZ8SGUhU8=\n=xg7w\n-----END PGP SIGNATURE-----",
      "payload": "tree ab93a9ce06def4f82bb5649712e08a66249a15f2\nparent ded5ebb5ae5c937105aae2a4d6b7883da0dda9d0\nauthor Sam Saffron <sam.saffron@gmail.com> 1591345585 +1000\ncommitter Sam Saffron <sam.saffron@gmail.com> 1591345585 +1000\n\nDEV: allow skipping of a single plugin when installing\n\nSKIP_INSTALL_PLUGINS can be used to tell plugin:install_all_official\nto skip a plugin.\n\nComma seperated list\n"
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/1c48853edeb84f8d7a50ed8ac26bead0ec1ad105",
  "html_url": "https://github.com/discourse/discourse/commit/1c48853edeb84f8d7a50ed8ac26bead0ec1ad105",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/1c48853edeb84f8d7a50ed8ac26bead0ec1ad105/comments",
  "author": {
    "login": "SamSaffron",
    "id": 5213,
    "node_id": "MDQ6VXNlcjUyMTM=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/5213?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SamSaffron",
    "html_url": "https://github.com/SamSaffron",
    "followers_url": "https://api.github.com/users/SamSaffron/followers",
    "following_url": "https://api.github.com/users/SamSaffron/following{/other_user}",
    "gists_url": "https://api.github.com/users/SamSaffron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SamSaffron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SamSaffron/subscriptions",
    "organizations_url": "https://api.github.com/users/SamSaffron/orgs",
    "repos_url": "https://api.github.com/users/SamSaffron/repos",
    "events_url": "https://api.github.com/users/SamSaffron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SamSaffron/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "SamSaffron",
    "id": 5213,
    "node_id": "MDQ6VXNlcjUyMTM=",
    "avatar_url": "https://avatars1.githubusercontent.com/u/5213?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SamSaffron",
    "html_url": "https://github.com/SamSaffron",
    "followers_url": "https://api.github.com/users/SamSaffron/followers",
    "following_url": "https://api.github.com/users/SamSaffron/following{/other_user}",
    "gists_url": "https://api.github.com/users/SamSaffron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SamSaffron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SamSaffron/subscriptions",
    "organizations_url": "https://api.github.com/users/SamSaffron/orgs",
    "repos_url": "https://api.github.com/users/SamSaffron/repos",
    "events_url": "https://api.github.com/users/SamSaffron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SamSaffron/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "ded5ebb5ae5c937105aae2a4d6b7883da0dda9d0",
      "url": "https://api.github.com/repos/discourse/discourse/commits/ded5ebb5ae5c937105aae2a4d6b7883da0dda9d0",
      "html_url": "https://github.com/discourse/discourse/commit/ded5ebb5ae5c937105aae2a4d6b7883da0dda9d0"
    }
  ],
  "stats": {
    "total": 5,
    "additions": 5,
    "deletions": 0
  },
  "files": [
    {
      "sha": "fb706a8f6f1db9f086a9dbd4bc8579e1389762d0",
      "filename": "lib/tasks/docker.rake",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "changes": 1,
      "blob_url": "https://github.com/discourse/discourse/blob/1c48853edeb84f8d7a50ed8ac26bead0ec1ad105/lib/tasks/docker.rake",
      "raw_url": "https://github.com/discourse/discourse/raw/1c48853edeb84f8d7a50ed8ac26bead0ec1ad105/lib/tasks/docker.rake",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/lib/tasks/docker.rake?ref=1c48853edeb84f8d7a50ed8ac26bead0ec1ad105",
      "patch": "@@ -8,6 +8,7 @@\n # => SKIP_TESTS                set to 1 to skip all tests\n # => SKIP_CORE                 set to 1 to skip core tests (rspec and qunit)\n # => SKIP_PLUGINS              set to 1 to skip plugin tests (rspec and qunit)\n+# => SKIP_INSTALL_PLUGINS      comma seperated list of plugins you want to skip installing\n # => INSTALL_OFFICIAL_PLUGINS  set to 1 to install all core plugins before running tests\n # => RUBY_ONLY                 set to 1 to skip all qunit tests\n # => JS_ONLY                   set to 1 to skip all rspec tests"
    },
    {
      "sha": "693f7ef81797899911edce44c2b0f77be7fd47c8",
      "filename": "lib/tasks/plugin.rake",
      "status": "modified",
      "additions": 4,
      "deletions": 0,
      "changes": 4,
      "blob_url": "https://github.com/discourse/discourse/blob/1c48853edeb84f8d7a50ed8ac26bead0ec1ad105/lib/tasks/plugin.rake",
      "raw_url": "https://github.com/discourse/discourse/raw/1c48853edeb84f8d7a50ed8ac26bead0ec1ad105/lib/tasks/plugin.rake",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/lib/tasks/plugin.rake?ref=1c48853edeb84f8d7a50ed8ac26bead0ec1ad105",
      "patch": "@@ -11,6 +11,10 @@ task 'plugin:install_all_official' do\n     'poll'\n   ])\n \n+  if skip_install = ENV[\"SKIP_INSTALL_PLUGINS\"]\n+    skip_install.split(\",\").map(&:strip).each { |plugin| skip << plugin  }\n+  end\n+\n   map = {\n     'Canned Replies' => 'https://github.com/discourse/discourse-canned-replies',\n     'discourse-perspective' => 'https://github.com/discourse/discourse-perspective-api'"
    }
  ]
}
