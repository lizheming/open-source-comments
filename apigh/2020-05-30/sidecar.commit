{
  "sha": "08fb97336b2412a966fa82c183f712a5240ae64d",
  "node_id": "MDY6Q29tbWl0OTE5NzMzMTE6MDhmYjk3MzM2YjI0MTJhOTY2ZmE4MmMxODNmNzEyYTUyNDBhZTY0ZA==",
  "commit": {
    "author": {
      "name": "Philipp Hauer",
      "email": "info@philipphauer.de",
      "date": "2020-05-29T23:01:50Z"
    },
    "committer": {
      "name": "Philipp Hauer",
      "email": "info@philipphauer.de",
      "date": "2020-05-29T23:01:50Z"
    },
    "message": "test: use a python mysql lib that is more actively developed",
    "tree": {
      "sha": "ee4399b5df86873d43bd387ac2d4997dd38772d8",
      "url": "https://api.github.com/repos/phauer/comment-sidecar/git/trees/ee4399b5df86873d43bd387ac2d4997dd38772d8"
    },
    "url": "https://api.github.com/repos/phauer/comment-sidecar/git/commits/08fb97336b2412a966fa82c183f712a5240ae64d",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null
    }
  },
  "url": "https://api.github.com/repos/phauer/comment-sidecar/commits/08fb97336b2412a966fa82c183f712a5240ae64d",
  "html_url": "https://github.com/phauer/comment-sidecar/commit/08fb97336b2412a966fa82c183f712a5240ae64d",
  "comments_url": "https://api.github.com/repos/phauer/comment-sidecar/commits/08fb97336b2412a966fa82c183f712a5240ae64d/comments",
  "author": {
    "login": "phauer",
    "id": 6293139,
    "node_id": "MDQ6VXNlcjYyOTMxMzk=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6293139?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/phauer",
    "html_url": "https://github.com/phauer",
    "followers_url": "https://api.github.com/users/phauer/followers",
    "following_url": "https://api.github.com/users/phauer/following{/other_user}",
    "gists_url": "https://api.github.com/users/phauer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/phauer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/phauer/subscriptions",
    "organizations_url": "https://api.github.com/users/phauer/orgs",
    "repos_url": "https://api.github.com/users/phauer/repos",
    "events_url": "https://api.github.com/users/phauer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/phauer/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "phauer",
    "id": 6293139,
    "node_id": "MDQ6VXNlcjYyOTMxMzk=",
    "avatar_url": "https://avatars2.githubusercontent.com/u/6293139?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/phauer",
    "html_url": "https://github.com/phauer",
    "followers_url": "https://api.github.com/users/phauer/followers",
    "following_url": "https://api.github.com/users/phauer/following{/other_user}",
    "gists_url": "https://api.github.com/users/phauer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/phauer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/phauer/subscriptions",
    "organizations_url": "https://api.github.com/users/phauer/orgs",
    "repos_url": "https://api.github.com/users/phauer/repos",
    "events_url": "https://api.github.com/users/phauer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/phauer/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "176eb5dd6e93f0576b15e8a27b64828a95852c29",
      "url": "https://api.github.com/repos/phauer/comment-sidecar/commits/176eb5dd6e93f0576b15e8a27b64828a95852c29",
      "html_url": "https://github.com/phauer/comment-sidecar/commit/176eb5dd6e93f0576b15e8a27b64828a95852c29"
    }
  ],
  "stats": {
    "total": 121,
    "additions": 88,
    "deletions": 33
  },
  "files": [
    {
      "sha": "2875d7bdcdcfd024d8bb06bbfd665ad8bf6f5be1",
      "filename": "TODO.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/phauer/comment-sidecar/blob/08fb97336b2412a966fa82c183f712a5240ae64d/TODO.md",
      "raw_url": "https://github.com/phauer/comment-sidecar/raw/08fb97336b2412a966fa82c183f712a5240ae64d/TODO.md",
      "contents_url": "https://api.github.com/repos/phauer/comment-sidecar/contents/TODO.md?ref=08fb97336b2412a966fa82c183f712a5240ae64d",
      "patch": "@@ -2,8 +2,8 @@\n \n - dedicated domain\n - rewrite disqus export: use exportable XML as an input (instead of the API)\n+    - test import script with IT blog\n - migration: add column for (disqus) avatars urls\n-- test import script with IT blog\n - pagination\n - rate limit (use dedicated table for this; POSTs are rare and can be a little slower; slow down attacker anyway). clean up job via web cron\n "
    },
    {
      "sha": "68ef8305f2fa8867c9e0684b6f4295436a280a08",
      "filename": "poetry.lock",
      "status": "modified",
      "additions": 81,
      "deletions": 25,
      "changes": 106,
      "blob_url": "https://github.com/phauer/comment-sidecar/blob/08fb97336b2412a966fa82c183f712a5240ae64d/poetry.lock",
      "raw_url": "https://github.com/phauer/comment-sidecar/raw/08fb97336b2412a966fa82c183f712a5240ae64d/poetry.lock",
      "contents_url": "https://api.github.com/repos/phauer/comment-sidecar/contents/poetry.lock?ref=08fb97336b2412a966fa82c183f712a5240ae64d",
      "patch": "@@ -30,15 +30,15 @@ docs = [\"sphinx\", \"zope.interface\"]\n tests = [\"coverage\", \"hypothesis\", \"pympler\", \"pytest (>=4.3.0)\", \"six\", \"zope.interface\"]\n \n [[package]]\n-category = \"dev\"\n+category = \"main\"\n description = \"Python package for providing Mozilla's CA Bundle.\"\n name = \"certifi\"\n optional = false\n python-versions = \"*\"\n version = \"2020.4.5.1\"\n \n [[package]]\n-category = \"dev\"\n+category = \"main\"\n description = \"Universal encoding detector for Python 2 and 3\"\n name = \"chardet\"\n optional = false\n@@ -55,7 +55,7 @@ python-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, !=3.4.*\"\n version = \"0.4.3\"\n \n [[package]]\n-category = \"dev\"\n+category = \"main\"\n description = \"Internationalized Domain Names in Applications (IDNA)\"\n name = \"idna\"\n optional = false\n@@ -70,6 +70,20 @@ optional = false\n python-versions = \">=3.5\"\n version = \"8.3.0\"\n \n+[[package]]\n+category = \"main\"\n+description = \"MySQL driver written in Python\"\n+name = \"mysql-connector-python\"\n+optional = false\n+python-versions = \"*\"\n+version = \"8.0.20\"\n+\n+[package.dependencies]\n+protobuf = \">=3.0.0\"\n+\n+[package.extras]\n+dns-srv = [\"dnspython (>=1.16.0)\"]\n+\n [[package]]\n category = \"dev\"\n description = \"Core utilities for Python packages\"\n@@ -83,7 +97,7 @@ pyparsing = \">=2.0.2\"\n six = \"*\"\n \n [[package]]\n-category = \"dev\"\n+category = \"main\"\n description = \"A module wrapper for os.path\"\n name = \"path\"\n optional = false\n@@ -95,7 +109,7 @@ docs = [\"sphinx\", \"jaraco.packaging (>=3.2)\", \"rst.linker (>=1.9)\"]\n testing = [\"pytest (>=3.5,<3.7.3 || >3.7.3)\", \"pytest-checkdocs (>=1.2.3)\", \"pytest-flake8\", \"pytest-black-multipy\", \"pytest-cov\", \"appdirs\", \"packaging\", \"pygments\"]\n \n [[package]]\n-category = \"dev\"\n+category = \"main\"\n description = \"A module wrapper for os.path\"\n name = \"path.py\"\n optional = false\n@@ -120,6 +134,18 @@ version = \"0.13.1\"\n [package.extras]\n dev = [\"pre-commit\", \"tox\"]\n \n+[[package]]\n+category = \"main\"\n+description = \"Protocol Buffers\"\n+name = \"protobuf\"\n+optional = false\n+python-versions = \"*\"\n+version = \"3.12.2\"\n+\n+[package.dependencies]\n+setuptools = \"*\"\n+six = \">=1.9\"\n+\n [[package]]\n category = \"dev\"\n description = \"library with cross-python path, ini-parsing, io, code, log facilities\"\n@@ -128,17 +154,6 @@ optional = false\n python-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*\"\n version = \"1.8.1\"\n \n-[[package]]\n-category = \"dev\"\n-description = \"Pure Python MySQL Driver\"\n-name = \"pymysql\"\n-optional = false\n-python-versions = \"*\"\n-version = \"0.9.3\"\n-\n-[package.extras]\n-rsa = [\"cryptography\"]\n-\n [[package]]\n category = \"dev\"\n description = \"Python parsing module\"\n@@ -170,7 +185,7 @@ checkqa-mypy = [\"mypy (v0.761)\"]\n testing = [\"argcomplete\", \"hypothesis (>=3.56)\", \"mock\", \"nose\", \"requests\", \"xmlschema\"]\n \n [[package]]\n-category = \"dev\"\n+category = \"main\"\n description = \"Extensions to the standard Python datetime module\"\n name = \"python-dateutil\"\n optional = false\n@@ -181,7 +196,7 @@ version = \"2.8.1\"\n six = \">=1.5\"\n \n [[package]]\n-category = \"dev\"\n+category = \"main\"\n description = \"Python HTTP for Humans.\"\n name = \"requests\"\n optional = false\n@@ -199,15 +214,15 @@ security = [\"pyOpenSSL (>=0.14)\", \"cryptography (>=1.3.4)\"]\n socks = [\"PySocks (>=1.5.6,<1.5.7 || >1.5.7)\", \"win-inet-pton\"]\n \n [[package]]\n-category = \"dev\"\n+category = \"main\"\n description = \"Python 2 and 3 compatibility utilities\"\n name = \"six\"\n optional = false\n python-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*\"\n version = \"1.15.0\"\n \n [[package]]\n-category = \"dev\"\n+category = \"main\"\n description = \"HTTP library with thread-safe connection pooling, file post, and more.\"\n name = \"urllib3\"\n optional = false\n@@ -228,7 +243,7 @@ python-versions = \"*\"\n version = \"0.1.9\"\n \n [metadata]\n-content-hash = \"c6c156ff0d420a24e03dfd23b784679e3c91da1c7c23f0ae4126e7eb51bf68db\"\n+content-hash = \"f2d58694e26d0728eea70d2c73210f97666ba8830898899c7923707518786d7d\"\n python-versions = \"^3.8\"\n \n [metadata.files]\n@@ -263,6 +278,31 @@ more-itertools = [\n     {file = \"more-itertools-8.3.0.tar.gz\", hash = \"sha256:558bb897a2232f5e4f8e2399089e35aecb746e1f9191b6584a151647e89267be\"},\n     {file = \"more_itertools-8.3.0-py3-none-any.whl\", hash = \"sha256:7818f596b1e87be009031c7653d01acc46ed422e6656b394b0f765ce66ed4982\"},\n ]\n+mysql-connector-python = [\n+    {file = \"mysql-connector-python-8.0.20.tar.gz\", hash = \"sha256:bd1f1a57e9c89d6bf49b408c6fe151aad8c318237f2983dfc5b9a8202c6d20de\"},\n+    {file = \"mysql_connector_python-8.0.20-cp27-cp27m-macosx_10_14_x86_64.whl\", hash = \"sha256:1b6f1dbe964990604782e55c5570a8a968ba1da7371ad75ed4ddd8be0129c0cf\"},\n+    {file = \"mysql_connector_python-8.0.20-cp27-cp27m-manylinux1_i686.whl\", hash = \"sha256:a22183b55a3e5725a350b76f9ef6898573c808cb63a465b4bd78f860dfb6ed8d\"},\n+    {file = \"mysql_connector_python-8.0.20-cp27-cp27m-manylinux1_x86_64.whl\", hash = \"sha256:3b6b271de5664a2ac155954f38c09b6362f321f00734ff1f421e7ab721c7f98b\"},\n+    {file = \"mysql_connector_python-8.0.20-cp27-cp27mu-manylinux1_i686.whl\", hash = \"sha256:0f847818de953ebf53028fedfcb5622e11d226f01b1c5a93010063f78ab95b34\"},\n+    {file = \"mysql_connector_python-8.0.20-cp27-cp27mu-manylinux1_x86_64.whl\", hash = \"sha256:cbe901254597db9937b8dee4fe56c148fcfb792389f753fa35fff3696d04e5fa\"},\n+    {file = \"mysql_connector_python-8.0.20-cp35-cp35m-macosx_10_14_x86_64.whl\", hash = \"sha256:ffe0bdd9b22a987028ca4e70df770edef987d54899ac5029c364d9c3c04e9e9d\"},\n+    {file = \"mysql_connector_python-8.0.20-cp35-cp35m-manylinux1_i686.whl\", hash = \"sha256:86b7fac171a4433a9c263ab74d59ca4cf0c2941765f2f9a0cd1925295f04838f\"},\n+    {file = \"mysql_connector_python-8.0.20-cp35-cp35m-manylinux1_x86_64.whl\", hash = \"sha256:829ff16c18900ca25af0007de027c796161ed8711ae22cc50a785e8e1e2f756a\"},\n+    {file = \"mysql_connector_python-8.0.20-cp35-cp35m-win_amd64.whl\", hash = \"sha256:584098ce99bc81ca71fcc5664228a1aea901e26b473f39c6b4d9945abb641421\"},\n+    {file = \"mysql_connector_python-8.0.20-cp36-cp36m-macosx_10_14_x86_64.whl\", hash = \"sha256:88ecd6318e71d0a250efa016e80cfdcb987e7ce21793569b1751c20d3d022bb0\"},\n+    {file = \"mysql_connector_python-8.0.20-cp36-cp36m-manylinux1_i686.whl\", hash = \"sha256:37e1da0f78f1df38a33ccfe8431edd59cfdcbf249f56820028898cf5acbba0a5\"},\n+    {file = \"mysql_connector_python-8.0.20-cp36-cp36m-manylinux1_x86_64.whl\", hash = \"sha256:1ed1f29e8db935c30b33b9d137660f70a71d8757a99e16e3f51a40867f6c5ec0\"},\n+    {file = \"mysql_connector_python-8.0.20-cp36-cp36m-win_amd64.whl\", hash = \"sha256:f23c8ddc1550def024ea708d2aa7c999f301cd45ff17ca7bf9a762b48f0d4513\"},\n+    {file = \"mysql_connector_python-8.0.20-cp37-cp37m-macosx_10_14_x86_64.whl\", hash = \"sha256:2c126e929aa6b725d921a5c02e8b6ce999a8f3113494ca9fc94b3f1cbbdf3095\"},\n+    {file = \"mysql_connector_python-8.0.20-cp37-cp37m-manylinux1_i686.whl\", hash = \"sha256:eec4c549d96d9678fe9df663226fc175562dcd7187af892bfe4711c9a0d99228\"},\n+    {file = \"mysql_connector_python-8.0.20-cp37-cp37m-manylinux1_x86_64.whl\", hash = \"sha256:c20dd01dee6212deb56d3df985fe9927a571000327251177d69f05a40c11ac19\"},\n+    {file = \"mysql_connector_python-8.0.20-cp37-cp37m-win_amd64.whl\", hash = \"sha256:9ba98169e360a4e8739803d7ebce5de693dc4cd5634a62eafb3b2bc3c7f0d7c4\"},\n+    {file = \"mysql_connector_python-8.0.20-cp38-cp38-macosx_10_14_x86_64.whl\", hash = \"sha256:4de6f599ec48e7807cc73812f43f2be22a2d7859310c6d99cf51ed436d41b4e5\"},\n+    {file = \"mysql_connector_python-8.0.20-cp38-cp38-manylinux1_i686.whl\", hash = \"sha256:541394d10909aa379d396953bc4a3071aed754157d42de4ffd8ada91f15a4f1b\"},\n+    {file = \"mysql_connector_python-8.0.20-cp38-cp38-manylinux1_x86_64.whl\", hash = \"sha256:7d7fb72758e5e11db4b946b342330c136034d1cf6759be9b182e17d619897de2\"},\n+    {file = \"mysql_connector_python-8.0.20-cp38-cp38m-win_amd64.whl\", hash = \"sha256:7bdb4e94462e91d10c7bf809c122db1459917d80202fe5cb88c6c04481b1a303\"},\n+    {file = \"mysql_connector_python-8.0.20-py2.py3-none-any.whl\", hash = \"sha256:0f4cf26d89a7d99ec215e01e47bac40935dc80c573005395dbc18890856f87a5\"},\n+]\n packaging = [\n     {file = \"packaging-20.4-py2.py3-none-any.whl\", hash = \"sha256:998416ba6962ae7fbd6596850b80e17859a5753ba17c32284f67bfff33784181\"},\n     {file = \"packaging-20.4.tar.gz\", hash = \"sha256:4357f74f47b9c12db93624a82154e9b120fa8293699949152b22065d556079f8\"},\n@@ -279,14 +319,30 @@ pluggy = [\n     {file = \"pluggy-0.13.1-py2.py3-none-any.whl\", hash = \"sha256:966c145cd83c96502c3c3868f50408687b38434af77734af1e9ca461a4081d2d\"},\n     {file = \"pluggy-0.13.1.tar.gz\", hash = \"sha256:15b2acde666561e1298d71b523007ed7364de07029219b604cf808bfa1c765b0\"},\n ]\n+protobuf = [\n+    {file = \"protobuf-3.12.2-cp27-cp27m-macosx_10_9_x86_64.whl\", hash = \"sha256:e1464a4a2cf12f58f662c8e6421772c07947266293fb701cb39cd9c1e183f63c\"},\n+    {file = \"protobuf-3.12.2-cp27-cp27mu-manylinux1_x86_64.whl\", hash = \"sha256:6f349adabf1c004aba53f7b4633459f8ca8a09654bf7e69b509c95a454755776\"},\n+    {file = \"protobuf-3.12.2-cp35-cp35m-macosx_10_9_intel.whl\", hash = \"sha256:be04fe14ceed7f8641e30f36077c1a654ff6f17d0c7a5283b699d057d150d82a\"},\n+    {file = \"protobuf-3.12.2-cp35-cp35m-manylinux1_x86_64.whl\", hash = \"sha256:f4b73736108a416c76c17a8a09bc73af3d91edaa26c682aaa460ef91a47168d3\"},\n+    {file = \"protobuf-3.12.2-cp35-cp35m-win32.whl\", hash = \"sha256:5524c7020eb1fb7319472cb75c4c3206ef18b34d6034d2ee420a60f99cddeb07\"},\n+    {file = \"protobuf-3.12.2-cp35-cp35m-win_amd64.whl\", hash = \"sha256:bff02030bab8b969f4de597543e55bd05e968567acb25c0a87495a31eb09e925\"},\n+    {file = \"protobuf-3.12.2-cp36-cp36m-macosx_10_9_x86_64.whl\", hash = \"sha256:c9ca9f76805e5a637605f171f6c4772fc4a81eced4e2f708f79c75166a2c99ea\"},\n+    {file = \"protobuf-3.12.2-cp36-cp36m-manylinux1_x86_64.whl\", hash = \"sha256:304e08440c4a41a0f3592d2a38934aad6919d692bb0edfb355548786728f9a5e\"},\n+    {file = \"protobuf-3.12.2-cp36-cp36m-win32.whl\", hash = \"sha256:b5a114ea9b7fc90c2cc4867a866512672a47f66b154c6d7ee7e48ddb68b68122\"},\n+    {file = \"protobuf-3.12.2-cp36-cp36m-win_amd64.whl\", hash = \"sha256:85b94d2653b0fdf6d879e39d51018bf5ccd86c81c04e18a98e9888694b98226f\"},\n+    {file = \"protobuf-3.12.2-cp37-cp37m-macosx_10_9_x86_64.whl\", hash = \"sha256:a7ab28a8f1f043c58d157bceb64f80e4d2f7f1b934bc7ff5e7f7a55a337ea8b0\"},\n+    {file = \"protobuf-3.12.2-cp37-cp37m-manylinux1_x86_64.whl\", hash = \"sha256:eafe9fa19fcefef424ee089fb01ac7177ff3691af7cc2ae8791ae523eb6ca907\"},\n+    {file = \"protobuf-3.12.2-cp37-cp37m-win32.whl\", hash = \"sha256:612bc97e42b22af10ba25e4140963fbaa4c5181487d163f4eb55b0b15b3dfcd2\"},\n+    {file = \"protobuf-3.12.2-cp37-cp37m-win_amd64.whl\", hash = \"sha256:e72736dd822748b0721f41f9aaaf6a5b6d5cfc78f6c8690263aef8bba4457f0e\"},\n+    {file = \"protobuf-3.12.2-cp38-cp38-macosx_10_9_x86_64.whl\", hash = \"sha256:87535dc2d2ef007b9d44e309d2b8ea27a03d2fa09556a72364d706fcb7090828\"},\n+    {file = \"protobuf-3.12.2-cp38-cp38-manylinux1_x86_64.whl\", hash = \"sha256:50b5fee674878b14baea73b4568dc478c46a31dd50157a5b5d2f71138243b1a9\"},\n+    {file = \"protobuf-3.12.2-py2.py3-none-any.whl\", hash = \"sha256:a96f8fc625e9ff568838e556f6f6ae8eca8b4837cdfb3f90efcb7c00e342a2eb\"},\n+    {file = \"protobuf-3.12.2.tar.gz\", hash = \"sha256:49ef8ab4c27812a89a76fa894fe7a08f42f2147078392c0dee51d4a444ef6df5\"},\n+]\n py = [\n     {file = \"py-1.8.1-py2.py3-none-any.whl\", hash = \"sha256:c20fdd83a5dbc0af9efd622bee9a5564e278f6380fffcacc43ba6f43db2813b0\"},\n     {file = \"py-1.8.1.tar.gz\", hash = \"sha256:5e27081401262157467ad6e7f851b7aa402c5852dbcb3dae06768434de5752aa\"},\n ]\n-pymysql = [\n-    {file = \"PyMySQL-0.9.3-py2.py3-none-any.whl\", hash = \"sha256:3943fbbbc1e902f41daf7f9165519f140c4451c179380677e6a848587042561a\"},\n-    {file = \"PyMySQL-0.9.3.tar.gz\", hash = \"sha256:d8c059dcd81dedb85a9f034d5e22dcb4442c0b201908bede99e306d65ea7c8e7\"},\n-]\n pyparsing = [\n     {file = \"pyparsing-2.4.7-py2.py3-none-any.whl\", hash = \"sha256:ef9d7589ef3c200abe66653d3f1ab1033c3c419ae9b9bdb1240a85b024efc88b\"},\n     {file = \"pyparsing-2.4.7.tar.gz\", hash = \"sha256:c203ec8783bf771a155b207279b9bccb8dea02d8f0c9e5f8ead507bc3246ecc1\"},"
    },
    {
      "sha": "ea3144214a0f0a87b0e536f7ae26ab725c988f8e",
      "filename": "pyproject.toml",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "changes": 2,
      "blob_url": "https://github.com/phauer/comment-sidecar/blob/08fb97336b2412a966fa82c183f712a5240ae64d/pyproject.toml",
      "raw_url": "https://github.com/phauer/comment-sidecar/raw/08fb97336b2412a966fa82c183f712a5240ae64d/pyproject.toml",
      "contents_url": "https://api.github.com/repos/phauer/comment-sidecar/contents/pyproject.toml?ref=08fb97336b2412a966fa82c183f712a5240ae64d",
      "patch": "@@ -6,11 +6,11 @@ authors = [\"Philipp Hauer\"]\n \n [tool.poetry.dependencies]\n python = \"^3.8\"\n-PyMySQL = \"^0.9.3\"\n requests = \"^2.23.0\"\n \"path.py\" = \"^12.4.0\"\n python-dateutil = \"^2.8.1\"\n assertpy = \"^1.0\"\n+mysql-connector-python = \"^8.0.20\"\n \n [tool.poetry.dev-dependencies]\n pytest = \"^5.4.2\""
    },
    {
      "sha": "c8f5358f11b7b0cbd85f7a2aad439866a238d647",
      "filename": "test/test_comment_sidecar.py",
      "status": "modified",
      "additions": 5,
      "deletions": 6,
      "changes": 11,
      "blob_url": "https://github.com/phauer/comment-sidecar/blob/08fb97336b2412a966fa82c183f712a5240ae64d/test/test_comment_sidecar.py",
      "raw_url": "https://github.com/phauer/comment-sidecar/raw/08fb97336b2412a966fa82c183f712a5240ae64d/test/test_comment_sidecar.py",
      "contents_url": "https://api.github.com/repos/phauer/comment-sidecar/contents/test/test_comment_sidecar.py?ref=08fb97336b2412a966fa82c183f712a5240ae64d",
      "patch": "@@ -1,9 +1,8 @@\n #!/usr/bin/env python3\n \n-import pymysql\n import pytest\n import requests\n-from pymysql.constants.CLIENT import MULTI_STATEMENTS\n+from mysql.connector import connect\n from requests.models import Response\n import unittest\n import hashlib\n@@ -22,12 +21,12 @@\n UNSUBSCRIBE_URL = 'http://localhost/unsubscribe.php'\n MAILHOG_BASE_URL = 'http://localhost:8025/api/'\n MAILHOG_MESSAGES_URL = MAILHOG_BASE_URL + 'v2/messages'\n-MYSQLDB_CONNECTION = {'host': '127.0.0.1', 'port': 3306, 'user': 'root', 'passwd': 'root', 'db': 'comment-sidecar', 'client_flag': MULTI_STATEMENTS}\n+MYSQLDB_CONNECTION = {'host': '127.0.0.1', 'port': 3306, 'user': 'root', 'passwd': 'root', 'db': 'comment-sidecar'}\n \n @pytest.fixture\n def db():\n     # first, run `docker-compose up`\n-    db = pymysql.connect(**MYSQLDB_CONNECTION)\n+    db = connect(**MYSQLDB_CONNECTION)\n     cur = db.cursor()\n     with get_sql_file_path().open('r') as sql:\n         query = \"\".join(sql.readlines())\n@@ -413,7 +412,7 @@ def test_unsubscribe_wrong_id(db):\n # PRIVATE functions\n \n def assume_subscription_state_in_db(comment_id, expected_subscription_state):\n-    db = pymysql.connect(**MYSQLDB_CONNECTION)\n+    db = connect(**MYSQLDB_CONNECTION)\n     cur = db.cursor()\n     cur.execute(\"SELECT subscribed FROM comments WHERE id = {}\".format(comment_id))\n     subscribed = cur.fetchone()[0]\n@@ -423,7 +422,7 @@ def assume_subscription_state_in_db(comment_id, expected_subscription_state):\n         assert_that(subscribed).described_as('subscribed state').is_equal_to(0)\n \n def retrieve_unsubscribe_token_from_db(comment_id):\n-    db = pymysql.connect(**MYSQLDB_CONNECTION)\n+    db = connect(**MYSQLDB_CONNECTION)\n     cur = db.cursor()\n     cur.execute(\"SELECT unsubscribe_token FROM comments WHERE id = {}\".format(comment_id))\n     return cur.fetchone()[0]"
    }
  ]
}
