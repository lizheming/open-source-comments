{
  "sha": "f51093dde755737657013f185ff576c87dab0f3b",
  "node_id": "MDY6Q29tbWl0NzU2OTU3ODpmNTEwOTNkZGU3NTU3Mzc2NTcwMTNmMTg1ZmY1NzZjODdkYWIwZjNi",
  "commit": {
    "author": {
      "name": "Joffrey JAFFEUX",
      "email": "j.jaffeux@gmail.com",
      "date": "2020-05-27T10:10:27Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2020-05-27T10:10:27Z"
    },
    "message": "FIX: correctly set values and defaults for group-form-interaction-fields (#9891)",
    "tree": {
      "sha": "b03830f4fd367c73e88ea1a6d31359c2515d215a",
      "url": "https://api.github.com/repos/discourse/discourse/git/trees/b03830f4fd367c73e88ea1a6d31359c2515d215a"
    },
    "url": "https://api.github.com/repos/discourse/discourse/git/commits/f51093dde755737657013f185ff576c87dab0f3b",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJezjyTCRBK7hj4Ov3rIwAAdHIIAJpRJCmzCz1fQqt0jHmfkzbF\nUxT83PfmXg72okdOc+qg1PZFPyH4P+wb1VF/lsJM8deX/oTmq54F0DE0u8BvMyg8\nWLB1NrBT35jvS7O94vMMoJvpLcJYsiJPP6x/dqIEPPojnllAqbttxFoA8XVTID+8\nMsofMDfJmESsHl4bIZnjqui4nZLy0k0+ykPzjRoKwwBVBPv9Q85/N/tXzyd6lkJK\nMqI07SLPR5pbfL3Ch8bBJTTj2D7SjFqk77xyIRGpF8OCeiwkIcihCtE7Yrowrj9g\nyqLVOx1D8OkdumSrBvZWIpR2wX8VL3zzq7pTj6EcpNEEbQJLmD/M17POK7Y6R4Q=\n=m4A4\n-----END PGP SIGNATURE-----\n",
      "payload": "tree b03830f4fd367c73e88ea1a6d31359c2515d215a\nparent 1d685c22af5e45adc334d5c683178b324f3cb415\nauthor Joffrey JAFFEUX <j.jaffeux@gmail.com> 1590574227 +0200\ncommitter GitHub <noreply@github.com> 1590574227 +0200\n\nFIX: correctly set values and defaults for group-form-interaction-fields (#9891)\n\n"
    }
  },
  "url": "https://api.github.com/repos/discourse/discourse/commits/f51093dde755737657013f185ff576c87dab0f3b",
  "html_url": "https://github.com/discourse/discourse/commit/f51093dde755737657013f185ff576c87dab0f3b",
  "comments_url": "https://api.github.com/repos/discourse/discourse/commits/f51093dde755737657013f185ff576c87dab0f3b/comments",
  "author": {
    "login": "jjaffeux",
    "id": 339945,
    "node_id": "MDQ6VXNlcjMzOTk0NQ==",
    "avatar_url": "https://avatars3.githubusercontent.com/u/339945?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jjaffeux",
    "html_url": "https://github.com/jjaffeux",
    "followers_url": "https://api.github.com/users/jjaffeux/followers",
    "following_url": "https://api.github.com/users/jjaffeux/following{/other_user}",
    "gists_url": "https://api.github.com/users/jjaffeux/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jjaffeux/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jjaffeux/subscriptions",
    "organizations_url": "https://api.github.com/users/jjaffeux/orgs",
    "repos_url": "https://api.github.com/users/jjaffeux/repos",
    "events_url": "https://api.github.com/users/jjaffeux/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jjaffeux/received_events",
    "type": "User",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "1d685c22af5e45adc334d5c683178b324f3cb415",
      "url": "https://api.github.com/repos/discourse/discourse/commits/1d685c22af5e45adc334d5c683178b324f3cb415",
      "html_url": "https://github.com/discourse/discourse/commit/1d685c22af5e45adc334d5c683178b324f3cb415"
    }
  ],
  "stats": {
    "total": 31,
    "additions": 24,
    "deletions": 7
  },
  "files": [
    {
      "sha": "d241176c3848bcaf541d1b00270a6386fbc79899",
      "filename": "app/assets/javascripts/discourse/app/components/groups-form-interaction-fields.js",
      "status": "modified",
      "additions": 16,
      "deletions": 0,
      "changes": 16,
      "blob_url": "https://github.com/discourse/discourse/blob/f51093dde755737657013f185ff576c87dab0f3b/app/assets/javascripts/discourse/app/components/groups-form-interaction-fields.js",
      "raw_url": "https://github.com/discourse/discourse/raw/f51093dde755737657013f185ff576c87dab0f3b/app/assets/javascripts/discourse/app/components/groups-form-interaction-fields.js",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/components/groups-form-interaction-fields.js?ref=f51093dde755737657013f185ff576c87dab0f3b",
      "patch": "@@ -1,5 +1,6 @@\n import I18n from \"I18n\";\n import Component from \"@ember/component\";\n+import { or } from \"@ember/object/computed\";\n import discourseComputed from \"discourse-common/utils/decorators\";\n \n export default Component.extend({\n@@ -47,6 +48,21 @@ export default Component.extend({\n     ];\n   },\n \n+  membersVisibilityLevel: or(\n+    \"model.members_visibility_level\",\n+    \"visibilityLevelOptions.firstObject.value\"\n+  ),\n+\n+  messageableLevel: or(\n+    \"model.messageable_level\",\n+    \"aliasLevelOptions.firstObject.value\"\n+  ),\n+\n+  mentionableLevel: or(\n+    \"model.mentionable_level\",\n+    \"aliasLevelOptions.firstObject.value\"\n+  ),\n+\n   @discourseComputed(\n     \"siteSettings.email_in\",\n     \"model.automatic\","
    },
    {
      "sha": "07cf33c540c53058f276c78bc5db7e69a804e145",
      "filename": "app/assets/javascripts/discourse/app/templates/components/groups-form-interaction-fields.hbs",
      "status": "modified",
      "additions": 8,
      "deletions": 7,
      "changes": 15,
      "blob_url": "https://github.com/discourse/discourse/blob/f51093dde755737657013f185ff576c87dab0f3b/app/assets/javascripts/discourse/app/templates/components/groups-form-interaction-fields.hbs",
      "raw_url": "https://github.com/discourse/discourse/raw/f51093dde755737657013f185ff576c87dab0f3b/app/assets/javascripts/discourse/app/templates/components/groups-form-interaction-fields.hbs",
      "contents_url": "https://api.github.com/repos/discourse/discourse/contents/app/assets/javascripts/discourse/app/templates/components/groups-form-interaction-fields.hbs?ref=f51093dde755737657013f185ff576c87dab0f3b",
      "patch": "@@ -22,11 +22,12 @@\n     <label for=\"visiblity\">{{i18n \"admin.groups.manage.interaction.members_visibility_levels.title\"}}</label>\n \n     {{combo-box name=\"alias\"\n-        valueProperty=\"value\"\n-        value=model.members_visibility_level\n-        content=visibilityLevelOptions\n-        castInteger=true\n-        class=\"groups-form-members-visibility-level\"}}\n+      valueProperty=\"value\"\n+      value=membersVisibilityLevel\n+      content=visibilityLevelOptions\n+      class=\"groups-form-members-visibility-level\"\n+      onChange=(action (mut model.members_visibility_level))\n+    }}\n \n     <div class=\"control-instructions\">\n       {{i18n \"admin.groups.manage.interaction.members_visibility_levels.description\"}}\n@@ -41,7 +42,7 @@\n   {{combo-box\n     name=\"alias\"\n     valueProperty=\"value\"\n-    value=model.mentionable_level\n+    value=mentionableLevel\n     content=aliasLevelOptions\n     class=\"groups-form-mentionable-level\"\n     onChange=(action (mut model.mentionable_level))\n@@ -54,7 +55,7 @@\n   {{combo-box\n     name=\"alias\"\n     valueProperty=\"value\"\n-    value=model.messageable_level\n+    value=messageableLevel\n     content=aliasLevelOptions\n     class=\"groups-form-messageable-level\"\n     onChange=(action (mut model.messageable_level))"
    }
  ]
}
